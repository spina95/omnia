import{a as R}from"./chunk-UF3PHFPK.js";import{Db as D,Ia as E,K as w,L as C,Ma as S,Qa as c,W as f,Wa as l,X as h,Xa as r,Y as v,Ya as s,Za as x,ca as I,dc as z,eb as _,ec as P,fb as m,ha as M,hb as a,ja as T,lc as V,oa as O,rb as g,sb as k,vb as u,xb as b,ya as y,za as o}from"./chunk-EARLM4X2.js";var F=class i{THEME_STORAGE_KEY="omnia-theme";isDarkMode=M(!0);constructor(){this.loadTheme(),T(()=>{let t=this.isDarkMode();this.applyTheme(t),this.saveTheme(t)})}loadTheme(){let t=localStorage.getItem(this.THEME_STORAGE_KEY);if(t==="light")this.isDarkMode.set(!1);else if(t==="dark")this.isDarkMode.set(!0);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;this.isDarkMode.set(e)}}saveTheme(t){localStorage.setItem(this.THEME_STORAGE_KEY,t?"dark":"light")}applyTheme(t){t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}toggleTheme(){this.isDarkMode.update(t=>!t)}setTheme(t){this.isDarkMode.set(t)}setLightMode(){this.setTheme(!1)}setDarkMode(){this.setTheme(!0)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})};function H(i,t){if(i&1&&(r(0,"label",11),u(1),s()),i&2){let e=a();o(),b(" ",e.label," ")}}function N(i,t){if(i&1&&(r(0,"span",12),u(1),s()),i&2){let e=a();o(),b(" ",e.placeholder," ")}}function j(i,t){if(i&1&&x(0,"span",20),i&2){let e=a().$implicit;g("background",e.color)}}function B(i,t){if(i&1){let e=_();r(0,"span",15),c(1,j,1,2,"span",16),u(2),r(3,"button",17),m("click",function(d){let p=f(e).$implicit,$=a(2);return h($.removeOption(p.id,d))}),v(),r(4,"svg",18),x(5,"path",19),s()()()}if(i&2){let e=t.$implicit;g("color",e.color||"#18181b")("dark:color",e.color||"#e2e8f0"),o(),l("ngIf",e.color),o(),b(" ",e.name," ")}}function G(i,t){if(i&1&&(r(0,"span",13),c(1,B,6,6,"span",14),s()),i&2){let e=a();o(),l("ngForOf",e.getSelectedOptions())}}function K(i,t){if(i&1&&(r(0,"span",21),u(1),s()),i&2){let e=a();o(),b(" ",e.selectedIds.length," selected ")}}function W(i,t){if(i&1&&x(0,"span",30),i&2){let e=a().$implicit;g("background",e.color)}}function Y(i,t){if(i&1){let e=_();r(0,"div",26),m("click",function(){let d=f(e).$implicit,p=a(2);return h(p.toggleOption(d.id))}),r(1,"input",27),m("change",function(){let d=f(e).$implicit,p=a(2);return h(p.toggleOption(d.id))})("click",function(d){return f(e),h(d.stopPropagation())}),s(),r(2,"span",28),c(3,W,1,2,"span",29),r(4,"span",21),u(5),s()()()}if(i&2){let e=t.$implicit,n=a(2);o(),k("bg-brand",n.isSelected(e.id)),l("checked",n.isSelected(e.id)),o(2),l("ngIf",e.color),o(),g("color",e.color||"#18181b")("dark:color",e.color||"#e2e8f0"),o(),b(" ",e.name," ")}}function q(i,t){i&1&&(r(0,"div",31),u(1," No options available "),s())}function U(i,t){if(i&1){let e=_();r(0,"div",22),m("click",function(d){return f(e),h(d.stopPropagation())}),r(1,"div",23),c(2,Y,6,9,"div",24)(3,q,2,0,"div",25),s()()}if(i&2){let e=a();g("position","fixed")("width",e.dropdownWidth,"px")("top",e.dropdownTop,"px")("left",e.dropdownLeft,"px"),o(2),l("ngForOf",e.options),o(),l("ngIf",e.options.length===0)}}var L=class i{constructor(t){this.elementRef=t}options=[];placeholder="Select options...";label="";selectionChange=new I;selectedIds=[];isOpen=!1;dropdownWidth=0;dropdownTop=0;dropdownLeft=0;onChange=t=>{};onTouched=()=>{};ngOnInit(){this.selectedIds||(this.selectedIds=[])}writeValue(t){this.selectedIds=t?[...t]:[]}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}toggleOption(t){this.selectedIds.indexOf(t)>-1?this.selectedIds=this.selectedIds.filter(n=>n!==t):this.selectedIds=[...this.selectedIds,t],this.onChange([...this.selectedIds]),this.onTouched(),this.selectionChange.emit([...this.selectedIds])}isSelected(t){return this.selectedIds.includes(t)}getSelectedOptions(){return this.options.filter(t=>this.selectedIds.includes(t.id))}toggleDropdown(){this.isOpen=!this.isOpen,this.isOpen&&(this.calculateDropdownPosition(),this.onTouched())}calculateDropdownPosition(){let t=this.elementRef.nativeElement.querySelector("button");if(t){let e=t.getBoundingClientRect();this.dropdownWidth=e.width,this.dropdownTop=e.bottom+4,this.dropdownLeft=e.left}}onDocumentClick(t){this.isOpen&&!this.elementRef.nativeElement.contains(t.target)&&(this.isOpen=!1)}closeDropdown(){this.isOpen=!1}removeOption(t,e){e.stopPropagation(),this.toggleOption(t)}getDisplayText(){return this.selectedIds.length===0?this.placeholder:this.selectedIds.length===1?this.options.find(e=>e.id===this.selectedIds[0])?.name||this.placeholder:`${this.selectedIds.length} selected`}static \u0275fac=function(e){return new(e||i)(E(O))};static \u0275cmp=S({type:i,selectors:[["app-multiselect"]],hostBindings:function(e,n){e&1&&m("click",function(p){return n.onDocumentClick(p)},y)},inputs:{options:"options",placeholder:"placeholder",label:"label"},outputs:{selectionChange:"selectionChange"},features:[D([{provide:R,useExisting:w(()=>i),multi:!0}])],decls:11,vars:7,consts:[[1,"relative","w-full"],["class","block text-sm font-medium text-zinc-700 dark:text-slate-300 mb-2 transition-colors duration-200",4,"ngIf"],[1,"relative"],["type","button",1,"w-full","bg-dark-blue-light","dark:bg-dark-blue","border","border-zinc-300","dark:border-sidebar-border","text-zinc-900","dark:text-white","text-sm","rounded-md","px-4","py-2.5","h-10","focus:outline-none","focus:ring-2","focus:ring-brand","flex","items-center","justify-between","hover:border-zinc-400","dark:hover:border-sidebar-border/80","transition-colors","duration-200",3,"click"],[1,"flex","items-center","gap-2","flex-wrap","flex-1"],["class","text-zinc-400 dark:text-slate-400 transition-colors duration-200",4,"ngIf"],["class","flex items-center gap-2 flex-wrap",4,"ngIf"],["class","text-zinc-900 dark:text-slate-200 transition-colors duration-200",4,"ngIf"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4","text-zinc-500","dark:text-slate-400","flex-shrink-0","ml-2","transition-all","duration-200"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],["class","z-[99999] mt-1 bg-white dark:bg-dark-blue border border-zinc-300 dark:border-sidebar-border rounded-md shadow-lg max-h-60 overflow-auto transition-colors duration-200",3,"position","width","top","left","click",4,"ngIf"],[1,"block","text-sm","font-medium","text-zinc-700","dark:text-slate-300","mb-2","transition-colors","duration-200"],[1,"text-zinc-400","dark:text-slate-400","transition-colors","duration-200"],[1,"flex","items-center","gap-2","flex-wrap"],["class","inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-medium bg-zinc-200 dark:bg-slate-800 border border-zinc-300 dark:border-sidebar-border transition-colors duration-200",3,"color","dark:color",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","gap-1.5","px-2","py-1","rounded-md","text-xs","font-medium","bg-zinc-200","dark:bg-slate-800","border","border-zinc-300","dark:border-sidebar-border","transition-colors","duration-200"],["class","inline-block h-2 w-2 rounded-full",3,"background",4,"ngIf"],["type","button",1,"ml-1","hover:text-red-500","dark:hover:text-red-400","transition-colors","duration-200",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-3","w-3"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"inline-block","h-2","w-2","rounded-full"],[1,"text-zinc-900","dark:text-slate-200","transition-colors","duration-200"],[1,"z-[99999]","mt-1","bg-white","dark:bg-dark-blue","border","border-zinc-300","dark:border-sidebar-border","rounded-md","shadow-lg","max-h-60","overflow-auto","transition-colors","duration-200",3,"click"],[1,"p-1"],["class","flex items-center space-x-2 px-3 py-2 rounded-md cursor-pointer hover:bg-brand-hover-100 dark:hover:bg-brand-hover transition-colors duration-200 text-sm",3,"click",4,"ngFor","ngForOf"],["class","px-3 py-2 text-sm text-zinc-500 dark:text-slate-400 text-center transition-colors duration-200",4,"ngIf"],[1,"flex","items-center","space-x-2","px-3","py-2","rounded-md","cursor-pointer","hover:bg-brand-hover-100","dark:hover:bg-brand-hover","transition-colors","duration-200","text-sm",3,"click"],["type","checkbox",1,"rounded","border-zinc-300","dark:border-sidebar-border","bg-zinc-100","dark:bg-slate-900","text-brand","focus:ring-brand","focus:ring-offset-0","focus:ring-offset-white","dark:focus:ring-offset-slate-900","transition-colors","duration-200",3,"change","click","checked"],[1,"flex","items-center","space-x-2","flex-1"],["class","inline-block h-3 w-3 rounded-full flex-shrink-0",3,"background",4,"ngIf"],[1,"inline-block","h-3","w-3","rounded-full","flex-shrink-0"],[1,"px-3","py-2","text-sm","text-zinc-500","dark:text-slate-400","text-center","transition-colors","duration-200"]],template:function(e,n){e&1&&(r(0,"div",0),c(1,H,2,1,"label",1),r(2,"div",2)(3,"button",3),m("click",function(){return n.toggleDropdown()}),r(4,"div",4),c(5,N,2,1,"span",5)(6,G,2,1,"span",6)(7,K,2,1,"span",7),s(),v(),r(8,"svg",8),x(9,"path",9),s()(),c(10,U,4,10,"div",10),s()()),e&2&&(o(),l("ngIf",n.label),o(4),l("ngIf",n.selectedIds.length===0),o(),l("ngIf",n.selectedIds.length>0&&n.selectedIds.length<=2),o(),l("ngIf",n.selectedIds.length>2),o(),k("rotate-180",n.isOpen),o(2),l("ngIf",n.isOpen))},dependencies:[V,z,P],styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b;border-radius:3px}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#475569;border-radius:3px}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64748b}"]})};export{F as a,L as b};
