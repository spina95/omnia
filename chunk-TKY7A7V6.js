import{a as ye,b as je,d as D,e as xe,f as oo,g as $E,h as ke}from"./chunk-VOSPIT4N.js";var yn={};oo(yn,{__addDisposableResource:()=>qh,__assign:()=>Fi,__asyncDelegator:()=>Lh,__asyncGenerator:()=>Bi,__asyncValues:()=>$i,__await:()=>ot,__awaiter:()=>v,__classPrivateFieldGet:()=>Uh,__classPrivateFieldIn:()=>Hh,__classPrivateFieldSet:()=>Vh,__createBinding:()=>ji,__decorate:()=>Ch,__disposeResources:()=>Gh,__esDecorate:()=>Sh,__exportStar:()=>Rh,__extends:()=>Ih,__generator:()=>Oh,__importDefault:()=>$h,__importStar:()=>Bh,__makeTemplateObject:()=>jh,__metadata:()=>Mh,__param:()=>Th,__propKey:()=>xh,__read:()=>Wc,__rest:()=>Dt,__rewriteRelativeImportExtension:()=>Wh,__runInitializers:()=>Ah,__setFunctionName:()=>Nh,__spread:()=>kh,__spreadArray:()=>Fh,__spreadArrays:()=>Ph,__values:()=>Li,default:()=>o_});function Ih(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Dt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Ch(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function Th(t,e){return function(n,r){e(n,r,t)}}function Sh(t,e,n,r,o,i){function s(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,l=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var p={};for(var g in r)p[g]=g==="access"?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(m||null))};var y=(0,n[f])(a==="accessor"?{get:l.get,set:l.set}:l[c],p);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=s(y.get))&&(l.get=d),(d=s(y.set))&&(l.set=d),(d=s(y.init))&&o.unshift(d)}else(d=s(y))&&(a==="field"?o.unshift(d):l[c]=d)}u&&Object.defineProperty(u,r.name,l),h=!0}function Ah(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function xh(t){return typeof t=="symbol"?t:"".concat(t)}function Nh(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Mh(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function v(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Oh(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Rh(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ji(e,t,n)}function Li(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function kh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Wc(arguments[e]));return t}function Ph(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function Fh(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function ot(t){return this instanceof ot?(this.v=t,this):new ot(t)}function Bi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(g){return new Promise(function(y,m){i.push([f,g,y,m])>1||c(f,g)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(g){h(i[0][3],g)}}function u(f){f.value instanceof ot?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Lh(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=t[o]?function(s){return(n=!n)?{value:ot(t[o](s)),done:!1}:i?i(s):s}:i}}function $i(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Li=="function"?Li(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function jh(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Bh(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Gc(t),r=0;r<n.length;r++)n[r]!=="default"&&ji(e,t,n[r]);return n_(e,t),e}function $h(t){return t&&t.__esModule?t:{default:t}}function Uh(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Vh(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function Hh(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function qh(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function Gh(t){function e(i){t.error=t.hasError?new r_(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(s){return e(s),o()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Wh(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,s){return r?e?".jsx":".js":o&&(!i||!s)?n:o+i+"."+s.toLowerCase()+"js"}):t}var qc,Fi,ji,n_,Gc,r_,o_,J=D(()=>{"use strict";qc=function(t,e){return qc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},qc(t,e)};Fi=function(){return Fi=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fi.apply(this,arguments)};ji=Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};n_=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Gc=function(t){return Gc=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Gc(t)};r_=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};o_={__extends:Ih,__assign:Fi,__rest:Dt,__decorate:Ch,__param:Th,__esDecorate:Sh,__runInitializers:Ah,__propKey:xh,__setFunctionName:Nh,__metadata:Mh,__awaiter:v,__generator:Oh,__createBinding:ji,__exportStar:Rh,__values:Li,__read:Wc,__spread:kh,__spreadArrays:Ph,__spreadArray:Fh,__await:ot,__asyncGenerator:Bi,__asyncDelegator:Lh,__asyncValues:$i,__makeTemplateObject:jh,__importStar:Bh,__importDefault:$h,__classPrivateFieldGet:Uh,__classPrivateFieldSet:Vh,__classPrivateFieldIn:Hh,__addDisposableResource:qh,__disposeResources:Gh,__rewriteRelativeImportExtension:Wh}});var zv,Kv=D(()=>{"use strict";zv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e)});var $n,Rr,Un,Vn,ni,Hd=D(()=>{"use strict";$n=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Rr=class extends $n{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Un=class extends $n{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Vn=class extends $n{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},ni=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(ni||{})});var La,Zv=D(()=>{"use strict";J();Kv();Hd();La=class{constructor(e,{headers:n={},customFetch:r,region:o=ni.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=zv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return v(this,arguments,void 0,function*(n,r={}){var o;let i,s;try{let{headers:a,method:c,body:u,signal:l,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let y=l;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),l?(y=s.signal,l.addEventListener("abort",()=>s.abort())):y=s.signal);let m=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:y}).catch(k=>{throw new Rr(k)}),x=m.headers.get("x-relay-error");if(x&&x==="true")throw new Un(m);if(!m.ok)throw new Vn(m);let _=((o=m.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield m.json():_==="application/octet-stream"||_==="application/pdf"?w=yield m.blob():_==="text/event-stream"?w=m:_==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof Vn||a instanceof Un?a.context:void 0}}finally{i&&clearTimeout(i)}})}}});var qd={};oo(qd,{FunctionRegion:()=>ni,FunctionsClient:()=>La,FunctionsError:()=>$n,FunctionsFetchError:()=>Rr,FunctionsHttpError:()=>Vn,FunctionsRelayError:()=>Un});var Gd=D(()=>{"use strict";Zv();Hd()});var Kd=xe(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});var Wd=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};zd.default=Wd});var Yd=xe(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});var eS=(J(),ke(yn)),tS=eS.__importDefault(Kd()),Zd=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,c,u;let l=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){let x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=x:d=JSON.parse(x))}let y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&m&&m.length>1&&(h=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let y=await i.text();try{l=JSON.parse(y),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,p="OK")}catch{i.status===404&&y===""?(f=204,p="No Content"):l={message:y}}if(l&&this.isMaybeSingle&&(!((u=l?.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw new tS.default(l)}return{error:l,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c,u,l,d;let h="",f=i?.cause;if(f){let p=(s=f?.message)!==null&&s!==void 0?s:"",g=(a=f?.code)!==null&&a!==void 0?a:"";h=`${(c=i?.name)!==null&&c!==void 0?c:"FetchError"}: ${i?.message}`,h+=`

Caused by: ${(u=f?.name)!==null&&u!==void 0?u:"Error"}: ${p}`,g&&(h+=` (${g})`),f?.stack&&(h+=`
${f.stack}`)}else h=(l=i?.stack)!==null&&l!==void 0?l:"";return{error:{message:`${(d=i?.name)!==null&&d!==void 0?d:"FetchError"}: ${i?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Jd.default=Zd});var ef=xe(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});var nS=(J(),ke(yn)),rS=nS.__importDefault(Yd()),Qd=class extends rS.default{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Xd.default=Qd});var ja=xe(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});var oS=(J(),ke(yn)),iS=oS.__importDefault(ef()),sS=new RegExp("[,()]"),tf=class extends iS.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}regexMatch(e,n){return this.url.searchParams.append(e,`match.${n}`),this}regexIMatch(e,n){return this.url.searchParams.append(e,`imatch.${n}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}isDistinct(e,n){return this.url.searchParams.append(e,`isdistinct.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&sS.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};nf.default=tf});var sf=xe(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});var aS=(J(),ke(yn)),ri=aS.__importDefault(ja()),rf=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,n){let{head:r=!1,count:o}=n??{},i=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new ri.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ri.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new ri.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ri.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ri.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};of.default=rf});var Yv=xe(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});var Jv=(J(),ke(yn)),cS=Jv.__importDefault(sf()),uS=Jv.__importDefault(ja()),af=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let n=new URL(`${this.url}/${e}`);return new cS.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new uS.default({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};cf.default=af});var uf=xe(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.PostgrestError=Ae.PostgrestBuilder=Ae.PostgrestTransformBuilder=Ae.PostgrestFilterBuilder=Ae.PostgrestQueryBuilder=Ae.PostgrestClient=void 0;var kr=(J(),ke(yn)),Qv=kr.__importDefault(Yv());Ae.PostgrestClient=Qv.default;var Xv=kr.__importDefault(sf());Ae.PostgrestQueryBuilder=Xv.default;var ew=kr.__importDefault(ja());Ae.PostgrestFilterBuilder=ew.default;var tw=kr.__importDefault(ef());Ae.PostgrestTransformBuilder=tw.default;var nw=kr.__importDefault(Yd());Ae.PostgrestBuilder=nw.default;var rw=kr.__importDefault(Kd());Ae.PostgrestError=rw.default;Ae.default={PostgrestClient:Qv.default,PostgrestQueryBuilder:Xv.default,PostgrestFilterBuilder:ew.default,PostgrestTransformBuilder:tw.default,PostgrestBuilder:nw.default,PostgrestError:rw.default}});var lf,Ba,df=D(()=>{"use strict";lf=class{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},Ba=lf});var ow,iw=D(()=>{"use strict";ow="2.87.1"});var sw,ff,aw,hf,oi,cw,uw,Hn,oe,qe,pf,qn,$a=D(()=>{"use strict";iw();sw=`realtime-js/${ow}`,ff="1.0.0",aw="2.0.0",hf=ff,oi=1e4,cw=1e3,uw=100,Hn=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(Hn||{}),oe=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(oe||{}),qe=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(qe||{}),pf=(function(t){return t.websocket="websocket",t})(pf||{}),qn=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(qn||{})});var Ua,lw=D(()=>{"use strict";Ua=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;let o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,r;let o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var o,i;let s=e.topic,a=(o=e.ref)!==null&&o!==void 0?o:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,l=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(l).length===0?"":JSON.stringify(l);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+u.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,u.length),p.setUint8(g++,d.length),p.setUint8(g++,n),Array.from(c,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(a,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(s,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(u,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(d,m=>p.setUint8(g++,m.charCodeAt(0)));var y=new Uint8Array(f.byteLength+r.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(r),f.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){let r=JSON.parse(e),[o,i,s,a,c]=r;return n({join_ref:o,ref:i,topic:s,event:a,payload:c})}return n({})}_binaryDecode(e){let n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,u=r.decode(e.slice(c,c+o));c=c+o;let l=r.decode(e.slice(c,c+i));c=c+i;let d=r.decode(e.slice(c,c+s));c=c+s;let h=e.slice(c,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:l,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}});var Pr,gf=D(()=>{"use strict";Pr=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}});var K,yf,lS,dw,mf,dS,fS,hS,pS,gS,Va,Ha=D(()=>{"use strict";K=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(K||{}),yf=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=lS(s,t,e,o),i),{}):{}},lS=(t,e,n,r)=>{let o=e.find(a=>a.name===t),i=o?.type,s=n[t];return i&&!r.includes(i)?dw(i,s):mf(s)},dw=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return pS(e,n)}switch(t){case K.bool:return dS(e);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return fS(e);case K.json:case K.jsonb:return hS(e);case K.timestamp:return gS(e);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return mf(e);default:return mf(e)}},mf=t=>t,dS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fS=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pS=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>dw(e,a))}return t},gS=t=>typeof t=="string"?t.replace(" ","T"):t,Va=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href}});var Fr,fw=D(()=>{"use strict";$a();Fr=class{constructor(e,n,r={},o=oi){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}});var vf,Lr,wf=D(()=>{"use strict";vf=(function(t){return t.SYNC="sync",t.JOIN="join",t.LEAVE="leave",t})(vf||{}),Lr=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=l.filter(y=>f.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){let d=e[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=e[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,o(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}});var Ef,jr,yt,hw,Br,_f=D(()=>{"use strict";$a();fw();gf();wf();Ha();Ha();Ef=(function(t){return t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE",t})(Ef||{}),jr=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})(jr||{}),yt=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(yt||{}),hw=oe,Br=class t{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fr(this,qe.join,this.params,this.timeout),this.rejoinTimer=new Pr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Lr(this),this.broadcastEndpointURL=Va(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[jr.PRESENCE]&&this.bindings[jr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(yt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e?.(yt.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,y=(p=g?.length)!==null&&p!==void 0?p:0,m=[];for(let x=0;x<y;x++){let _=g[x],{filter:{event:w,schema:k,table:nt,filter:q}}=_,Z=f&&f[x];if(Z&&Z.event===w&&t.isFilterValueEqual(Z.schema,k)&&t.isFilterValueEqual(Z.table,nt)&&t.isFilterValueEqual(Z.filter,q))m.push(Object.assign(Object.assign({},_),{id:Z.id}));else{this.unsubscribe(),this.state=oe.errored,e?.(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(yt.SUBSCRIBED);return}}).receive("error",f=>{this.state=oe.errored,e?.(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===oe.joined&&e===jr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;let i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Fr(this,qe.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Fr(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uw){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=qe;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,g,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,g,y,m,x,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let w=f.id,k=(p=f.filter)===null||p===void 0?void 0:p.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(k==="*"||k?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{let w=(x=(m=f?.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((_=n?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:y,commit_timestamp:m,type:x,errors:_}=p;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:m,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qe.close,{},e)}_onError(e){this._on(qe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=yf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=yf(e.columns,e.old_record)),n}}});var Df,qa,yS,vS,wS,Ga,pw=D(()=>{"use strict";df();$a();lw();gf();Ha();_f();Df=()=>{},qa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yS=[1e3,2e3,5e3,1e4],vS=1e4,wS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ga=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oi,this.transport=null,this.heartbeatIntervalMs=qa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Df,this.ref=0,this.reconnectTimer=null,this.vsn=hf,this.logger=Df,this.conn=null,this.sendBuffer=[],this.serializer=new Ua,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${pf.websocket}`,this.httpEndpoint=Va(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ba.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hn.connecting:return qn.Connecting;case Hn.open:return qn.Open;case Hn.closing:return qn.Closing;default:return qn.Closed}}isConnected(){return this.connectionState()===qn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Br(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){let{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hn.open||this.conn.readyState===Hn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([wS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{let i={access_token:n,version:sw};n&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Pr(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,s,a,c,u,l,d,h,f;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:oi,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:qa.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Df,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:hf,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:p=>yS[p-1]||vS,this.vsn){case ff:this.encode=(l=e?.encode)!==null&&l!==void 0?l:(p,g)=>g(JSON.stringify(p)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case aw:this.encode=(h=e?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}});var bf={};oo(bf,{REALTIME_CHANNEL_STATES:()=>hw,REALTIME_LISTEN_TYPES:()=>jr,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>Ef,REALTIME_PRESENCE_LISTEN_EVENTS:()=>vf,REALTIME_SUBSCRIBE_STATES:()=>yt,RealtimeChannel:()=>Br,RealtimeClient:()=>Ga,RealtimePresence:()=>Lr,WebSocketFactory:()=>Ba});var If=D(()=>{"use strict";pw();_f();wf();df()});function U(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Mt,ii,Xt,en=D(()=>{"use strict";Mt=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};ii=class extends Mt{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xt=class extends Mt{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}});var $r,gw,Wa,mw,yw,si=D(()=>{"use strict";$r=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gw=()=>Response,Wa=t=>{if(Array.isArray(t))return t.map(n=>Wa(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=Wa(r)}),e},mw=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yw=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t)});function ai(t,e,n,r,o,i){return v(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,_S(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>ES(c,a,r))})})}function tn(t,e,n,r){return v(this,void 0,void 0,function*(){return ai(t,"GET",e,n,r)})}function Re(t,e,n,r,o){return v(this,void 0,void 0,function*(){return ai(t,"POST",e,r,o,n)})}function ci(t,e,n,r,o){return v(this,void 0,void 0,function*(){return ai(t,"PUT",e,r,o,n)})}function vw(t,e,n,r){return v(this,void 0,void 0,function*(){return ai(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ur(t,e,n,r,o){return v(this,void 0,void 0,function*(){return ai(t,"DELETE",e,r,o,n)})}var Cf,ES,_S,za=D(()=>{"use strict";J();en();si();Cf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ES=(t,e,n)=>v(void 0,void 0,void 0,function*(){let r=yield gw();t instanceof r&&!n?.noResolveJson?t.json().then(o=>{let i=t.status||500,s=o?.statusCode||i+"";e(new ii(Cf(o),i,s))}).catch(o=>{e(new Xt(Cf(o),o))}):e(new Xt(Cf(t),t))}),_S=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(mw(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))}});var Ka,ww=D(()=>{"use strict";J();en();Ka=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return v(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(U(e))return{data:null,error:e};throw e}})}}});var Ew,Tf,_w,Dw=D(()=>{"use strict";J();en();ww();Tf=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Ew]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ka(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return v(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(U(e))return{data:null,error:e};throw e}})}};Ew=Symbol.toStringTag;_w=Tf});var DS,bw,Za,Iw=D(()=>{"use strict";J();en();za();si();Dw();DS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Za=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=$r(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return v(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},bw),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield(e=="PUT"?ci:Re)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(U(i))return{data:null,error:i};throw i}})}upload(e,n,r){return v(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return v(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:bw.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield ci(this.fetch,a.toString(),c,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(U(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return v(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield Re(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Mt("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r))return{data:null,error:r};throw r}})}update(e,n,r){return v(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return v(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(U(o))return{data:null,error:o};throw o}})}copy(e,n,r){return v(this,void 0,void 0,function*(){try{return{data:{path:(yield Re(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(U(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return v(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield Re(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(U(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return v(this,void 0,void 0,function*(){try{let o=yield Re(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(U(o))return{data:null,error:o};throw o}})}download(e,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),c=()=>tn(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new _w(c,this.shouldThrowOnError)}info(e){return v(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield tn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Wa(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r))return{data:null,error:r};throw r}})}exists(e){return v(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield vw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r)&&r instanceof Xt){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}list(e,n,r){return v(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},DS),n),{prefix:e||""});return{data:yield Re(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(U(o))return{data:null,error:o};throw o}})}listV2(e,n){return v(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield Re(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}});var Ja,Sf=D(()=>{"use strict";Ja="2.87.1"});var Ya,Af=D(()=>{"use strict";Sf();Ya={"X-Client-Info":`storage-js/${Ja}`}});var Qa,Cw=D(()=>{"use strict";J();Af();en();za();si();Qa=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ya),n),this.fetch=$r(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return v(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(e);return{data:yield tn(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}getBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}createBucket(e){return v(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Re(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(U(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return v(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r))return{data:null,error:r};throw r}})}emptyBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}});function bS(t,e,n){let r=new URL(e,t);if(n)for(let[o,i]of Object.entries(n))i!==void 0&&r.searchParams.set(o,i);return r.toString()}async function IS(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function CS(t){let e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:i,headers:s}){let a=bS(t.baseUrl,r,o),c=await IS(t.auth),u=await e(a,{method:n,headers:ye(ye(ye({},i?{"Content-Type":"application/json"}:{}),c),s),body:i?JSON.stringify(i):void 0}),l=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&l?JSON.parse(l):l;if(!u.ok){let f=d?h:void 0,p=f?.error;throw new ui(p?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function Xa(t){return t.join("")}function Vr(t){return t.join("")}var ui,TS,SS,Tw,Sw=D(()=>{"use strict";ui=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};TS=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){let e=t?{parent:Xa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){let n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xa(t.namespace)}`}),!0}catch(e){if(e instanceof ui&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ui&&n.status===409)return;throw n}}};SS=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){let e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ui&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ui&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Tw=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);let n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=CS({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new TS(this.client,e),this.tableOps=new SS(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}}});var Hr,xf=D(()=>{"use strict";J();Sw();Af();en();za();si();Hr=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ya),n),this.fetch=$r(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}listBuckets(e){return v(this,void 0,void 0,function*(){try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield tn(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}from(e){if(!yw(e))throw new Mt("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new Tw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>v(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){let a=i[s];return typeof a!="function"?a:(...c)=>v(this,void 0,void 0,function*(){try{return{data:yield a.apply(i,c),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}})}})}}});var qr,ec=D(()=>{"use strict";Sf();qr={"X-Client-Info":`storage-js/${Ja}`,"Content-Type":"application/json"}});function le(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Gr,nn,Wr,Nf,zr=D(()=>{"use strict";Gr=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};nn=class extends Gr{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Wr=class extends Gr{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}},Nf=(function(t){return t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",t})(Nf||{})});var rn,Aw,tc,xw,Nw,Kr=D(()=>{"use strict";rn=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Aw=()=>Response,tc=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xw=t=>Array.from(new Float32Array(t)),Nw=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)}});function NS(t,e,n,r,o,i){return v(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,xS(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>AS(c,a,r))})})}function be(t,e,n,r,o){return v(this,void 0,void 0,function*(){return NS(t,"POST",e,r,o,n)})}var Mw,AS,xS,nc=D(()=>{"use strict";J();zr();Kr();Mw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),AS=(t,e,n)=>v(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let o=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";e(new nn(Mw(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new nn(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new nn(a,o,s))}}else e(new Wr(Mw(t),t))}),xS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(tc(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n))}});var Zr,Mf=D(()=>{"use strict";J();ec();zr();nc();Kr();Zr=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qr),n),this.fetch=rn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return v(this,void 0,void 0,function*(){try{return{data:(yield be(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}getIndex(e,n){return v(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}listIndexes(e){return v(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return v(this,void 0,void 0,function*(){try{return{data:(yield be(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(le(r))return{data:null,error:r};throw r}})}}});var Jr,Of=D(()=>{"use strict";J();ec();zr();nc();Kr();Jr=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qr),n),this.fetch=rn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return v(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield be(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}getVectors(e){return v(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}listVectors(e){return v(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield be(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}queryVectors(e){return v(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}deleteVectors(e){return v(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield be(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}}});var Yr,Rf=D(()=>{"use strict";J();ec();zr();nc();Kr();Yr=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qr),n),this.fetch=rn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return v(this,void 0,void 0,function*(){try{return{data:(yield be(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}getBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}listBuckets(){return v(this,arguments,void 0,function*(e={}){try{return{data:yield be(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:(yield be(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(le(n))return{data:null,error:n};throw n}})}}});var Qr,li,di,Ow=D(()=>{"use strict";J();Mf();Of();Rf();Qr=class extends Yr{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new li(this.url,this.headers,e,this.fetch)}createBucket(e){let n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return v(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){let n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return v(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){let e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return v(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){let n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return v(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}},li=class extends Zr{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return v(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return v(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return v(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return v(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new di(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},di=class extends Jr{constructor(e,n,r,o,i){super(e,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return v(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return v(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return v(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return v(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return v(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}});var kf=D(()=>{"use strict";Ow();Rf();Mf();Of();zr();Kr()});var rc,Rw=D(()=>{"use strict";Iw();Cw();xf();kf();rc=class extends Qa{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new Za(this.url,this.headers,e,this.fetch)}get vectors(){return new Qr(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hr(this.url+"/iceberg",this.headers,this.fetch)}}});var kw=D(()=>{"use strict"});var Pw={};oo(Pw,{StorageAnalyticsClient:()=>Hr,StorageApiError:()=>ii,StorageClient:()=>rc,StorageError:()=>Mt,StorageUnknownError:()=>Xt,StorageVectorsApiError:()=>nn,StorageVectorsClient:()=>Qr,StorageVectorsError:()=>Gr,StorageVectorsErrorCode:()=>Nf,StorageVectorsUnknownError:()=>Wr,VectorBucketApi:()=>Yr,VectorBucketScope:()=>li,VectorDataApi:()=>Jr,VectorIndexApi:()=>Zr,VectorIndexScope:()=>di,isPlainObject:()=>tc,isStorageError:()=>U,isStorageVectorsError:()=>le,normalizeToFloat32:()=>xw,resolveFetch:()=>rn,resolveResponse:()=>Aw,validateVectorDimension:()=>Nw});var Fw=D(()=>{"use strict";Rw();xf();kw();en();kf()});var Lw=xe(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.version=void 0;oc.version="2.87.1"});var jw=xe(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.DEFAULT_REALTIME_OPTIONS=Fe.DEFAULT_AUTH_OPTIONS=Fe.DEFAULT_DB_OPTIONS=Fe.DEFAULT_GLOBAL_OPTIONS=Fe.DEFAULT_HEADERS=void 0;var MS=Lw(),fi="";typeof Deno<"u"?fi="deno":typeof document<"u"?fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fi="react-native":fi="node";Fe.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${fi}/${MS.version}`};Fe.DEFAULT_GLOBAL_OPTIONS={headers:Fe.DEFAULT_HEADERS};Fe.DEFAULT_DB_OPTIONS={schema:"public"};Fe.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"};Fe.DEFAULT_REALTIME_OPTIONS={}});var Bw=xe(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.fetchWithAuth=vt.resolveHeadersConstructor=vt.resolveFetch=void 0;var OS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);vt.resolveFetch=OS;var RS=()=>Headers;vt.resolveHeadersConstructor=RS;var kS=(t,e,n)=>{let r=(0,vt.resolveFetch)(n),o=(0,vt.resolveHeadersConstructor)();return async(i,s)=>{var a;let c=(a=await e())!==null&&a!==void 0?a:t,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))}};vt.fetchWithAuth=kS});var Uw=xe(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.isBrowser=void 0;on.uuid=PS;on.ensureTrailingSlash=$w;on.applySettingDefaults=LS;on.validateSupabaseUrl=jS;function PS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})}function $w(t){return t.endsWith("/")?t:t+"/"}var FS=()=>typeof window<"u";on.isBrowser=FS;function LS(t,e){var n,r;let{db:o,auth:i,realtime:s,global:a}=t,{db:c,auth:u,realtime:l,global:d}=e,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function jS(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($w(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}});var ic,Pf=D(()=>{"use strict";ic="2.87.1"});var Gn,sc,ac,Vw,Hw,qw,hi,Ff,Gw,Ww,cc=D(()=>{"use strict";Pf();Gn=30*1e3,sc=3,ac=sc*Gn,Vw="http://localhost:9999",Hw="supabase.auth.token",qw={"X-Client-Info":`gotrue-js/${ic}`},hi="X-Supabase-Api-Version",Ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ww=600*1e3});function E(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}function Lf(t){return E(t)&&t.name==="AuthApiError"}function jf(t){return E(t)&&t.name==="AuthSessionMissingError"}function Bf(t){return E(t)&&t.name==="AuthImplicitGrantRedirectError"}function gi(t){return E(t)&&t.name==="AuthRetryableFetchError"}function BS(t){return E(t)&&t.name==="AuthWeakPasswordError"}var Ot,pi,Le,tt,de,wt,sn,an,Xr,Wn,eo,cn,zn=D(()=>{"use strict";Ot=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};pi=class extends Ot{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};Le=class extends Ot{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},tt=class extends Ot{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}},de=class extends tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};wt=class extends tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},sn=class extends tt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},an=class extends tt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};Xr=class extends tt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Wn=class extends tt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};eo=class extends tt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};cn=class extends tt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}});function Kw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(uc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(uc[r]),e.queuedBits-=6}}function Zw(t,e,n){let r=$S[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $f(t){let e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{HS(s,r,n)};for(let s=0;s<t.length;s+=1)Zw(t.charCodeAt(s),o,i);return e.join("")}function US(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function VS(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}US(r,e)}}function HS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function un(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Zw(t.charCodeAt(o),n,r);return new Uint8Array(e)}function Jw(t){let e=[];return VS(t,n=>e.push(n)),new Uint8Array(e)}function Rt(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Kw(o,n,r)),Kw(null,n,r),e.join("")}var uc,zw,$S,lc=D(()=>{"use strict";uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zw=` 	
\r=`.split(""),$S=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zw.length;e+=1)t[zw[e].charCodeAt(0)]=-2;for(let e=0;e<uc.length;e+=1)t[uc[e].charCodeAt(0)]=e;return t})()});function Yw(t){return Math.round(Date.now()/1e3)+t}function Qw(){return Symbol("auth-callback")}function Xw(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}function hc(t){let e=t.split(".");if(e.length!==3)throw new cn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Gw.test(e[r]))throw new cn("JWT not in base64url format");return{header:JSON.parse($f(e[0])),payload:JSON.parse($f(e[1])),signature:un(e[2]),raw:{header:e[0],payload:e[1]}}}async function tE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nE(t,e){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})()})}function qS(t){return("0"+t.toString(16)).substr(-2)}function GS(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,qS).join("")}async function WS(t){let n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function zS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=await WS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jn(t,e,n=!1){let r=GS(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await Zn(t,`${e}-code-verifier`,o);let i=await zS(r);return[i,r===i?"plain":"s256"]}function rE(t){let e=t.headers.get(hi);if(!e||!e.match(KS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oE(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function iE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}function Yn(t){if(!ZS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pc(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sE(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function Uf(t){return JSON.parse(JSON.stringify(t))}var ce,Kn,dc,fc,eE,Zn,ln,fe,mi,KS,ZS,to=D(()=>{"use strict";cc();zn();lc();ce=()=>typeof window<"u"&&typeof document<"u",Kn={tested:!1,writable:!1},dc=()=>{if(!ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kn.tested)return Kn.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kn.tested=!0,Kn.writable=!0}catch{Kn.tested=!0,Kn.writable=!1}return Kn.writable};fc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ln=async(t,e)=>{let n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fe=async(t,e)=>{await t.removeItem(e)},mi=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};mi.promiseConstructor=Promise;KS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;ZS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/});async function aE(t){var e;if(!eE(t))throw new Wn(Qn(t),0);if(JS.includes(t.status))throw new Wn(Qn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Le(Qn(i),i)}let r,o=rE(t);if(o&&o.getTime()>=Ff["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new eo(Qn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new de}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new eo(Qn(n),t.status,n.weak_password.reasons);throw new pi(Qn(n),t.status||500,r)}async function b(t,e,n,r){var o;let i=Object.assign({},r?.headers);i[hi]||(i[hi]=Ff["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await QS(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function QS(t,e,n,r,o,i){let s=YS(e,r,o,i),a;try{a=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new Wn(Qn(c),0)}if(a.ok||await aE(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await aE(c)}}function Ge(t){var e;let n=null;XS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Yw(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Vf(t){let e=Ge(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Et(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function cE(t){return{data:t,error:null}}function uE(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=Dt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Hf(t){return t}function XS(t){return t.access_token&&t.refresh_token&&t.expires_in}var Qn,JS,YS,qf=D(()=>{"use strict";J();cc();to();zn();Qn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JS=[502,503,504];YS=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))}});var yi,Gf=D(()=>{"use strict";yi=["global","local","others"]});var dn,gc=D(()=>{"use strict";J();qf();to();Gf();zn();dn=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=fc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=yi[0]){if(yi.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yi.join(", ")}`);try{return await b(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(E(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await b(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Et})}catch(r){if(E(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{let{options:n}=e,r=Dt(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await b(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:uE,redirectTo:n?.redirectTo})}catch(n){if(E(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await b(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Et})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await b(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Hf});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(E(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Yn(e);try{return await b(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Et})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Yn(e);try{return await b(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Et})}catch(r){if(E(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Yn(e);try{return await b(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Et})}catch(r){if(E(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Yn(e.userId);try{let{data:n,error:r}=await b(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(E(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Yn(e.userId),Yn(e.id);try{return{data:await b(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(E(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await b(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Hf});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(E(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await b(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(E(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await b(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(E(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await b(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(E(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await b(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(E(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await b(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(E(n))return{data:null,error:n};throw n}}}});function Wf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var lE=D(()=>{"use strict"});async function mc(t,e,n){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vi(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fn.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}async function fE(t,e,n){var r;let o=(r=dE[t])!==null&&r!==void 0?r:Promise.resolve(),i=Promise.race([o.catch(()=>null),e>=0?new Promise((s,a)=>{setTimeout(()=>{a(new zf(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await n());return dE[t]=i.catch(async s=>{if(s&&s.isAcquireTimeout)return await o,null;throw s}),await i}var fn,no,vi,zf,dE,Kf=D(()=>{"use strict";to();fn={debug:!!(globalThis&&dc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},no=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},vi=class extends no{},zf=class extends no{};dE={}});function hE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var pE=D(()=>{"use strict"});function Zf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function gE(t){return parseInt(t,16)}function mE(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function yE(t){var e;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let f=Zf(t.address),p=l?`${l}://${r}`:r,g=t.statement?`${t.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,m=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(m+=`
Expiration Time: ${o.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(let _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}m+=x}return`${y}
${m}`}var vE=D(()=>{"use strict"});function wE({error:t,options:e}){var n,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(Jf(s)){if(i.rp.id!==s)return new te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function EE({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(Jf(r)){if(n.rpId!==r)return new te({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var te,Xn,_E=D(()=>{"use strict";Yf();te=class extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},Xn=class extends te{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}});function bE(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,o=Dt(t,["challenge","user","excludeCredentials"]),i=un(e).buffer,s=Object.assign(Object.assign({},n),{id:un(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:un(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function IE(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=Dt(t,["challenge","allowCredentials"]),o=un(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:un(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function CE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Rt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Rt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function TE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Rt(new Uint8Array(o.authenticatorData)),clientDataJSON:Rt(new Uint8Array(o.clientDataJSON)),signature:Rt(new Uint8Array(o.signature)),userHandle:o.userHandle?Rt(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jf(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function DE(){var t,e;return!!(ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function tA(t){try{let e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xn("Browser returned unexpected credential type",e)}:{data:null,error:new Xn("Empty credential response",e)}}catch(e){return{data:null,error:wE({error:e,options:t})}}}async function nA(t){try{let e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xn("Browser returned unexpected credential type",e)}:{data:null,error:new Xn("Empty credential response",e)}}catch(e){return{data:null,error:EE({error:e,options:t})}}}function yc(...t){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of t)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(e(s)){let a=r[i];e(a)?r[i]=yc(a,s):r[i]=yc(s)}else r[i]=s}return r}function iA(t,e){return yc(rA,t,e||{})}function sA(t,e){return yc(oA,t,e||{})}var Qf,eA,rA,oA,vc,Yf=D(()=>{"use strict";J();lc();zn();to();_E();Qf=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},eA=new Qf;rA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},oA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};vc=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},i){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:a};let c=o??eA.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{let u=iA(s.webauthn.credential_options.publicKey,i?.create),{data:l,error:d}=await tA({publicKey:u,signal:c});return l?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}case"request":{let u=sA(s.webauthn.credential_options.publicKey,i?.request),{data:l,error:d}=await nA(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return l?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}}}catch(s){return E(s)?{data:null,error:s}:{data:null,error:new Le("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new Ot("rpId is required for WebAuthn authentication")};try{if(!DE())return{data:null,error:new Le("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return E(s)?{data:null,error:s}:{data:null,error:new Le("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new Ot("rpId is required for WebAuthn registration")};try{if(!DE())return{data:null,error:new Le("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(l=>{var d;return(d=l.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:a};let{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return E(s)?{data:null,error:s}:{data:null,error:new Le("Unexpected error in register",s)}}}}});async function SE(t,e,n){return await n()}var aA,ro,cA,wc,Xf=D(()=>{"use strict";gc();cc();zn();qf();to();lE();Kf();pE();Pf();lc();vE();Yf();hE();aA={url:Vw,storageKey:Hw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};ro={},cA=(()=>{class t{get jwks(){var n,r;return(r=(n=ro[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ro[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{cachedAt:n})}constructor(n){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},aA),n);if(this.storageKey=s.storageKey,this.instanceID=(r=t.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,t.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ce()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dn({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fc(s.fetch),this.lock=s.lock||SE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&ce()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=mc:this.lock=SE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vc(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:dc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wf(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Wf(this.memoryStorage)),ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ic}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},o="none";if(ce()&&(r=Xw(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),ce()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Bf(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return E(r)?this._returnResult({error:r}):this._returnResult({error:new Le("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await b(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ge}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(E(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,g=null;this.flowType==="pkce"&&([p,g]=await Jn(this.storage,this.storageKey)),s=await b(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:Ge})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await b(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ge})}else throw new sn("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),E(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await b(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Vf})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await b(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Vf})}else throw new sn("You must provide either an email or phone number and a password");let{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){let s=new wt;return this._returnResult({data:{user:null,session:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(E(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,g;if("message"in n)p=n.message,g=n.signature;else{let{chain:y,wallet:m,statement:x,options:_}=n,w;if(ce())if(typeof m=="object")w=m;else{let _t=window;if("ethereum"in _t&&typeof _t.ethereum=="object"&&"request"in _t.ethereum&&typeof _t.ethereum.request=="function")w=_t.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}let k=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href),nt=await w.request({method:"eth_requestAccounts"}).then(_t=>_t).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!nt||nt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let q=Zf(nt[0]),Z=(o=_?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Z){let _t=await w.request({method:"eth_chainId"});Z=gE(_t)}let BE={domain:k.host,address:q,statement:x,uri:k.href,version:"1",chainId:Z,nonce:(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=_?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=_?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=_?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=yE(BE),g=await w.request({method:"personal_sign",params:[mE(p),q]})}try{let{data:y,error:m}=await b(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ge});if(m)throw m;if(!y||!y.session||!y.user){let x=new wt;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:m})}catch(y){if(E(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let g,y;if("message"in n)g=n.message,y=n.signature;else{let{chain:m,wallet:x,statement:_,options:w}=n,k;if(ce())if(typeof x=="object")k=x;else{let q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))k=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}let nt=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){let q=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:nt.host,uri:nt.href}),_?{statement:_}:null)),Z;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")Z=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)Z=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)g=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),y=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${nt.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${nt.href}`,`Issued At: ${(i=(o=w?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);let q=await k.signMessage(new TextEncoder().encode(g),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=q}}try{let{data:m,error:x}=await b(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Rt(y)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ge});if(x)throw x;if(!m||!m.session||!m.user){let _=new wt;return this._returnResult({data:{user:null,session:null},error:_})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:x})}catch(m){if(E(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(n){let r=await ln(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=await b(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Ge});if(await fe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new wt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),E(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await b(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ge}),{data:u,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){let d=new wt;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(r){if(E(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await Jn(this.storage,this.storageKey));let{error:h}=await b(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await b(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new sn("You must provide either an email or phone number.")}catch(c){if(await fe(this.storage,`${this.storageKey}-code-verifier`),E(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await b(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ge});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(E(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(n){var r,o,i,s,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Jn(this.storage,this.storageKey));let l=await b(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:cE});return!((s=l.data)===null||s===void 0)&&s.url&&ce()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(await fe(this.storage,`${this.storageKey}-code-verifier`),E(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new de;let{error:i}=await b(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(n){if(E(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await b(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await b(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new sn("You must provide either an email or phone number and a type")}catch(r){if(E(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<ac:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await ln(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=pc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=sE(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await b(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Et}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new de}:await b(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Et})})}catch(r){if(E(r))return jf(r)&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new de;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await Jn(this.storage,this.storageKey));let{data:l,error:d}=await b(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:Et});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),E(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new de;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=hc(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(E(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new de;let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(E(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ce())throw new an("No browser detected.");if(n.error||n.error_description||n.error_code)throw new an(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xr("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new an("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Xr("No code detected.");let{data:_,error:w}=await this._exchangeCodeForSession(n.code);if(w)throw w;let k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:_.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new an("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:y,error:m}=await this._getUser(s);if(m)throw m;let x={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:n.type},error:null})}catch(o){if(E(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await ln(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({error:s});let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(Lf(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=Qw(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Jn(this.storage,this.storageKey,!0));try{return await b(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),E(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(E(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await b(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ce()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(E(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:u,access_token:l,nonce:d}=n,h=await b(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ge}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new wt}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),E(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await b(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(E(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await nE(async i=>(i>0&&await tE(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await b(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ge})),(i,s)=>{let a=200*Math.pow(2,i);return s&&gi(s)&&Date.now()+a-o<Gn})}catch(o){if(this._debug(r,"error",o),E(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ce()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await ln(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ln(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Zn(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:pc()}else if(i&&!i.user&&!i.user){let a=await ln(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await fe(this.storage,this.storageKey+"-user"),await Zn(this.storage,this.storageKey,i)):i.user=pc()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ac;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${ac}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),gi(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new de;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mi;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new de;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),E(s)){let a={data:null,error:s};return gi(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await fe(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Zn(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=Uf(i);await Zn(this.storage,this.storageKey,s)}else{let i=Uf(r);await Zn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fe(this.storage,this.storageKey),await fe(this.storage,this.storageKey+"-code-verifier"),await fe(this.storage,this.storageKey+"-user"),this.userStorage&&await fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ce()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Gn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Gn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Gn}ms, refresh threshold is ${sc} ticks`),i<=sc&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof no)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ce()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await Jn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await b(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(E(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:u,error:l}=await b(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?this._returnResult({data:null,error:l}):(n.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(E(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?CE(n.webauthn.credential_response):TE(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:u}=await b(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(E(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await b(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:bE(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:IE(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(E(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:o},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=hc(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?await b(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new de})})}catch(r){if(E(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new de});let a=await b(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ce()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(E(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new de});let a=await b(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ce()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(E(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await b(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new de})})}catch(n){if(E(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?(await b(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new de})})}catch(r){if(E(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+Ww>i)return o;let{data:s,error:a}=await b(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=hc(o);r?.allowExpired||oE(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=iE(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Jw(`${c}.${u}`)))throw new cn("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(E(o))return this._returnResult({data:null,error:o});throw o}}}return t.nextInstanceID={},t})(),wc=cA});var uA,AE,xE=D(()=>{"use strict";gc();uA=dn,AE=uA});var lA,NE,ME=D(()=>{"use strict";Xf();lA=wc,NE=lA});var eh={};oo(eh,{AuthAdminApi:()=>AE,AuthApiError:()=>pi,AuthClient:()=>NE,AuthError:()=>Ot,AuthImplicitGrantRedirectError:()=>an,AuthInvalidCredentialsError:()=>sn,AuthInvalidJwtError:()=>cn,AuthInvalidTokenResponseError:()=>wt,AuthPKCEGrantCodeExchangeError:()=>Xr,AuthRetryableFetchError:()=>Wn,AuthSessionMissingError:()=>de,AuthUnknownError:()=>Le,AuthWeakPasswordError:()=>eo,CustomAuthError:()=>tt,GoTrueAdminApi:()=>dn,GoTrueClient:()=>wc,NavigatorLockAcquireTimeoutError:()=>vi,SIGN_OUT_SCOPES:()=>yi,isAuthApiError:()=>Lf,isAuthError:()=>E,isAuthImplicitGrantRedirectError:()=>Bf,isAuthRetryableFetchError:()=>gi,isAuthSessionMissingError:()=>jf,isAuthWeakPasswordError:()=>BS,lockInternals:()=>fn,navigatorLock:()=>mc,processLock:()=>fE});var th=D(()=>{"use strict";gc();Xf();xE();ME();Gf();zn();Kf()});var OE=xe(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.SupabaseAuthClient=void 0;var dA=(th(),ke(eh)),nh=class extends dA.AuthClient{constructor(e){super(e)}};Ec.SupabaseAuthClient=nh});var ih=xe(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});var fA=(Gd(),ke(qd)),hA=uf(),pA=(If(),ke(bf)),gA=(Fw(),ke(Pw)),_c=jw(),mA=Bw(),RE=Uw(),yA=OE(),rh=class{constructor(e,n,r){var o,i,s;this.supabaseUrl=e,this.supabaseKey=n;let a=(0,RE.validateSupabaseUrl)(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:_c.DEFAULT_DB_OPTIONS,realtime:_c.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},_c.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:_c.DEFAULT_GLOBAL_OPTIONS},l=(0,RE.applySettingDefaults)(r??{},u);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=(0,mA.fetchWithAuth)(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new hA.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new gA.StorageClient(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new fA.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u,throwOnError:l},d,h){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yA.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:u,throwOnError:l,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pA.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};oh.default=rh});var FE=xe(z=>{"use strict";var vA=z&&z.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),kE=z&&z.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&vA(e,t,n)},PE=z&&z.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(z,"__esModule",{value:!0});z.createClient=z.SupabaseClient=z.FunctionRegion=z.FunctionsError=z.FunctionsRelayError=z.FunctionsFetchError=z.FunctionsHttpError=z.PostgrestError=void 0;var wA=PE(ih());kE((th(),ke(eh)),z);var EA=uf();Object.defineProperty(z,"PostgrestError",{enumerable:!0,get:function(){return EA.PostgrestError}});var wi=(Gd(),ke(qd));Object.defineProperty(z,"FunctionsHttpError",{enumerable:!0,get:function(){return wi.FunctionsHttpError}});Object.defineProperty(z,"FunctionsFetchError",{enumerable:!0,get:function(){return wi.FunctionsFetchError}});Object.defineProperty(z,"FunctionsRelayError",{enumerable:!0,get:function(){return wi.FunctionsRelayError}});Object.defineProperty(z,"FunctionsError",{enumerable:!0,get:function(){return wi.FunctionsError}});Object.defineProperty(z,"FunctionRegion",{enumerable:!0,get:function(){return wi.FunctionRegion}});kE((If(),ke(bf)),z);var _A=ih();Object.defineProperty(z,"SupabaseClient",{enumerable:!0,get:function(){return PE(_A).default}});var DA=(t,e,n)=>new wA.default(t,e,n);z.createClient=DA;function bA(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}bA()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")});var ve=null,Ei=!1,Cc=1,UE=null,he=Symbol("SIGNAL");function N(t){let e=ve;return ve=t,e}function Di(){return ve}var io={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function so(t){if(Ei)throw new Error("");if(ve===null)return;ve.consumerOnSignalRead(t);let e=ve.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=ve.recomputing;if(r&&(n=e!==void 0?e.nextProducer:ve.producers,n!==void 0&&n.producer===t)){ve.producersTail=n,n.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===ve&&(!r||HE(o,ve)))return;let i=er(ve),s={producer:t,consumer:ve,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};ve.producersTail=s,e!==void 0?e.nextProducer=s:ve.producers=s,i&&lh(t,s)}function ah(){Cc++}function Tc(t){if(!(er(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cc)){if(!t.producerMustRecompute(t)&&!Ii(t)){Ic(t);return}t.producerRecomputeValue(t),Ic(t)}}function Sc(t){if(t.consumers===void 0)return;let e=Ei;Ei=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||VE(r)}}finally{Ei=e}}function Ac(){return ve?.consumerAllowSignalWrites!==!1}function VE(t){t.dirty=!0,Sc(t),t.consumerMarkedDirty?.(t)}function Ic(t){t.dirty=!1,t.lastCleanEpoch=Cc}function ao(t){return t&&ch(t),N(t)}function ch(t){t.producersTail=void 0,t.recomputing=!0}function bi(t,e){N(e),t&&uh(t)}function uh(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(er(t))do n=xc(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Ii(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Tc(n),r!==n.version))return!0}return!1}function co(t){if(er(t)){let e=t.producers;for(;e!==void 0;)e=xc(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function lh(t,e){let n=t.consumersTail,r=er(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)lh(o.producer,o)}function xc(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!er(e)){let i=e.producers;for(;i!==void 0;)i=xc(i)}return n}function er(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Nc(t){UE?.(t)}function HE(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Mc(t,e){return Object.is(t,e)}function uo(t,e){let n=Object.create(qE);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Tc(n),so(n),n.value===_i)throw n.error;return n.value};return r[he]=n,Nc(n),r}var Dc=Symbol("UNSET"),bc=Symbol("COMPUTING"),_i=Symbol("ERRORED"),qE=je(ye({},io),{value:Dc,dirty:!0,error:null,equal:Mc,kind:"computed",producerMustRecompute(t){return t.value===Dc||t.value===bc},producerRecomputeValue(t){if(t.value===bc)throw new Error("");let e=t.value;t.value=bc;let n=ao(t),r,o=!1;try{r=t.computation(),N(null),o=e!==Dc&&e!==_i&&r!==_i&&t.equal(e,r)}catch(i){r=_i,t.error=i}finally{bi(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function GE(){throw new Error}var dh=GE;function fh(t){dh(t)}function Oc(t){dh=t}var WE=null;function Rc(t,e){let n=Object.create(Ci);n.value=t,e!==void 0&&(n.equal=e);let r=()=>hh(n);return r[he]=n,Nc(n),[r,s=>lo(n,s),s=>ph(n,s)]}function hh(t){return so(t),t.value}function lo(t,e){Ac()||fh(t),t.equal(t.value,e)||(t.value=e,zE(t))}function ph(t,e){Ac()||fh(t),lo(t,e(t.value))}var Ci=je(ye({},io),{equal:Mc,value:void 0,kind:"signal"});function zE(t){t.version++,ah(),Sc(t),WE?.(t)}function kc(t){let e=N(null);try{return t()}finally{N(e)}}function M(t){return typeof t=="function"}function tr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ti=tr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ie=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(M(r))try{r()}catch(i){e=i instanceof Ti?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{gh(i)}catch(s){e=e??[],s instanceof Ti?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ti(e)}}add(e){var n;if(e&&e!==this)if(this.closed)gh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hn(n,e)}remove(e){let{_finalizers:n}=this;n&&hn(n,e),e instanceof t&&e._removeParent(this)}};ie.EMPTY=(()=>{let t=new ie;return t.closed=!0,t})();var Pc=ie.EMPTY;function Si(t){return t instanceof ie||t&&"closed"in t&&M(t.remove)&&M(t.add)&&M(t.unsubscribe)}function gh(t){M(t)?t():t.unsubscribe()}var We={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var nr={setTimeout(t,e,...n){let{delegate:r}=nr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=nr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ai(t){nr.setTimeout(()=>{let{onUnhandledError:e}=We;if(e)e(t);else throw t})}function fo(){}var mh=Fc("C",void 0,void 0);function yh(t){return Fc("E",void 0,t)}function vh(t){return Fc("N",t,void 0)}function Fc(t,e,n){return{kind:t,value:e,error:n}}var pn=null;function rr(t){if(We.useDeprecatedSynchronousErrorHandling){let e=!pn;if(e&&(pn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=pn;if(pn=null,n)throw r}}else t()}function wh(t){We.useDeprecatedSynchronousErrorHandling&&pn&&(pn.errorThrown=!0,pn.error=t)}var gn=class extends ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Si(e)&&e.add(this)):this.destination=JE}static create(e,n,r){return new kt(e,n,r)}next(e){this.isStopped?jc(vh(e),this):this._next(e)}error(e){this.isStopped?jc(yh(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jc(mh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KE=Function.prototype.bind;function Lc(t,e){return KE.call(t,e)}var Bc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xi(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xi(r)}else xi(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xi(n)}}},kt=class extends gn{constructor(e,n,r){super();let o;if(M(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&We.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Lc(e.next,i),error:e.error&&Lc(e.error,i),complete:e.complete&&Lc(e.complete,i)}):o=e}this.destination=new Bc(o)}};function xi(t){We.useDeprecatedSynchronousErrorHandling?wh(t):Ai(t)}function ZE(t){throw t}function jc(t,e){let{onStoppedNotification:n}=We;n&&nr.setTimeout(()=>n(t,e))}var JE={closed:!0,next:fo,error:ZE,complete:fo};var or=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ze(t){return t}function YE(...t){return $c(t)}function $c(t){return t.length===0?ze:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var P=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=XE(n)?n:new kt(n,r,o);return rr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Eh(r),new r((o,i)=>{let s=new kt({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[or](){return this}pipe(...n){return $c(n)(this)}toPromise(n){return n=Eh(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Eh(t){var e;return(e=t??We.Promise)!==null&&e!==void 0?e:Promise}function QE(t){return t&&M(t.next)&&M(t.error)&&M(t.complete)}function XE(t){return t&&t instanceof gn||QE(t)&&Si(t)}function e_(t){return M(t?.lift)}function j(t){return e=>{if(e_(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(t,e,n,r,o){return new Uc(t,e,n,r,o)}var Uc=class extends gn{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var ir={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=ir;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let o=e(i=>{n=void 0,t(i)});return new ie(()=>n?.(o))},requestAnimationFrame(...t){let{delegate:e}=ir;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=ir;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var _h=tr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class t extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ni(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _h}next(n){rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Pc:(this.currentObservers=null,i.push(n),new ie(()=>{this.currentObservers=null,hn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new P;return n.source=this,n}}return t.create=(e,n)=>new Ni(e,n),t})(),Ni=class extends Ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Pc}};var ho=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vc={now(){return(Vc.delegate||Date).now()},delegate:void 0};var Mi=class extends ie{constructor(e,n){super()}schedule(e,n=0){return this}};var po={setInterval(t,e,...n){let{delegate:r}=po;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=po;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var sr=class extends Mi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return po.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&po.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,o;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ar=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ar.now=Vc.now;var cr=class extends ar{constructor(e,n=ar.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var go=new cr(sr),Dh=go;var Oi=class extends sr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=ir.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var o;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:i}=e;n!=null&&n===e._scheduled&&((o=i[i.length-1])===null||o===void 0?void 0:o.id)!==n&&(ir.cancelAnimationFrame(n),e._scheduled=void 0)}};var Ri=class extends cr{flush(e){this._active=!0;let n;e?n=e.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,o;e=e||r.shift();do if(o=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,o){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw o}}};var t_=new Ri(Oi);var mn=new P(t=>t.complete());function ki(t){return t&&M(t.schedule)}function Hc(t){return t[t.length-1]}function Pi(t){return M(Hc(t))?t.pop():void 0}function rt(t){return ki(Hc(t))?t.pop():void 0}function bh(t,e){return typeof Hc(t)=="number"?t.pop():e}J();var Ui=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vi(t){return M(t?.then)}function Hi(t){return M(t[or])}function qi(t){return Symbol.asyncIterator&&M(t?.[Symbol.asyncIterator])}function Gi(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function i_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wi=i_();function zi(t){return M(t?.[Wi])}J();function Ki(t){return Bi(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield ot(n.read());if(o)return yield ot(void 0);yield yield ot(r)}}finally{n.releaseLock()}})}function Zi(t){return M(t?.getReader)}function Y(t){if(t instanceof P)return t;if(t!=null){if(Hi(t))return s_(t);if(Ui(t))return a_(t);if(Vi(t))return c_(t);if(qi(t))return zh(t);if(zi(t))return u_(t);if(Zi(t))return l_(t)}throw Gi(t)}function s_(t){return new P(e=>{let n=t[or]();if(M(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function a_(t){return new P(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function c_(t){return new P(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ai)})}function u_(t){return new P(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function zh(t){return new P(e=>{d_(t,e).catch(n=>e.error(n))})}function l_(t){return zh(Ki(t))}function d_(t,e){var n,r,o,i;return v(this,void 0,void 0,function*(){try{for(n=$i(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Ne(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Ji(t,e=0){return j((n,r)=>{n.subscribe(F(r,o=>Ne(r,t,()=>r.next(o),e),()=>Ne(r,t,()=>r.complete(),e),o=>Ne(r,t,()=>r.error(o),e)))})}function Yi(t,e=0){return j((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Kh(t,e){return Y(t).pipe(Yi(e),Ji(e))}function Zh(t,e){return Y(t).pipe(Yi(e),Ji(e))}function Jh(t,e){return new P(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Yh(t,e){return new P(n=>{let r;return Ne(n,e,()=>{r=t[Wi](),Ne(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>M(r?.return)&&r.return()})}function Qi(t,e){if(!t)throw new Error("Iterable cannot be null");return new P(n=>{Ne(n,e,()=>{let r=t[Symbol.asyncIterator]();Ne(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Qh(t,e){return Qi(Ki(t),e)}function Xh(t,e){if(t!=null){if(Hi(t))return Kh(t,e);if(Ui(t))return Jh(t,e);if(Vi(t))return Zh(t,e);if(qi(t))return Qi(t,e);if(zi(t))return Yh(t,e);if(Zi(t))return Qh(t,e)}throw Gi(t)}function it(t,e){return e?Xh(t,e):Y(t)}function f_(...t){let e=rt(t);return it(t,e)}function h_(t,e){let n=M(t)?t:()=>t,r=o=>o.error(n());return new P(e?o=>e.schedule(r,0,o):r)}function p_(t){return!!t&&(t instanceof P||M(t.lift)&&M(t.subscribe))}var vn=tr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function g_(t,e){let n=typeof e=="object";return new Promise((r,o)=>{let i=new kt({next:s=>{r(s),i.unsubscribe()},error:o,complete:()=>{n?r(e.defaultValue):o(new vn)}});t.subscribe(i)})}function ep(t){return t instanceof Date&&!isNaN(t)}function Pt(t,e){return j((n,r)=>{let o=0;n.subscribe(F(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:m_}=Array;function y_(t,e){return m_(e)?t(...e):t(e)}function Xi(t){return Pt(e=>y_(t,e))}var{isArray:v_}=Array,{getPrototypeOf:w_,prototype:E_,keys:__}=Object;function es(t){if(t.length===1){let e=t[0];if(v_(e))return{args:e,keys:null};if(D_(e)){let n=__(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function D_(t){return t&&typeof t=="object"&&w_(t)===E_}function ts(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function b_(...t){let e=rt(t),n=Pi(t),{args:r,keys:o}=es(t);if(r.length===0)return it([],e);let i=new P(I_(r,e,o?s=>ts(o,s):ze));return n?i.pipe(Xi(n)):i}function I_(t,e,n=ze){return r=>{tp(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)tp(e,()=>{let u=it(t[c],e),l=!1;u.subscribe(F(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function tp(t,e,n){t?Ne(n,t,e):e()}function np(t,e,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{i&&e.next(g),u++;let y=!1;Y(n(g,l++)).subscribe(F(e,m=>{o?.(m),i?f(m):e.next(m)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let m=c.shift();s?Ne(e,s,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return t.subscribe(F(e,f,()=>{d=!0,h()})),()=>{a?.()}}function wn(t,e,n=1/0){return M(e)?wn((r,o)=>Pt((i,s)=>e(r,i,o,s))(Y(t(r,o))),n):(typeof e=="number"&&(n=e),j((r,o)=>np(r,o,t,n)))}function mo(t=1/0){return wn(ze,t)}function rp(){return mo(1)}function ns(...t){return rp()(it(t,rt(t)))}function C_(t){return new P(e=>{Y(t()).subscribe(e)})}function T_(...t){let e=Pi(t),{args:n,keys:r}=es(t),o=new P(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;Y(n[l]).subscribe(F(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?ts(r,a):a),i.complete())}))}});return e?o.pipe(Xi(e)):o}function rs(t=0,e,n=Dh){let r=-1;return e!=null&&(ki(e)?n=e:r=e),new P(o=>{let i=ep(t)?+t-n.now():t;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function S_(t=0,e=go){return t<0&&(t=0),rs(t,t,e)}function A_(...t){let e=rt(t),n=bh(t,1/0),r=t;return r.length?r.length===1?Y(r[0]):mo(n)(it(r,e)):mn}function zc(t,e){return j((n,r)=>{let o=0;n.subscribe(F(r,i=>t.call(e,i,o++)&&r.next(i)))})}function op(t){return j((e,n)=>{let r=!1,o=null,i=null,s=!1,a=()=>{if(i?.unsubscribe(),i=null,r){r=!1;let u=o;o=null,n.next(u)}s&&n.complete()},c=()=>{i=null,s&&n.complete()};e.subscribe(F(n,u=>{r=!0,o=u,i||Y(t(u)).subscribe(i=F(n,a,c))},()=>{s=!0,(!r||!i||i.closed)&&n.complete()}))})}function x_(t,e=go){return op(()=>rs(t,e))}function ip(t){return j((e,n)=>{let r=null,o=!1,i;r=e.subscribe(F(n,void 0,void 0,s=>{i=Y(t(s,ip(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function N_(t,e){return M(e)?wn(t,e,1):wn(t,1)}function sp(t){return j((e,n)=>{let r=!1;e.subscribe(F(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function os(t){return t<=0?()=>mn:j((e,n)=>{let r=0;e.subscribe(F(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function ap(t=M_){return j((e,n)=>{let r=!1;e.subscribe(F(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function M_(){return new vn}function O_(t){return j((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function R_(t,e){let n=arguments.length>=2;return r=>r.pipe(t?zc((o,i)=>t(o,i,r)):ze,os(1),n?sp(e):ap(()=>new vn))}function k_(t){return t<=0?()=>mn:j((e,n)=>{let r=[];e.subscribe(F(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function P_(...t){let e=rt(t);return j((n,r)=>{(e?ns(t,n,e):ns(t,n)).subscribe(r)})}function cp(t,e){return j((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(F(r,c=>{o?.unsubscribe();let u=0,l=i++;Y(t(c,l)).subscribe(o=F(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function F_(t){return j((e,n)=>{Y(t).subscribe(F(n,()=>n.complete(),fo)),!n.closed&&e.subscribe(n)})}function L_(t,e,n){let r=M(t)||e||n?{next:t,error:e,complete:n}:t;return r?j((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(F(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ze}var Kc;function is(){return Kc}function st(t){let e=Kc;return Kc=t,e}var up=Symbol("NotFound");function ur(t){return t===up||t?.name==="\u0275NotFound"}var ls="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(e,n){super(dr(e,n)),this.code=e}};function $_(t){return`NG0${Math.abs(t)}`}function dr(t,e){return`${$_(t)}${e?": "+e:""}`}var Bt=globalThis;function B(t){for(let e in t)if(t[e]===B)return e;throw Error("")}function pp(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ct(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ct).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ds(t,e){return t?e?`${t} ${e}`:t:e||""}var U_=B({__forward_ref__:B});function fs(t){return t.__forward_ref__=fs,t.toString=function(){return Ct(this())},t}function pe(t){return uu(t)?t():t}function uu(t){return typeof t=="function"&&t.hasOwnProperty(U_)&&t.__forward_ref__===fs}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function hs(t){return{providers:t.providers||[],imports:t.imports||[]}}function Do(t){return H_(t,ps)}function V_(t){return Do(t)!==null}function H_(t,e){return t.hasOwnProperty(e)&&t[e]||null}function q_(t){let e=t?.[ps]??null;return e||null}function Jc(t){return t&&t.hasOwnProperty(as)?t[as]:null}var ps=B({\u0275prov:B}),as=B({\u0275inj:B}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lu(t){return t&&!!t.\u0275providers}var du=B({\u0275cmp:B}),fu=B({\u0275dir:B}),hu=B({\u0275pipe:B}),pu=B({\u0275mod:B}),vo=B({\u0275fac:B}),In=B({__NG_ELEMENT_ID__:B}),lp=B({__NG_ENV_ID__:B});function gu(t){return t[pu]||null}function St(t){return t[du]||null}function mu(t){return t[fu]||null}function gp(t){return t[hu]||null}function ut(t){return typeof t=="string"?t:t==null?"":String(t)}function mp(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ut(t)}var yp=B({ngErrorCode:B}),G_=B({ngErrorMessage:B}),W_=B({ngTokenPath:B});function yu(t,e){return vp("",-200,e)}function gs(t,e){throw new I(-201,!1)}function vp(t,e,n){let r=new I(e,t);return r[yp]=e,r[G_]=t,n&&(r[W_]=n),r}function z_(t){return t[yp]}var Yc;function wp(){return Yc}function Ie(t){let e=Yc;return Yc=t,e}function vu(t,e,n){let r=Do(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;gs(t,"Injector")}var K_={},En=K_,Z_="__NG_DI_FLAG__",Qc=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=_n(n)||0;try{return this.injector.get(e,r&8?null:En,r)}catch(o){if(ur(o))return o;throw o}}};function J_(t,e=0){let n=is();if(n===void 0)throw new I(-203,!1);if(n===null)return vu(t,void 0,e);{let r=Y_(e),o=n.retrieve(t,r);if(ur(o)){if(r.optional)return null;throw o}return o}}function ge(t,e=0){return(wp()||J_)(pe(t),e)}function C(t,e){return ge(t,_n(e))}function _n(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Y_(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Xc(t){let e=[];for(let n=0;n<t.length;n++){let r=pe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=Q_(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(ge(o,i))}else e.push(ge(r))}return e}function Q_(t){return t[Z_]}function Ft(t,e){let n=t.hasOwnProperty(vo);return n?t[vo]:null}function Ep(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function _p(t){return t.flat(Number.POSITIVE_INFINITY)}function ms(t,e){t.forEach(n=>Array.isArray(n)?ms(n,e):e(n))}function wu(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dp(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function bp(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function Io(t,e,n){let r=fr(t,e);return r>=0?t[r|1]=n:(r=~r,bp(t,r,e,n)),r}function ys(t,e){let n=fr(t,e);if(n>=0)return t[n|1]}function fr(t,e){return X_(t,e,1)}function X_(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var $t={},we=[],hr=new R(""),Eu=new R("",-1),_u=new R(""),wo=class{get(e,n=En){if(n===En){let o=vp("",-201);throw o.name="\u0275NotFound",o}return n}};function vs(t){return{\u0275providers:t}}function Ip(t){return vs([{provide:hr,multi:!0,useValue:t}])}function Cp(...t){return{\u0275providers:Du(!0,t),\u0275fromNgModule:!0}}function Du(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return ms(e,s=>{let a=s;cs(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Tp(o,i),n}function Tp(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];bu(o,i=>{e(i,r)})}}function cs(t,e,n,r){if(t=pe(t),!t)return!1;let o=null,i=Jc(t),s=!i&&St(t);if(!i&&!s){let c=t.ngModule;if(i=Jc(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)cs(u,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{ms(i.imports,l=>{cs(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Tp(u,e)}if(!a){let u=Ft(o)||(()=>new o);e({provide:o,useFactory:u,deps:we},o),e({provide:_u,useValue:o,multi:!0},o),e({provide:hr,useValue:()=>ge(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=t;bu(c,l=>{e(l,u)})}}else return!1;return o!==t&&t.providers!==void 0}function bu(t,e){for(let n of t)lu(n)&&(n=n.\u0275providers),Array.isArray(n)?bu(n,e):e(n)}var eD=B({provide:String,useValue:B});function Sp(t){return t!==null&&typeof t=="object"&&eD in t}function tD(t){return!!(t&&t.useExisting)}function nD(t){return!!(t&&t.useFactory)}function Dn(t){return typeof t=="function"}function Ap(t){return!!t.useClass}var Iu=new R(""),ss={},dp={},Zc;function pr(){return Zc===void 0&&(Zc=new wo),Zc}var Be=class{},bn=class extends Be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,tu(e,s=>this.processProvider(s)),this.records.set(Eu,lr(void 0,this)),o.has("environment")&&this.records.set(Be,lr(void 0,this));let i=this.records.get(Iu);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(_u,we,{self:!0}))}retrieve(e,n){let r=_n(n)||0;try{return this.get(e,En,r)}catch(o){if(ur(o))return o;throw o}}destroy(){yo(this),this._destroyed=!0;let e=N(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),N(e)}}onDestroy(e){return yo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){yo(this);let n=st(this),r=Ie(void 0),o;try{return e()}finally{st(n),Ie(r)}}get(e,n=En,r){if(yo(this),e.hasOwnProperty(lp))return e[lp](this);let o=_n(r),i,s=st(this),a=Ie(void 0);try{if(!(o&4)){let u=this.records.get(e);if(u===void 0){let l=aD(e)&&Do(e);l&&this.injectableDefInScope(l)?u=lr(eu(e),ss):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,o)}let c=o&2?pr():this.parent;return n=o&8&&n===En?null:n,c.get(e,n)}catch(c){let u=z_(c);throw u===-200||u===-201?new I(u,null):c}finally{Ie(a),st(s)}}resolveInjectorInitializers(){let e=N(null),n=st(this),r=Ie(void 0),o;try{let i=this.get(hr,we,{self:!0});for(let s of i)s()}finally{st(n),Ie(r),N(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ct(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=pe(e);let n=Dn(e)?e:pe(e&&e.provide),r=oD(e);if(!Dn(e)&&e.multi===!0){let o=this.records.get(n);o||(o=lr(void 0,ss,!0),o.factory=()=>Xc(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=N(null);try{if(n.value===dp)throw yu(Ct(e));return n.value===ss&&(n.value=dp,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&sD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{N(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=pe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function eu(t){let e=Do(t),n=e!==null?e.factory:Ft(t);if(n!==null)return n;if(t instanceof R)throw new I(204,!1);if(t instanceof Function)return rD(t);throw new I(204,!1)}function rD(t){if(t.length>0)throw new I(204,!1);let n=q_(t);return n!==null?()=>n.factory(t):()=>new t}function oD(t){if(Sp(t))return lr(void 0,t.useValue);{let e=Cu(t);return lr(e,ss)}}function Cu(t,e,n){let r;if(Dn(t)){let o=pe(t);return Ft(o)||eu(o)}else if(Sp(t))r=()=>pe(t.useValue);else if(nD(t))r=()=>t.useFactory(...Xc(t.deps||[]));else if(tD(t))r=(o,i)=>ge(pe(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=pe(t&&(t.useClass||t.provide));if(iD(t))r=()=>new o(...Xc(t.deps));else return Ft(o)||eu(o)}return r}function yo(t){if(t.destroyed)throw new I(205,!1)}function lr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iD(t){return!!t.deps}function sD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function aD(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function tu(t,e){for(let n of t)Array.isArray(n)?tu(n,e):n&&lu(n)?tu(n.\u0275providers,e):e(n)}function ws(t,e){let n;t instanceof bn?(yo(t),n=t):n=new Qc(t);let r,o=st(n),i=Ie(void 0);try{return e()}finally{st(o),Ie(i)}}function xp(){return wp()!==void 0||is()!=null}var Ze=0,T=1,A=2,ue=3,$e=4,Ce=5,gr=6,mr=7,Ee=8,Ut=9,lt=10,G=11,yr=12,Tu=13,Cn=14,Me=15,Vt=16,Tn=17,dt=18,Co=19,Su=20,It=21,Es=22,To=23,Pe=24,Sn=25,So=26,Q=27,Np=1;var Ht=7,Ao=8,An=9,Te=10;function ft(t){return Array.isArray(t)&&typeof t[Np]=="object"}function Je(t){return Array.isArray(t)&&t[Np]===!0}function Au(t){return(t.flags&4)!==0}function qt(t){return t.componentOffset>-1}function vr(t){return(t.flags&1)===1}function ht(t){return!!t.template}function wr(t){return(t[A]&512)!==0}function xn(t){return(t[A]&256)===256}var xu="svg",Mp="math";function Ue(t){for(;Array.isArray(t);)t=t[Ze];return t}function Nu(t,e){return Ue(e[t])}function Ye(t,e){return Ue(e[t.index])}function _s(t,e){return t.data[e]}function xo(t,e){return t[e]}function Mu(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ve(t,e){let n=e[t];return ft(n)?n:n[Ze]}function Op(t){return(t[A]&4)===4}function Ds(t){return(t[A]&128)===128}function Rp(t){return Je(t[ue])}function Gt(t,e){return e==null?null:t[e]}function Ou(t){t[Tn]=0}function Ru(t){t[A]&1024||(t[A]|=1024,Ds(t)&&Er(t))}function kp(t,e){for(;t>0;)e=e[Cn],t--;return e}function No(t){return!!(t[A]&9216||t[Pe]?.dirty)}function bs(t){t[lt].changeDetectionScheduler?.notify(8),t[A]&64&&(t[A]|=1024),No(t)&&Er(t)}function Er(t){t[lt].changeDetectionScheduler?.notify(0);let e=Lt(t);for(;e!==null&&!(e[A]&8192||(e[A]|=8192,!Ds(e)));)e=Lt(e)}function ku(t,e){if(xn(t))throw new I(911,!1);t[It]===null&&(t[It]=[]),t[It].push(e)}function Pp(t,e){if(t[It]===null)return;let n=t[It].indexOf(e);n!==-1&&t[It].splice(n,1)}function Lt(t){let e=t[ue];return Je(e)?e[ue]:e}function Pu(t){return t[mr]??=[]}function Fu(t){return t.cleanup??=[]}function Fp(t,e,n,r){let o=Pu(e);o.push(n),t.firstCreatePass&&Fu(t).push(r,o.length-1)}var O={lFrame:Zp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nu=!1;function Lp(){return O.lFrame.elementDepthCount}function jp(){O.lFrame.elementDepthCount++}function Lu(){O.lFrame.elementDepthCount--}function Is(){return O.bindingsEnabled}function ju(){return O.skipHydrationRootTNode!==null}function Bu(t){return O.skipHydrationRootTNode===t}function $u(){O.skipHydrationRootTNode=null}function S(){return O.lFrame.lView}function ne(){return O.lFrame.tView}function Bp(t){return O.lFrame.contextLView=t,t[Ee]}function $p(t){return O.lFrame.contextLView=null,t}function se(){let t=Uu();for(;t!==null&&t.type===64;)t=t.parent;return t}function Uu(){return O.lFrame.currentTNode}function Up(){let t=O.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function _r(t,e){let n=O.lFrame;n.currentTNode=t,n.isParent=e}function Vu(){return O.lFrame.isParent}function Hu(){O.lFrame.isParent=!1}function Vp(){return O.lFrame.contextLView}function qu(){return nu}function Gu(t){let e=nu;return nu=t,e}function Nn(){let t=O.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Wu(){return O.lFrame.bindingIndex}function Hp(t){return O.lFrame.bindingIndex=t}function Mo(){return O.lFrame.bindingIndex++}function Oo(t){let e=O.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qp(){return O.lFrame.inI18n}function Gp(t,e){let n=O.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cs(e)}function Wp(){return O.lFrame.currentDirectiveIndex}function Cs(t){O.lFrame.currentDirectiveIndex=t}function zp(t){let e=O.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Ts(){return O.lFrame.currentQueryIndex}function Ro(t){O.lFrame.currentQueryIndex=t}function cD(t){let e=t[T];return e.type===2?e.declTNode:e.type===1?t[Ce]:null}function zu(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=cD(i),o===null||(i=i[Cn],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=O.lFrame=Kp();return r.currentTNode=e,r.lView=t,!0}function Ss(t){let e=Kp(),n=t[T];O.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Kp(){let t=O.lFrame,e=t===null?null:t.child;return e===null?Zp(t):e}function Zp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Jp(){let t=O.lFrame;return O.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ku=Jp;function As(){let t=Jp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yp(t){return(O.lFrame.contextLView=kp(t,O.lFrame.contextLView))[Ee]}function pt(){return O.lFrame.selectedIndex}function Wt(t){O.lFrame.selectedIndex=t}function xs(){let t=O.lFrame;return _s(t.tView,t.selectedIndex)}function Qp(){O.lFrame.currentNamespace=xu}function Xp(){uD()}function uD(){O.lFrame.currentNamespace=null}function eg(){return O.lFrame.currentNamespace}var tg=!0;function Ns(){return tg}function ko(t){tg=t}function ru(t,e=null,n=null,r){let o=Zu(t,e,n,r);return o.resolveInjectorInitializers(),o}function Zu(t,e=null,n=null,r,o=new Set){let i=[n||we,Cp(t)];return r=r||(typeof t=="object"?void 0:Ct(t)),new bn(i,e||pr(),r||null,o)}var at=class t{static THROW_IF_NOT_FOUND=En;static NULL=new wo;static create(e,n){if(Array.isArray(e))return ru({name:""},n,e,"");{let r=e.name??"";return ru({name:r},e.parent,e.providers,r)}}static \u0275prov=V({token:t,providedIn:"any",factory:()=>ge(Eu)});static __NG_ELEMENT_ID__=-1},At=new R(""),zt=(()=>{class t{static __NG_ELEMENT_ID__=lD;static __NG_ENV_ID__=n=>n}return t})(),ou=class extends zt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xn(this._lView)}onDestroy(e){let n=this._lView;return ku(n,e),()=>Pp(n,e)}};function lD(){return new ou(S())}var ng=!1,Mn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ho(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new P(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})(),iu=class extends Ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,xp()&&(this.destroyRef=C(zt,{optional:!0})??void 0,this.pendingTasks=C(Mn,{optional:!0})??void 0)}emit(e){let n=N(null);try{super.next(e)}finally{N(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof ie&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},bt=iu;function us(...t){}function Ju(t){let e,n;function r(){t=us;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Yu(t){return queueMicrotask(()=>t()),()=>{t=us}}var Qu="isAngularZone",Eo=Qu+"_ID",dD=0,ct=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new bt(!1);onMicrotaskEmpty=new bt(!1);onStable=new bt(!1);onError=new bt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ng}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,pD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qu)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,fD,us,us);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},fD={};function Xu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hD(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Ju(()=>{t.callbackScheduled=!1,su(t),t.isCheckStableRunning=!0,Xu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),su(t)}function pD(t){let e=()=>{hD(t)},n=dD++;t._inner=t._inner.fork({name:"angular",properties:{[Qu]:!0,[Eo]:n,[Eo+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(gD(c))return r.invokeTask(i,s,a,c);try{return fp(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),hp(t)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return fp(t),r.invoke(i,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!mD(c)&&e(),hp(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,su(t),Xu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function su(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hp(t){t._nesting--,Xu(t)}var _o=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new bt;onMicrotaskEmpty=new bt;onStable=new bt;onError=new bt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function gD(t){return rg(t,"__ignore_ng_zone__")}function mD(t){return rg(t,"__scheduler_tick__")}function rg(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Tt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},xt=new R("",{factory:()=>{let t=C(ct),e=C(Be),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(Tt),n.handleError(r))})}}}),og={provide:hr,useValue:()=>{let t=C(Tt,{optional:!0})},multi:!0},yD=new R("",{factory:()=>{let t=C(At).defaultView;if(!t)return;let e=C(xt),n=i=>{e(i.reason),i.preventDefault()},r=i=>{i.error?e(i.error):e(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),C(zt).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function vD(){return vs([Ip(()=>void C(yD))])}function Ms(t,e){let[n,r,o]=Rc(t,e?.equal),i=n,s=i[he];return i.set=r,i.update=o,i.asReadonly=el.bind(i),i}function el(){let t=this[he];if(t.readonlyFn===void 0){let e=()=>this();e[he]=t,t.readonlyFn=e}return t.readonlyFn}var Os=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=wD}return t})();function wD(){return new Os(S(),se())}var jt=class{},Po=new R("",{factory:()=>!0});var tl=new R(""),nl=(()=>{class t{internalPendingTasks=C(Mn);scheduler=C(jt);errorHandler=C(xt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})(),rl=(()=>{class t{static \u0275prov=V({token:t,providedIn:"root",factory:()=>new au})}return t})(),au=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},cu=class{[he];constructor(e){this[he]=e}destroy(){this[he].destroy()}};function Rs(t){return kc(t)}function Go(t){return{toString:t}.toString()}function TD(t){return typeof t=="function"}function Og(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Us=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},Ll=(()=>{let t=()=>Rg;return t.ngInherit=!0,t})();function Rg(t){return t.type.prototype.ngOnChanges&&(t.setInput=AD),SD}function SD(){let t=Pg(this),e=t?.current;if(e){let n=t.previous;if(n===$t)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function AD(t,e,n,r,o){let i=this.declaredInputs[r],s=Pg(t)||xD(t,{previous:$t,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Us(u&&u.currentValue,n,c===$t),Og(t,e,o,n)}var kg="__ngSimpleChanges__";function Pg(t){return t[kg]||null}function xD(t,e){return t[kg]=e}var ig=[];var $=function(t,e=null,n){for(let r=0;r<ig.length;r++){let o=ig[r];o(t,e,n)}},L=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(L||{});function ND(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=Rg(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function Fg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Fs(t,e,n){Lg(t,e,3,n)}function Ls(t,e,n,r){(t[A]&3)===n&&Lg(t,e,n,r)}function ol(t,e){let n=t[A];(n&3)===e&&(n&=16383,n+=1,t[A]=n)}function Lg(t,e,n,r){let o=r!==void 0?t[Tn]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Tn]+=65536),(a<i||i==-1)&&(MD(t,n,e,c),t[Tn]=(t[Tn]&4294901760)+c+2),c++}function sg(t,e){$(L.LifecycleHookStart,t,e);let n=N(null);try{e.call(t)}finally{N(n),$(L.LifecycleHookEnd,t,e)}}function MD(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[A]>>14<t[Tn]>>16&&(t[A]&3)===e&&(t[A]+=16384,sg(a,i)):sg(a,i)}var br=-1,Rn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function OD(t){return(t.flags&8)!==0}function RD(t){return(t.flags&16)!==0}function kD(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];PD(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function jg(t){return t===3||t===4||t===6}function PD(t){return t.charCodeAt(0)===64}function Ir(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?ag(t,n,o,null,e[++r]):ag(t,n,o,null,null))}}return t}function ag(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function Bg(t){return t!==br}function Vs(t){return t&32767}function FD(t){return t>>16}function Hs(t,e){let n=FD(t),r=e;for(;n>0;)r=r[Cn],n--;return r}var pl=!0;function qs(t){let e=pl;return pl=t,e}var LD=256,$g=LD-1,Ug=5,jD=0,gt={};function BD(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(In)&&(r=n[In]),r==null&&(r=n[In]=jD++);let o=r&$g,i=1<<o;e.data[t+(o>>Ug)]|=i}function Gs(t,e){let n=Vg(t,e);if(n!==-1)return n;let r=e[T];r.firstCreatePass&&(t.injectorIndex=e.length,il(r.data,t),il(e,null),il(r.blueprint,null));let o=jl(t,e),i=t.injectorIndex;if(Bg(o)){let s=Vs(o),a=Hs(o,e),c=a[T].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function il(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Vg(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jl(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=zg(o),r===null)return br;if(n++,o=o[Cn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return br}function gl(t,e,n){BD(t,e,n)}function $D(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(jg(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===e)return n[o+1];o=o+2}}}return null}function Hg(t,e,n){if(n&8||t!==void 0)return t;gs(e,"NodeInjector")}function qg(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[Ut],i=Ie(void 0);try{return o?o.get(e,r,n&8):vu(e,r,n&8)}finally{Ie(i)}}return Hg(r,e,n)}function Gg(t,e,n,r=0,o){if(t!==null){if(e[A]&2048&&!(r&2)){let s=GD(t,e,n,r,gt);if(s!==gt)return s}let i=Wg(t,e,n,r,gt);if(i!==gt)return i}return qg(e,n,r,o)}function Wg(t,e,n,r,o){let i=VD(n);if(typeof i=="function"){if(!zu(e,t,r))return r&1?Hg(o,n,r):qg(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))gs(n);else return s}finally{Ku()}}else if(typeof i=="number"){let s=null,a=Vg(t,e),c=br,u=r&1?e[Me][Ce]:null;for((a===-1||r&4)&&(c=a===-1?jl(t,e):e[a+8],c===br||!ug(r,!1)?a=-1:(s=e[T],a=Vs(c),e=Hs(c,e)));a!==-1;){let l=e[T];if(cg(i,a,l.data)){let d=UD(a,e,n,s,r,u);if(d!==gt)return d}c=e[a+8],c!==br&&ug(r,e[T].data[a+8]===u)&&cg(i,a,e)?(s=l,a=Vs(c),e=Hs(c,e)):a=-1}}return o}function UD(t,e,n,r,o,i){let s=e[T],a=s.data[t+8],c=r==null?qt(a)&&pl:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=js(a,s,n,c,u);return l!==null?Bo(e,s,l,a,o):gt}function js(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,u=t.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&ht(f)&&f.type===n)return c}return null}function Bo(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof Rn){let a=i;if(a.resolving){let f=mp(s[n]);throw yu(f)}let c=qs(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Ie(a.injectImpl):null,h=zu(t,r,0);try{i=t[n]=a.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&ND(n,s[n],e)}finally{d!==null&&Ie(d),qs(c),a.resolving=!1,Ku()}}return i}function VD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(In)?t[In]:void 0;return typeof e=="number"?e>=0?e&$g:HD:e}function cg(t,e,n){let r=1<<t;return!!(n[e+(t>>Ug)]&r)}function ug(t,e){return!(t&2)&&!(t&1&&e)}var On=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Gg(this._tNode,this._lView,e,_n(r),n)}};function HD(){return new On(se(),S())}function qD(t){return Go(()=>{let e=t.prototype.constructor,n=e[vo]||ml(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[vo]||ml(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function ml(t){return uu(t)?()=>{let e=ml(pe(t));return e&&e()}:Ft(t)}function GD(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[A]&2048&&!wr(s);){let a=Wg(i,s,n,r|2,gt);if(a!==gt)return a;let c=i.parent;if(!c){let u=s[Su];if(u){let l=u.get(n,gt,r);if(l!==gt)return l}c=zg(s),s=s[Cn]}i=c}return o}function zg(t){let e=t[T],n=e.type;return n===2?e.declTNode:n===1?t[Ce]:null}function Bl(t){return $D(se(),t)}function WD(){return xr(se(),S())}function xr(t,e){return new Jt(Ye(t,e))}var Jt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=WD}return t})();function Kg(t){return t instanceof Jt?t.nativeElement:t}function zD(){return this._results[Symbol.iterator]()}var Ws=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ke}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=_p(e);(this._changesDetected=!Ep(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=zD};function Zg(t){return(t.flags&128)===128}var $l=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})($l||{}),Jg=new Map,KD=0;function ZD(){return KD++}function JD(t){Jg.set(t[Co],t)}function yl(t){Jg.delete(t[Co])}var lg="__ngContext__";function Cr(t,e){ft(e)?(t[lg]=e[Co],JD(e)):t[lg]=e}function Yg(t){return Xg(t[yr])}function Qg(t){return Xg(t[$e])}function Xg(t){for(;t!==null&&!Je(t);)t=t[$e];return t}var YD;function QD(t){YD=t}var XD=new R("",{factory:()=>eb}),eb="ng";var em=new R(""),tb=new R("",{providedIn:"platform",factory:()=>"unknown"});var nb=new R("",{factory:()=>C(At).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tm=!1,nm=new R("",{factory:()=>tm});var rb=(t,e,n,r)=>{};function ob(t,e,n,r){rb(t,e,n,r)}function ia(t){return(t.flags&32)===32}var ib=()=>null;function rm(t,e,n=!1){return ib(t,e,n)}function om(t,e){let n=t.contentQueries;if(n!==null){let r=N(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];Ro(i),a.contentQueries(2,e[s],s)}}}finally{N(r)}}}function vl(t,e,n){Ro(0);let r=N(null);try{e(t,n)}finally{N(r)}}function Ul(t,e,n){if(Au(e)){let r=N(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{N(r)}}}var kn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(kn||{});var ks;function sb(){if(ks===void 0&&(ks=null,Bt.trustedTypes))try{ks=Bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ks}function dg(t){return sb()?.createScriptURL(t)||t}var zs=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ls})`}};function Nr(t){return t instanceof zs?t.changingThisBreaksApplicationSecurity:t}function Vl(t,e){let n=im(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ls})`)}return n===e}function im(t){return t instanceof zs&&t.getTypeName()||null}var ab=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sm(t){return t=String(t),t.match(ab)?t:"unsafe:"+t}var cb=/^>|^->|<!--|-->|--!>|<!-$/g,ub=/(<|>)/g,lb="\u200B$1\u200B";function db(t){return t.replace(cb,e=>e.replace(ub,lb))}function fb(t,e){return t.createText(e)}function hb(t,e,n){t.setValue(e,n)}function pb(t,e){return t.createComment(db(e))}function am(t,e,n){return t.createElement(e,n)}function Ks(t,e,n,r,o){t.insertBefore(e,n,r,o)}function cm(t,e,n){t.appendChild(e,n)}function fg(t,e,n,r,o){r!==null?Ks(t,e,n,r,o):cm(t,e,n)}function gb(t,e,n,r){t.removeChild(null,e,n,r)}function mb(t,e,n){t.setAttribute(e,"style",n)}function yb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function um(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&kD(t,e,r),o!==null&&yb(t,e,o),i!==null&&mb(t,e,i)}var sa=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(sa||{});function lm(t){let e=fm();return e?e.sanitize(sa.URL,t)||"":Vl(t,"URL")?Nr(t):sm(ut(t))}function dm(t){let e=fm();if(e)return dg(e.sanitize(sa.RESOURCE_URL,t)||"");if(Vl(t,"ResourceURL"))return dg(Nr(t));throw new I(904,!1)}function vb(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?dm:lm}function wb(t,e,n){return vb(e,n)(t)}function fm(){let t=S();return t&&t[lt].sanitizer}function Eb(t){return t.ownerDocument}function hm(t){return t instanceof Function?t():t}function _b(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var pm="ng-template";function Db(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&_b(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Hl(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Hl(t){return t.type===4&&t.value!==pm}function bb(t,e,n){let r=t.type===4&&!n?pm:t.value;return e===r}function Ib(t,e,n){let r=4,o=t.attrs,i=o!==null?Sb(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Qe(r)&&!Qe(c))return!1;if(s&&Qe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!bb(t,c,n)||c===""&&e.length===1){if(Qe(r))return!1;s=!0}}else if(r&8){if(o===null||!Db(t,o,c,n)){if(Qe(r))return!1;s=!0}}else{let u=e[++a],l=Cb(c,o,Hl(t),n);if(l===-1){if(Qe(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(Qe(r))return!1;s=!0}}}}return Qe(r)||s}function Qe(t){return(t&1)===0}function Cb(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Ab(e,t)}function gm(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ib(t,e[r],n))return!0;return!1}function Tb(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function Sb(t){for(let e=0;e<t.length;e++){let n=t[e];if(jg(n))return e}return t.length}function Ab(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xb(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function hg(t,e){return t?":not("+e.trim()+")":e}function Nb(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Qe(s)&&(e+=hg(i,o),o=""),r=s,i=i||!Qe(r);n++}return o!==""&&(e+=hg(i,o)),e}function Mb(t){return t.map(Nb).join(",")}function Ob(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Qe(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var _e={};function ql(t,e,n,r,o,i,s,a,c,u,l){let d=Q+r,h=d+o,f=Rb(d,h),p=typeof u=="function"?u():u;return f[T]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function Rb(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}function kb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ql(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gl(t,e,n,r,o,i,s,a,c,u,l){let d=e.blueprint.slice();return d[Ze]=o,d[A]=r|4|128|8|64|1024,(u!==null||t&&t[A]&2048)&&(d[A]|=2048),Ou(d),d[ue]=d[Cn]=t,d[Ee]=n,d[lt]=s||t&&t[lt],d[G]=a||t&&t[G],d[Ut]=c||t&&t[Ut]||null,d[Ce]=i,d[Co]=ZD(),d[gr]=l,d[Su]=u,d[Me]=e.type==2?t[Me]:d,d}function Pb(t,e,n){let r=Ye(e,t),o=kb(n),i=t[lt].rendererFactory,s=Wl(t,Gl(t,o,null,mm(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function mm(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ym(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Wl(t,e){return t[yr]?t[Tu][$e]=e:t[yr]=e,t[Tu]=e,e}function Fb(t=1){vm(ne(),S(),pt()+t,!1)}function vm(t,e,n,r){if(!r)if((e[A]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Fs(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Ls(e,i,0,n)}Wt(n)}var aa=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(aa||{});function wl(t,e,n,r){let o=N(null);try{let[i,s,a]=t.inputs[n],c=null;(s&aa.SignalBased)!==0&&(c=e[i][he]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,i):Og(e,c,i,r)}finally{N(o)}}var Tr=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Tr||{}),Lb;function zl(t,e){return Lb(t,e)}var Zs=new Set,ca=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(ca||{}),Wo=new R(""),pg=new Set;function ua(t){pg.has(t)||(pg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Kl=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})(),wm=[0,1,2,3],Em=(()=>{class t{ngZone=C(ct);scheduler=C(jt);errorHandler=C(Tt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(Wo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&$(L.AfterRenderHooksStart),this.executing=!0;for(let r of wm)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&$(L.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Sn]??=[]).push(n),Er(r),r[A]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ca.AFTER_NEXT_RENDER,n):n()}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})(),Js=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,o,i,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Sn];e&&(this.view[Sn]=e.filter(n=>n!==this))}};function jb(t,e){let n=e?.injector??C(at);return ua("NgAfterRender"),_m(t,n,e,!1)}function Bb(t,e){let n=e?.injector??C(at);return ua("NgAfterNextRender"),_m(t,n,e,!0)}function $b(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function _m(t,e,n,r){let o=e.get(Kl);o.impl??=e.get(Em);let i=e.get(Wo,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(zt):null,a=e.get(Os,null,{optional:!0}),c=new Js(o.impl,$b(t),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var Ub=new R("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:C(Be)})});function Dm(t,e,n){let r=t.get(Ub);if(Array.isArray(e))for(let o of e)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function Vb(t,e){for(let[n,r]of e)Dm(t,r.animateFns)}function gg(t,e,n,r){let o=t?.[So]?.enter;e!==null&&o&&o.has(n.index)&&Vb(r,o)}function Dr(t,e,n,r,o,i,s,a){if(o!=null){let c,u=!1;Je(o)?c=o:ft(o)&&(u=!0,o=o[Ze]);let l=Ue(o);t===0&&r!==null?(gg(a,r,i,n),s==null?cm(e,r,l):Ks(e,r,l,s||null,!0)):t===1&&r!==null?(gg(a,r,i,n),Ks(e,r,l,s||null,!0)):t===2?mg(a,i,n,d=>{gb(e,l,u,d)}):t===3&&mg(a,i,n,()=>{e.destroyNode(l)}),c!=null&&Xb(e,t,n,c,i,r,s)}}function Hb(t,e){bm(t,e),e[Ze]=null,e[Ce]=null}function qb(t,e,n,r,o,i){r[Ze]=o,r[Ce]=e,la(t,r,n,1,o,i)}function bm(t,e){e[lt].changeDetectionScheduler?.notify(9),la(t,e,e[G],2,null,null)}function Gb(t){let e=t[yr];if(!e)return sl(t[T],t);for(;e;){let n=null;if(ft(e))n=e[yr];else{let r=e[Te];r&&(n=r)}if(!n){for(;e&&!e[$e]&&e!==t;)ft(e)&&sl(e[T],e),e=e[ue];e===null&&(e=t),ft(e)&&sl(e[T],e),n=e&&e[$e]}e=n}}function Zl(t,e){let n=t[An],r=n.indexOf(e);n.splice(r,1)}function Im(t,e){if(xn(e))return;let n=e[G];n.destroyNode&&la(t,e,n,3,null,null),Gb(e)}function sl(t,e){if(xn(e))return;let n=N(null);try{e[A]&=-129,e[A]|=256,e[Pe]&&co(e[Pe]),Kb(t,e),zb(t,e),e[T].type===1&&e[G].destroy();let r=e[Vt];if(r!==null&&Je(e[ue])){r!==e[ue]&&Zl(r,e);let o=e[dt];o!==null&&o.detachView(t)}yl(e)}finally{N(n)}}function mg(t,e,n,r){let o=t?.[So];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);t&&Zs.add(t),Dm(n,()=>{if(o.leave&&o.leave.has(e.index)){let s=o.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),Wb(t,r)}else t&&Zs.delete(t),r(!1)},o)}function Wb(t,e){let n=t[So]?.running;if(n){n.then(()=>{t[So].running=void 0,Zs.delete(t),e(!0)});return}e(!1)}function zb(t,e){let n=t.cleanup,r=e[mr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[mr]=null);let o=e[It];if(o!==null){e[It]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[To];if(i!==null){e[To]=null;for(let s of i)s.destroy()}}function Kb(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof Rn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];$(L.LifecycleHookStart,a,c);try{c.call(a)}finally{$(L.LifecycleHookEnd,a,c)}}else{$(L.LifecycleHookStart,o,i);try{i.call(o)}finally{$(L.LifecycleHookEnd,o,i)}}}}}function Cm(t,e,n){return Zb(t,e.parent,n)}function Zb(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ze];if(qt(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===kn.None||o===kn.Emulated)return null}return Ye(r,n)}function Tm(t,e,n){return Yb(t,e,n)}function Jb(t,e,n){return t.type&40?Ye(t,n):null}var Yb=Jb,yg;function Jl(t,e,n,r){let o=Cm(t,r,e),i=e[G],s=r.parent||e[Ce],a=Tm(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)fg(i,o,n[c],a,!1);else fg(i,o,n,a,!1);yg!==void 0&&yg(i,r,e,n,o)}function Lo(t,e){if(e!==null){let n=e.type;if(n&3)return Ye(e,t);if(n&4)return El(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Lo(t,r);{let o=t[e.index];return Je(o)?El(-1,o):Ue(o)}}else{if(n&128)return Lo(t,e.next);if(n&32)return zl(e,t)()||Ue(t[e.index]);{let r=Sm(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Lt(t[Me]);return Lo(o,r)}else return Lo(t,e.next)}}}return null}function Sm(t,e){if(e!==null){let r=t[Me][Ce],o=e.projection;return r.projection[o]}return null}function El(t,e){let n=Te+t+1;if(n<e.length){let r=e[n],o=r[T].firstChild;if(o!==null)return Lo(r,o)}return e[Ht]}function Yl(t,e,n,r,o,i,s){for(;n!=null;){let a=r[Ut];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Cr(Ue(c),r),n.flags|=2),!ia(n))if(u&8)Yl(t,e,n.child,r,o,i,!1),Dr(e,t,a,o,c,n,i,r);else if(u&32){let l=zl(n,r),d;for(;d=l();)Dr(e,t,a,o,d,n,i,r);Dr(e,t,a,o,c,n,i,r)}else u&16?Am(t,e,r,n,o,i):Dr(e,t,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function la(t,e,n,r,o,i){Yl(n,r,t.firstChild,e,o,i,!1)}function Qb(t,e,n){let r=e[G],o=Cm(t,n,e),i=n.parent||e[Ce],s=Tm(i,n,e);Am(r,0,e,n,o,s)}function Am(t,e,n,r,o,i){let s=n[Me],c=s[Ce].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Dr(e,t,n[Ut],o,l,r,i,n)}else{let u=c,l=s[ue];Zg(r)&&(u.flags|=128),Yl(t,e,u,l,o,i,!0)}}function Xb(t,e,n,r,o,i,s){let a=r[Ht],c=Ue(r);a!==c&&Dr(e,t,n,i,a,o,s);for(let u=Te;u<r.length;u++){let l=r[u];la(l[T],l,t,e,i,a)}}function eI(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Tr.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Tr.Important),t.setStyle(n,r,o,i))}}function xm(t,e,n,r,o){let i=pt(),s=r&2;try{Wt(-1),s&&e.length>Q&&vm(t,e,Q,!1);let a=s?L.TemplateUpdateStart:L.TemplateCreateStart;$(a,o,n),n(r,o)}finally{Wt(i);let a=s?L.TemplateUpdateEnd:L.TemplateCreateEnd;$(a,o,n)}}function da(t,e,n){aI(t,e,n),(n.flags&64)===64&&cI(t,e,n)}function zo(t,e,n=Ye){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function tI(t,e,n,r){let i=r.get(nm,tm)||n===kn.ShadowDom||n===kn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,i);return nI(s),s}function nI(t){rI(t)}var rI=()=>null;function oI(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Nm(t,e,n,r,o,i){let s=e[T];if(td(t,s,e,n,r)){qt(t)&&sI(e,t.index);return}t.type&3&&(n=oI(n)),iI(t,e,n,r,o,i)}function iI(t,e,n,r,o,i){if(t.type&3){let s=Ye(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(s,n,r)}else t.type&12}function sI(t,e){let n=Ve(e,t);n[A]&16||(n[A]|=64)}function aI(t,e,n){let r=n.directiveStart,o=n.directiveEnd;qt(n)&&Pb(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Gs(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],c=Bo(e,t,s,n);if(Cr(c,e),i!==null&&fI(e,s-r,c,a,n,i),ht(a)){let u=Ve(n.index,e);u[Ee]=Bo(e,t,s,n)}}}function cI(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Wp();try{Wt(i);for(let a=r;a<o;a++){let c=t.data[a],u=e[a];Cs(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&uI(c,u)}}finally{Wt(-1),Cs(s)}}function uI(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ql(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];gm(e,i.selectors,!1)&&(r??=[],ht(i)?r.unshift(i):r.push(i))}return r}function lI(t,e,n,r,o,i){let s=Ye(t,e);dI(e[G],s,i,t.value,n,r,o)}function dI(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?ut(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function fI(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];wl(r,n,c,u)}}function Xl(t,e,n,r,o){let i=Q+n,s=e[T],a=o(s,e,t,r,n);e[i]=a,_r(t,!0);let c=t.type===2;return c?(um(e[G],a,t),(Lp()===0||vr(t))&&Cr(a,e),jp()):Cr(a,e),Ns()&&(!c||!ia(t))&&Jl(s,e,a,t),t}function ed(t){let e=t;return Vu()?Hu():(e=e.parent,_r(e,!1)),e}function hI(t,e){let n=t[Ut];if(!n)return;let r;try{r=n.get(xt,null)}catch{r=null}r?.(e)}function td(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=e.data[u];wl(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=e.data[c];wl(l,u,r,o),a=!0}return a}function pI(t,e){let n=Ve(e,t),r=n[T];gI(r,n);let o=n[Ze];o!==null&&n[gr]===null&&(n[gr]=rm(o,n[Ut])),$(L.ComponentStart);try{nd(r,n,n[Ee])}finally{$(L.ComponentEnd,n[Ee])}}function gI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function nd(t,e,n){Ss(e);try{let r=t.viewQuery;r!==null&&vl(1,r,n);let o=t.template;o!==null&&xm(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[dt]?.finishViewCreation(t),t.staticContentQueries&&om(t,e),t.staticViewQueries&&vl(2,t.viewQuery,n);let i=t.components;i!==null&&mI(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[A]&=-5,As()}}function mI(t,e){for(let n=0;n<e.length;n++)pI(t,e[n])}function Mm(t,e,n,r){let o=N(null);try{let i=e.tView,a=t[A]&4096?4096:16,c=Gl(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Vt]=u;let l=t[dt];return l!==null&&(c[dt]=l.createEmbeddedView(i)),nd(i,c,n),c}finally{N(o)}}function _l(t,e){return!e||e.firstChild===null||Zg(t)}function $o(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(Ue(i)),Je(i)&&Om(i,r);let s=n.type;if(s&8)$o(t,e,n.child,r);else if(s&32){let a=zl(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Sm(e,n);if(Array.isArray(a))r.push(...a);else{let c=Lt(e[Me]);$o(c[T],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Om(t,e){for(let n=Te;n<t.length;n++){let r=t[n],o=r[T].firstChild;o!==null&&$o(r[T],r,o,e)}t[Ht]!==t[Ze]&&e.push(t[Ht])}function Rm(t){if(t[Sn]!==null){for(let e of t[Sn])e.impl.addSequence(e);t[Sn].length=0}}var km=[];function yI(t){return t[Pe]??vI(t)}function vI(t){let e=km.pop()??Object.create(EI);return e.lView=t,e}function wI(t){t.lView[Pe]!==t&&(t.lView=null,km.push(t))}var EI=je(ye({},io),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Er(t.lView)},consumerOnSignalRead(){this.lView[Pe]=this}});function _I(t){let e=t[Pe]??Object.create(DI);return e.lView=t,e}var DI=je(ye({},io),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Lt(t.lView);for(;e&&!Pm(e[T]);)e=Lt(e);e&&Ru(e)},consumerOnSignalRead(){this.lView[Pe]=this}});function Pm(t){return t.type!==2}function Fm(t){if(t[To]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[To])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[A]&8192)}}var bI=100;function Lm(t,e=0){let r=t[lt].rendererFactory,o=!1;o||r.begin?.();try{II(t,e)}finally{o||r.end?.()}}function II(t,e){let n=qu();try{Gu(!0),Dl(t,e);let r=0;for(;No(t);){if(r===bI)throw new I(103,!1);r++,Dl(t,1)}}finally{Gu(n)}}function CI(t,e,n,r){if(xn(e))return;let o=e[A],i=!1,s=!1;Ss(e);let a=!0,c=null,u=null;i||(Pm(t)?(u=yI(e),c=ao(u)):Di()===null?(a=!1,u=_I(e),c=ao(u)):e[Pe]&&(co(e[Pe]),e[Pe]=null));try{Ou(e),Hp(t.bindingStartIndex),n!==null&&xm(t,e,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=t.preOrderCheckHooks;f!==null&&Fs(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Ls(e,f,0,null),ol(e,0)}if(s||TI(e),Fm(e),jm(e,0),t.contentQueries!==null&&om(t,e),!i)if(l){let f=t.contentCheckHooks;f!==null&&Fs(e,f)}else{let f=t.contentHooks;f!==null&&Ls(e,f,1),ol(e,1)}AI(t,e);let d=t.components;d!==null&&$m(e,d,0);let h=t.viewQuery;if(h!==null&&vl(2,h,r),!i)if(l){let f=t.viewCheckHooks;f!==null&&Fs(e,f)}else{let f=t.viewHooks;f!==null&&Ls(e,f,2),ol(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Es]){for(let f of e[Es])f();e[Es]=null}i||(Rm(e),e[A]&=-73)}catch(l){throw i||Er(e),l}finally{u!==null&&(bi(u,c),a&&wI(u)),As()}}function jm(t,e){for(let n=Yg(t);n!==null;n=Qg(n))for(let r=Te;r<n.length;r++){let o=n[r];Bm(o,e)}}function TI(t){for(let e=Yg(t);e!==null;e=Qg(e)){if(!(e[A]&2))continue;let n=e[An];for(let r=0;r<n.length;r++){let o=n[r];Ru(o)}}}function SI(t,e,n){$(L.ComponentStart);let r=Ve(e,t);try{Bm(r,n)}finally{$(L.ComponentEnd,r[Ee])}}function Bm(t,e){Ds(t)&&Dl(t,e)}function Dl(t,e){let r=t[T],o=t[A],i=t[Pe],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Ii(i)),s||=!1,i&&(i.dirty=!1),t[A]&=-9217,s)CI(r,t,r.template,t[Ee]);else if(o&8192){let a=N(null);try{Fm(t),jm(t,1);let c=r.components;c!==null&&$m(t,c,1),Rm(t)}finally{N(a)}}}function $m(t,e,n){for(let r=0;r<e.length;r++)SI(t,e[r],n)}function AI(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Wt(~o);else{let i=o,s=n[++r],a=n[++r];Gp(s,i);let c=e[i];$(L.HostBindingsUpdateStart,c);try{a(2,c)}finally{$(L.HostBindingsUpdateEnd,c)}}}}finally{Wt(-1)}}function rd(t,e){let n=qu()?64:1088;for(t[lt].changeDetectionScheduler?.notify(e);t;){t[A]|=n;let r=Lt(t);if(wr(t)&&!r)return t;t=r}return null}function Um(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Vm(t,e,n,r=!0){let o=e[T];if(xI(o,e,t,n),r){let s=El(n,t),a=e[G],c=a.parentNode(t[Ht]);c!==null&&qb(o,t[Ce],a,e,c,s)}let i=e[gr];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function bl(t,e){if(t.length<=Te)return;let n=Te+e,r=t[n];if(r){let o=r[Vt];o!==null&&o!==t&&Zl(o,r),e>0&&(t[n-1][$e]=r[$e]);let i=bo(t,Te+e);Hb(r[T],r);let s=i[dt];s!==null&&s.detachView(i[T]),r[ue]=null,r[$e]=null,r[A]&=-129}return r}function xI(t,e,n,r){let o=Te+r,i=n.length;r>0&&(n[o-1][$e]=e),r<i-Te?(e[$e]=n[o],wu(n,Te+r,e)):(n.push(e),e[$e]=null),e[ue]=n;let s=e[Vt];s!==null&&n!==s&&Hm(s,e);let a=e[dt];a!==null&&a.insertView(t),bs(e),e[A]|=128}function Hm(t,e){let n=t[An],r=e[ue];if(ft(r))t[A]|=2;else{let o=r[ue][Me];e[Me]!==o&&(t[A]|=2)}n===null?t[An]=[e]:n.push(e)}var Kt=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[T];return $o(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ee]}set context(e){this._lView[Ee]=e}get destroyed(){return xn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ue];if(Je(e)){let n=e[Ao],r=n?n.indexOf(this):-1;r>-1&&(bl(e,r),bo(n,r))}this._attachedToViewContainer=!1}Im(this._lView[T],this._lView)}onDestroy(e){ku(this._lView,e)}markForCheck(){rd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[A]&=-129}reattach(){bs(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,Lm(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=wr(this._lView),n=this._lView[Vt];n!==null&&!e&&Zl(n,this._lView),bm(this._lView[T],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let n=wr(this._lView),r=this._lView[Vt];r!==null&&!n&&Hm(r,this._lView),bs(this._lView)}};var Zt=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=NI;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=Mm(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Kt(i)}}return t})();function NI(){return fa(se(),S())}function fa(t,e){return t.type&4?new Zt(e,t,xr(t,e)):null}function Mr(t,e,n,r,o){let i=t.data[e];if(i===null)i=MI(t,e,n,r,o),qp()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Up();i.injectorIndex=s===null?-1:s.injectorIndex}return _r(i,!0),i}function MI(t,e,n,r,o){let i=Uu(),s=Vu(),a=s?i:i&&i.parent,c=t.data[e]=RI(t,a,n,e,r,o);return OI(t,c,i,s),c}function OI(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function RI(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return ju()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var kI=()=>null;function Il(t,e){return kI(t,e)}var qm=class{},ha=class{},Cl=class{resolveComponentFactory(e){throw new I(917,!1)}},Ko=class{static NULL=new Cl},Uo=class{},pa=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>PI()}return t})();function PI(){let t=S(),e=se(),n=Ve(e.index,t);return(ft(n)?n:t)[G]}var Gm=(()=>{class t{static \u0275prov=V({token:t,providedIn:"root",factory:()=>null})}return t})();var Bs={},Tl=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,Bs,r);return o!==Bs||n===Bs?o:this.parentInjector.get(e,n,r)}};function Ys(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=ds(o,a);else if(i==2){let c=a,u=e[++s];r=ds(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function X(t,e=0){let n=S();if(n===null)return ge(t,e);let r=se();return Gg(r,n,pe(t),e)}function Wm(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}jI(t,e,n,a,i,c,u)}i!==null&&r!==null&&FI(n,r,i)}function FI(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new I(-301,!1);r.push(e[o],i)}}function LI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function jI(t,e,n,r,o,i,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&ht(f)&&(c=f,LI(t,n,h)),gl(Gs(n,e),t,f.type)}qI(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=ym(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Ir(n.mergedAttrs,f.hostAttrs),$I(t,n,e,d,f),HI(d,f,o),s!==null&&s.has(f)){let[g,y]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,y+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}BI(t,n,i)}function BI(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))vg(0,e,o,r),vg(1,e,o,r),Eg(e,r,!1);else{let i=n.get(o);wg(0,e,i,r),wg(1,e,i,r),Eg(e,r,!0)}}}function vg(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),zm(e,i)}}function wg(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),zm(e,s)}}function zm(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Eg(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||Hl(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function $I(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=Ft(o.type,!0)),s=new Rn(i,ht(o),X,null);t.blueprint[r]=s,n[r]=s,UI(t,e,r,ym(t,n,o.hostVars,_e),o)}function UI(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;VI(s)!=a&&s.push(a),s.push(n,r,i)}}function VI(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function HI(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ht(e)&&(n[""]=t)}}function qI(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function od(t,e,n,r,o,i,s,a){let c=e[T],u=c.consts,l=Gt(u,s),d=Mr(c,t,n,r,l);return i&&Wm(c,e,d,Gt(u,a),o),d.mergedAttrs=Ir(d.mergedAttrs,d.attrs),d.attrs!==null&&Ys(d,d.attrs,!1),d.mergedAttrs!==null&&Ys(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function id(t,e){Fg(t,e),Au(e)&&t.queries.elementEnd(e)}function GI(t,e,n,r,o,i){let s=e.consts,a=Gt(s,o),c=Mr(e,t,n,r,a);if(c.mergedAttrs=Ir(c.mergedAttrs,c.attrs),i!=null){let u=Gt(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&Ys(c,c.attrs,!1),c.mergedAttrs!==null&&Ys(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function sd(t){return ga(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Km(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ga(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Zo(t,e,n){return t[e]=n}function WI(t,e){return t[e]}function mt(t,e,n){if(n===_e)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Vo(t,e,n,r){let o=mt(t,e,n);return mt(t,e+1,r)||o}function Zm(t,e,n,r,o){let i=Vo(t,e,n,r);return mt(t,e+2,o)||i}function zI(t,e,n,r,o,i){let s=Vo(t,e,n,r);return Vo(t,e+2,o,i)||s}function $s(t,e,n){return function r(o){let i=qt(t)?Ve(t.index,e):e;rd(i,5);let s=e[Ee],a=_g(e,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=_g(e,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function _g(t,e,n,r){let o=N(null);try{return $(L.OutputStart,e,n),n(r)!==!1}catch(i){return hI(t,i),!1}finally{$(L.OutputEnd,e,n),N(o)}}function Jm(t,e,n,r,o,i,s,a){let c=vr(t),u=!1,l=null;if(!r&&c&&(l=ZI(e,n,i,t.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=Ye(t,n),h=r?r(d):d;ob(n,h,i,a);let f=o.listen(h,i,a);if(!KI(i)){let p=r?g=>r(Ue(g[t.index])):t.index;Ym(p,e,n,i,a,f,!1)}}return u}function KI(t){return t.startsWith("animation")||t.startsWith("transition")}function ZI(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[mr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Ym(t,e,n,r,o,i,s){let a=e.firstCreatePass?Fu(e):null,c=Pu(n),u=c.length;c.push(o,i),a&&a.push(r,t,u,(u+1)*(s?-1:1))}function Dg(t,e,n,r,o,i){let s=e[n],a=e[T],u=a.data[n].outputs[r],d=s[u].subscribe(i);Ym(t.index,a,e,o,i,d,!0)}var Sl=Symbol("BINDING");var Qs=class extends Ko{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=St(e);return new Pn(n,this.ngModule)}};function JI(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&aa.SignalBased)!==0};return o&&(i.transform=o),i})}function YI(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function QI(t,e,n){let r=e instanceof Be?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Tl(n,r):n}function XI(t){let e=t.get(Uo,null);if(e===null)throw new I(407,!1);let n=t.get(Gm,null),r=t.get(jt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function eC(t,e){let n=Qm(t);return am(e,n,n==="svg"?xu:n==="math"?Mp:null)}function Qm(t){return(t.selectors[0][0]||"div").toLowerCase()}var Pn=class extends ha{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=JI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=YI(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Mb(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){$(L.DynamicComponentStart);let a=N(null);try{let c=this.componentDef,u=tC(r,c,s,i),l=QI(c,o||this.ngModule,e),d=XI(l),h=d.rendererFactory.createRenderer(null,c),f=r?tI(h,r,c.encapsulation,l):eC(c,h),p=s?.some(bg)||i?.some(m=>typeof m!="function"&&m.bindings.some(bg)),g=Gl(null,u,null,512|mm(c),null,null,d,h,l,null,rm(f,l,!0));g[Q]=f,Ss(g);let y=null;try{let m=od(Q,g,2,"#host",()=>u.directiveRegistry,!0,0);um(h,f,m),Cr(f,g),da(u,g,m),Ul(u,m,g),id(u,m),n!==void 0&&rC(m,this.ngContentSelectors,n),y=Ve(m.index,g),g[Ee]=y[Ee],nd(u,g,null)}catch(m){throw y!==null&&yl(y),yl(g),m}finally{$(L.DynamicComponentEnd),As()}return new Xs(this.componentType,g,!!p)}finally{N(a)}}};function tC(t,e,n,r){let o=t?["ng-version","21.0.4"]:Ob(e.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[Sl].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[Sl].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[e];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=mu(d);c.push(h)}return ql(0,null,nC(i,s),1,a,c,null,null,null,[o],null)}function nC(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function bg(t){let e=t[Sl].kind;return e==="input"||e==="twoWay"}var Xs=class extends qm{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=_s(n[T],Q),this.location=xr(this._tNode,n),this.instance=Ve(this._tNode.index,n)[Ee],this.hostView=this.changeDetectorRef=new Kt(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=td(r,o[T],o,e,n);this.previousInputValues.set(e,n);let s=Ve(r.index,o);rd(s,1)}get injector(){return new On(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rC(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Yt=(()=>{class t{static __NG_ELEMENT_ID__=oC}return t})();function oC(){let t=se();return ey(t,S())}var iC=Yt,Xm=class extends iC{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xr(this._hostTNode,this._hostLView)}get injector(){return new On(this._hostTNode,this._hostLView)}get parentInjector(){let e=jl(this._hostTNode,this._hostLView);if(Bg(e)){let n=Hs(e,this._hostLView),r=Vs(e),o=n[T].data[r+8];return new On(o,n)}else return new On(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ig(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Te}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Il(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,_l(this._hostTNode,s)),a}createComponent(e,n,r,o,i,s,a){let c=e&&!TD(e),u;if(c)u=n;else{let y=n||{};u=y.index,r=y.injector,o=y.projectableNodes,i=y.environmentInjector||y.ngModuleRef,s=y.directives,a=y.bindings}let l=c?e:new Pn(St(e)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let m=(c?d:this.parentInjector).get(Be,null);m&&(i=m)}let h=St(l.componentType??{}),f=Il(this._lContainer,h?.id??null),p=f?.firstChild??null,g=l.create(d,o,p,i,s,a);return this.insertImpl(g.hostView,u,_l(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(Rp(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[ue],u=new Xm(c,c[Ce],c[ue]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Vm(s,o,i,r),e.attachToViewContainerRef(),wu(al(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ig(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bl(this._lContainer,n);r&&(bo(al(this._lContainer),n),Im(r[T],r))}detach(e){let n=this._adjustIndex(e,-1),r=bl(this._lContainer,n);return r&&bo(al(this._lContainer),n)!=null?new Kt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ig(t){return t[Ao]}function al(t){return t[Ao]||(t[Ao]=[])}function ey(t,e){let n,r=e[t.index];return Je(r)?n=r:(n=Um(r,e,null,t),e[t.index]=n,Wl(e,n)),aC(n,e,t,r),new Xm(n,t,e)}function sC(t,e){let n=t[G],r=n.createComment(""),o=Ye(e,t),i=n.parentNode(o);return Ks(n,i,r,n.nextSibling(o),!1),r}var aC=lC,cC=()=>!1;function uC(t,e,n){return cC(t,e,n)}function lC(t,e,n,r){if(t[Ht])return;let o;n.type&8?o=Ue(r):o=sC(e,n),t[Ht]=o}var Al=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},xl=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)cd(e,n).matches!==null&&this.queries[n].setDirty()}},ea=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=mC(e):this.predicate=e}},Nl=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ml=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,dC(n,i)),this.matchTNodeWithReadOption(e,n,js(n,e,i,!1,!1))}else r===Zt?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,js(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Jt||o===Yt||o===Zt&&n.type&4)this.addMatch(n.index,-2);else{let i=js(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function dC(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function fC(t,e){return t.type&11?xr(t,e):t.type&4?fa(t,e):null}function hC(t,e,n,r){return n===-1?fC(e,t):n===-2?pC(t,e,r):Bo(t,t[T],n,e)}function pC(t,e,n){if(n===Jt)return xr(e,t);if(n===Zt)return fa(e,t);if(n===Yt)return ey(e,t)}function ty(t,e,n,r){let o=e[dt].queries[r];if(o.matches===null){let i=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(hC(e,l,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function Ol(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=ty(t,e,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=e[-c];for(let d=Te;d<l.length;d++){let h=l[d];h[Vt]===h[ue]&&Ol(h[T],h,u,r)}if(l[An]!==null){let d=l[An];for(let h=0;h<d.length;h++){let f=d[h];Ol(f[T],f,u,r)}}}}}return r}function ad(t,e){return t[dt].queries[e].queryList}function ny(t,e,n){let r=new Ws((n&4)===4);return Fp(t,e,r,r.destroy),(e[dt]??=new xl).queries.push(new Al(r))-1}function ry(t,e,n){let r=ne();return r.firstCreatePass&&(oy(r,new ea(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),ny(r,S(),e)}function gC(t,e,n,r){let o=ne();if(o.firstCreatePass){let i=se();oy(o,new ea(e,n,r),i.index),yC(o,t),(n&2)===2&&(o.staticContentQueries=!0)}return ny(o,S(),n)}function mC(t){return t.split(",").map(e=>e.trim())}function oy(t,e,n){t.queries===null&&(t.queries=new Nl),t.queries.track(new Ml(e,n))}function yC(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function cd(t,e){return t.queries.getByIndex(e)}function iy(t,e){let n=t[T],r=cd(n,e);return r.crossesNgTemplate?Ol(n,t,e,[]):ty(n,t,r,e)}function sy(t,e,n){let r,o=uo(()=>{r._dirtyCounter();let i=wC(r,t);if(e&&i===void 0)throw new I(-951,!1);return i});return r=o[he],r._dirtyCounter=Ms(0),r._flatValue=void 0,o}function ay(t){return sy(!0,!1,t)}function cy(t){return sy(!0,!0,t)}function vC(t,e){let n=t[he];n._lView=S(),n._queryIndex=e,n._queryList=ad(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function wC(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[A]&4)return e?void 0:we;let o=ad(n,r),i=iy(n,r);return o.reset(i,Kg),e?o.first:o._changesDetected||t._flatValue===void 0?t._flatValue=o.toArray():t._flatValue}var Fn=class{},uy=class{};var ta=class extends Fn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Qs(this);constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n;let i=gu(e);this._bootstrapComponents=hm(i.bootstrap),this._r3Injector=Zu(e,n,[{provide:Fn,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver},...r],Ct(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},na=class extends uy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ta(this.moduleType,e,[])}};var Ho=class extends Fn{injector;componentFactoryResolver=new Qs(this);instance=null;constructor(e){super();let n=new bn([...e.providers,{provide:Fn,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver}],e.parent||pr(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ly(t,e,n=null){return new Ho({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var EC=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Du(!1,n.type),o=r.length>0?ly([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:t,providedIn:"environment",factory:()=>new t(ge(Be))})}return t})();function _C(t){return Go(()=>{let e=dy(t),n=je(ye({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$l.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(EC).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ua("NgStandalone"),fy(n);let r=t.dependencies;return n.directiveDefs=Cg(r,DC),n.pipeDefs=Cg(r,gp),n.id=CC(n),n})}function DC(t){return St(t)||mu(t)}function ud(t){return Go(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bC(t,e){if(t==null)return $t;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=aa.None,c=null),n[i]=[r,a,c],e[i]=s}return n}function IC(t){if(t==null)return $t;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function jn(t){return Go(()=>{let e=dy(t);return fy(e),e})}function Or(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function dy(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||$t,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:bC(t.inputs,e),outputs:IC(t.outputs),debugInfo:null}}function fy(t){t.features?.forEach(e=>e(t))}function Cg(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function CC(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function TC(t){return Object.getPrototypeOf(t.prototype).constructor}function hy(t){let e=TC(t.type),n=!0,r=[t];for(;e;){let o;if(ht(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=cl(t.inputs),s.declaredInputs=cl(t.declaredInputs),s.outputs=cl(t.outputs);let a=o.hostBindings;a&&MC(t,a);let c=o.viewQuery,u=o.contentQueries;if(c&&xC(t,c),u&&NC(t,u),SC(t,o),pp(t.outputs,o.outputs),ht(o)&&o.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===hy&&(n=!1)}}e=Object.getPrototypeOf(e)}AC(r)}function SC(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function AC(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Ir(o.hostAttrs,n=Ir(n,o.hostAttrs))}}function cl(t){return t===$t?{}:t===we?[]:t}function xC(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function NC(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function MC(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function py(t,e,n,r,o,i,s,a){if(n.firstCreatePass){t.mergedAttrs=Ir(t.mergedAttrs,t.attrs);let l=t.tView=ql(2,t,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),_r(t,!1);let c=kC(n,e,t,r);Ns()&&Jl(n,e,c,t),Cr(c,e);let u=Um(c,e,c,t);e[r+Q]=u,Wl(e,u),uC(u,t,e)}function OC(t,e,n,r,o,i,s,a,c,u,l){let d=n+Q,h;return e.firstCreatePass?(h=Mr(e,d,4,s||null,a||null),Is()&&Wm(e,t,h,Gt(e.consts,u),Ql),Fg(e,h)):h=e.data[d],py(h,t,e,n,r,o,i,c),vr(h)&&da(e,t,h),u!=null&&zo(t,h,l),h}function RC(t,e,n,r,o,i,s,a,c,u,l){let d=n+Q,h;if(e.firstCreatePass){if(h=Mr(e,d,4,s||null,a||null),u!=null){let f=Gt(e.consts,u);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=e.data[d];return py(h,t,e,n,r,o,i,c),u!=null&&zo(t,h,l),h}function gy(t,e,n,r,o,i,s,a){let c=S(),u=ne(),l=Gt(u.consts,i);return OC(c,u,t,e,n,r,o,l,void 0,s,a),gy}var kC=PC;function PC(t,e,n,r){return ko(!0),e[G].createComment("")}var FC=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function my(t){return typeof t=="function"&&t[he]!==void 0}function ld(t){return my(t)&&typeof t.set=="function"}var yy=new R("");function ma(t){return!!t&&typeof t.then=="function"}function dd(t){return!!t&&typeof t.subscribe=="function"}var vy=new R("");var fd=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(vy,{optional:!0})??[];injector=C(at);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=ws(this.injector,o);if(ma(i))n.push(i);else if(dd(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wy=new R("");function Ey(){Oc(()=>{let t="";throw new I(600,t)})}function _y(t){return t.isBoundToModule}var LC=10;var ya=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(xt);afterRenderManager=C(Kl);zonelessEnabled=C(Po);rootEffectScheduler=C(rl);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ke;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=C(Mn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Pt(n=>!n))}constructor(){C(Wo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(Be);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=at.NULL){return this._injector.get(ct).run(()=>{$(L.BootstrapComponentStart);let s=n instanceof ha;if(!this._injector.get(fd).done){let p="";throw new I(405,p)}let c;s?c=n:c=this._injector.get(Ko).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=_y(c)?void 0:this._injector.get(Fn),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(yy,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),jo(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),$(L.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){$(L.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ca.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw $(L.ChangeDetectionEnd),new I(101,!1);let n=N(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,N(n),this.afterTick.next(),$(L.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<LC;){$(L.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{$(L.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!No(o))continue;let i=r&&!this.zonelessEnabled?0:1;Lm(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>No(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;jo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(wy,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jo(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Dy(t,e,n,r){let o=S(),i=Mo();if(mt(o,i,e)){let s=ne(),a=xs();lI(a,o,t,e,n,r)}return Dy}var bF=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function by(t,e,n){let r=S(),o=Mo();if(mt(r,o,e)){let i=ne(),s=xs();Nm(s,r,t,e,r[G],n)}return by}function Rl(t,e,n,r,o){td(e,t,n,o?"class":"style",r)}function hd(t,e,n,r){let o=S(),i=o[T],s=t+Q,a=i.firstCreatePass?od(s,o,2,e,Ql,Is(),n,r):i.data[s];if(Xl(a,o,t,e,Ty),vr(a)){let c=o[T];da(c,o,a),Ul(c,a,o)}return r!=null&&zo(o,a),hd}function pd(){let t=ne(),e=se(),n=ed(e);return t.firstCreatePass&&id(t,n),Bu(n)&&$u(),Lu(),n.classesWithoutHost!=null&&OD(n)&&Rl(t,n,S(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&RD(n)&&Rl(t,n,S(),n.stylesWithoutHost,!1),pd}function Iy(t,e,n,r){return hd(t,e,n,r),pd(),Iy}function gd(t,e,n,r){let o=S(),i=o[T],s=t+Q,a=i.firstCreatePass?GI(s,i,2,e,n,r):i.data[s];return Xl(a,o,t,e,Ty),r!=null&&zo(o,a),gd}function md(){let t=se(),e=ed(t);return Bu(e)&&$u(),Lu(),md}function Cy(t,e,n,r){return gd(t,e,n,r),md(),Cy}var Ty=(t,e,n,r,o)=>(ko(!0),am(e[G],r,eg()));function yd(t,e,n){let r=S(),o=r[T],i=t+Q,s=o.firstCreatePass?od(i,r,8,"ng-container",Ql,Is(),e,n):o.data[i];if(Xl(s,r,t,"ng-container",jC),vr(s)){let a=r[T];da(a,r,s),Ul(a,s,r)}return n!=null&&zo(r,s),yd}function vd(){let t=ne(),e=se(),n=ed(e);return t.firstCreatePass&&id(t,n),vd}function Sy(t,e,n){return yd(t,e,n),vd(),Sy}var jC=(t,e,n,r,o)=>(ko(!0),pb(e[G],""));function BC(){return S()}var Fo=void 0;function $C(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var UC=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Fo,Fo,Fo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",$C],ul={};function Se(t){let e=VC(t),n=Tg(e);if(n)return n;let r=e.split("-")[0];if(n=Tg(r),n)return n;if(r==="en")return UC;throw new I(701,!1)}function Tg(t){return t in ul||(ul[t]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[t]),ul[t]}var ee=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(ee||{});function VC(t){return t.toLowerCase().replace(/_/g,"-")}var Jo="en-US",HC="USD";var qC=Jo;function Ay(t){typeof t=="string"&&(qC=t.toLowerCase().replace(/_/g,"-"))}function xy(t,e,n){let r=S(),o=ne(),i=se();return My(o,r,r[G],i,t,e,n),xy}function Ny(t,e,n){let r=S(),o=ne(),i=se();return(i.type&3||n)&&Jm(i,o,r,n,r[G],t,e,$s(i,r,e)),Ny}function My(t,e,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=$s(r,e,i),Jm(r,t,e,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=$s(r,e,i),Dg(r,e,h,f,o,c)}if(u&&u.length)for(let d of u)c??=$s(r,e,i),Dg(r,e,d,o,o,c)}}function GC(t=1){return Yp(t)}function WC(t,e){let n=null,r=Tb(t);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){n=o;continue}if(r===null?gm(t,i,!0):xb(r,i))return o}return n}function zC(t){let e=S()[Me][Ce];if(!e.projection){let n=t?t.length:1,r=e.projection=Dp(n,null),o=r.slice(),i=e.child;for(;i!==null;){if(i.type!==128){let s=t?WC(i,t):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function KC(t,e=0,n,r,o,i){let s=S(),a=ne(),c=r?t+1:null;c!==null&&RC(s,a,c,r,o,i,null,n);let u=Mr(a,Q+t,16,null,n||null);u.projection===null&&(u.projection=e),Hu();let d=!s[gr]||ju();s[Me][Ce].projection[u.projection]===null&&c!==null?ZC(s,a,c):d&&!ia(u)&&Qb(a,s,u)}function ZC(t,e,n){let r=Q+n,o=e.data[r],i=t[r],s=Il(i,o.tView.ssrId),a=Mm(t,o,void 0,{dehydratedView:s});Vm(i,a,0,_l(o,s))}function Oy(t,e,n,r){return gC(t,e,n,r),Oy}function Ry(t,e,n){return ry(t,e,n),Ry}function JC(t){let e=S(),n=ne(),r=Ts();Ro(r+1);let o=cd(n,r);if(t.dirty&&Op(e)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=iy(e,r);t.reset(i,Kg),t.notifyOnChanges()}return!0}return!1}function YC(){return ad(S(),Ts())}function ky(t,e,n,r){return vC(t,ry(e,n,r)),ky}function QC(t=1){Ro(Ts()+t)}function XC(t){let e=Vp();return xo(e,Q+t)}function Ps(t,e){return t<<17|e<<2}function Ln(t){return t>>17&32767}function e0(t){return(t&2)==2}function t0(t,e){return t&131071|e<<17}function kl(t){return t|2}function Sr(t){return(t&131068)>>2}function ll(t,e){return t&-131069|e<<2}function n0(t){return(t&1)===1}function Pl(t){return t|1}function r0(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Ln(s),c=Sr(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||fr(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=Ln(t[a+1]);t[r+1]=Ps(h,a),h!==0&&(t[h+1]=ll(t[h+1],r)),t[a+1]=t0(t[a+1],r)}else t[r+1]=Ps(a,0),a!==0&&(t[a+1]=ll(t[a+1],r)),a=r;else t[r+1]=Ps(c,0),a===0?a=r:t[c+1]=ll(t[c+1],r),c=r;u&&(t[r+1]=kl(t[r+1])),Sg(t,l,r,!0),Sg(t,l,r,!1),o0(e,l,t,r,i),s=Ps(a,c),i?e.classBindings=s:e.styleBindings=s}function o0(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&fr(i,e)>=0&&(n[r+1]=Pl(n[r+1]))}function Sg(t,e,n,r){let o=t[n+1],i=e===null,s=r?Ln(o):Sr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=t[s],u=t[s+1];i0(c,e)&&(a=!0,t[s+1]=r?Pl(u):kl(u)),s=r?Ln(u):Sr(u)}a&&(t[n+1]=r?kl(o):Pl(o))}function i0(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fr(t,e)>=0:!1}var ae={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Py(t){return t.substring(ae.key,ae.keyEnd)}function s0(t){return t.substring(ae.value,ae.valueEnd)}function a0(t){return jy(t),Fy(t,Ar(t,0,ae.textEnd))}function Fy(t,e){let n=ae.textEnd;return n===e?-1:(e=ae.keyEnd=u0(t,ae.key=e,n),Ar(t,e,n))}function c0(t){return jy(t),Ly(t,Ar(t,0,ae.textEnd))}function Ly(t,e){let n=ae.textEnd,r=ae.key=Ar(t,e,n);return n===r?-1:(r=ae.keyEnd=l0(t,r,n),r=Ag(t,r,n,58),r=ae.value=Ar(t,r,n),r=ae.valueEnd=d0(t,r,n),Ag(t,r,n,59))}function jy(t){ae.key=0,ae.keyEnd=0,ae.value=0,ae.valueEnd=0,ae.textEnd=t.length}function Ar(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function u0(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function l0(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function Ag(t,e,n,r){return e=Ar(t,e,n),e<n&&e++,e}function d0(t,e,n){let r=-1,o=-1,i=-1,s=e,a=s;for(;s<n;){let c=t.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=xg(t,c,s,n):e===s-4&&i===85&&o===82&&r===76&&c===40?a=s=xg(t,41,s,n):c>32&&(a=s),i=o,o=r,r=c&-33}return a}function xg(t,e,n,r){let o=-1,i=n;for(;i<r;){let s=t.charCodeAt(i++);if(s==e&&o!==92)return i;s==92&&o===92?o=0:o=s}throw new Error}function By(t,e,n){return Uy(t,e,n,!1),By}function $y(t,e){return Uy(t,e,null,!0),$y}function f0(t){Vy(Gy,h0,t,!1)}function h0(t,e){for(let n=c0(e);n>=0;n=Ly(e,n))Gy(t,Py(e),s0(e))}function p0(t){Vy(_0,g0,t,!0)}function g0(t,e){for(let n=a0(e);n>=0;n=Fy(e,n))Io(t,Py(e),!0)}function Uy(t,e,n,r){let o=S(),i=ne(),s=Oo(2);if(i.firstUpdatePass&&qy(i,t,s,r),e!==_e&&mt(o,s,e)){let a=i.data[pt()];Wy(i,a,o,o[G],t,o[s+1]=b0(e,n),r,s)}}function Vy(t,e,n,r){let o=ne(),i=Oo(2);o.firstUpdatePass&&qy(o,null,i,r);let s=S();if(n!==_e&&mt(s,i,n)){let a=o.data[pt()];if(zy(a,r)&&!Hy(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=ds(c,n||"")),Rl(o,a,s,n,r)}else D0(o,a,s,s[G],s[i+1],s[i+1]=E0(t,e,n),r,i)}}function Hy(t,e){return e>=t.expandoStartIndex}function qy(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[pt()],s=Hy(t,n);zy(i,r)&&e===null&&!s&&(e=!1),e=m0(o,i,e,r),r0(o,i,e,n,s,r)}}function m0(t,e,n,r){let o=zp(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=dl(null,t,e,n,r),n=qo(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=dl(o,t,e,n,r),i===null){let c=y0(t,e,r);c!==void 0&&Array.isArray(c)&&(c=dl(null,t,e,c[1],r),c=qo(c,e.attrs,r),v0(t,e,r,c))}else i=w0(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function y0(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Sr(r)!==0)return t[Ln(r)]}function v0(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[Ln(o)]=r}function w0(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=qo(r,s,n)}return qo(r,e.attrs,n)}function dl(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=qo(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function qo(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Io(t,s,n?!0:e[++i]))}return t===void 0?null:t}function E0(t,e,n){if(n==null||n==="")return we;let r=[],o=Nr(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)t(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&t(r,i,o[i]);else typeof o=="string"&&e(r,o);return r}function Gy(t,e,n){Io(t,e,Nr(n))}function _0(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Io(t,r,n)}function D0(t,e,n,r,o,i,s,a){o===_e&&(o=we);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=u<i.length?i[u+1]:void 0,p=null,g;l===d?(c+=2,u+=2,h!==f&&(p=d,g=f)):d===null||l!==null&&l<d?(c+=2,p=l):(u+=2,p=d,g=f),p!==null&&Wy(t,e,n,r,p,g,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}function Wy(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=n0(u)?Ng(c,e,n,o,Sr(u),s):void 0;if(!ra(l)){ra(i)||e0(u)&&(i=Ng(c,null,n,o,a,s));let d=Nu(pt(),n);eI(r,s,d,o,i)}}function Ng(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===_e&&(h=d?we:void 0);let f=d?ys(h,r):l===r?h:void 0;if(u&&!ra(f)&&(f=ys(c,r)),ra(f)&&(a=f,s))return a;let p=t[o+1];o=s?Ln(p):Sr(p)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=ys(c,r))}return a}function ra(t){return t!==void 0}function b0(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ct(Nr(t)))),t}function zy(t,e){return(t.flags&(e?8:16))!==0}function I0(t,e=""){let n=S(),r=ne(),o=t+Q,i=r.firstCreatePass?Mr(r,o,1,e,null):r.data[o],s=C0(r,n,i,e,t);n[o]=s,Ns()&&Jl(r,n,s,i),_r(i,!1)}var C0=(t,e,n,r,o)=>(ko(!0),fb(e[G],r));function T0(t,e,n,r=""){return mt(t,Mo(),n)?e+ut(n)+r:_e}function S0(t,e,n,r,o,i=""){let s=Wu(),a=Vo(t,s,n,o);return Oo(2),a?e+ut(n)+r+ut(o)+i:_e}function A0(t,e,n,r,o,i,s,a=""){let c=Wu(),u=Zm(t,c,n,o,s);return Oo(3),u?e+ut(n)+r+ut(o)+i+ut(s)+a:_e}function Ky(t){return wd("",t),Ky}function wd(t,e,n){let r=S(),o=T0(r,t,e,n);return o!==_e&&Ed(r,pt(),o),wd}function Zy(t,e,n,r,o){let i=S(),s=S0(i,t,e,n,r,o);return s!==_e&&Ed(i,pt(),s),Zy}function Jy(t,e,n,r,o,i,s){let a=S(),c=A0(a,t,e,n,r,o,i,s);return c!==_e&&Ed(a,pt(),c),Jy}function Ed(t,e,n){let r=Nu(e,t);hb(t[G],r,n)}function Yy(t,e,n){ld(e)&&(e=e());let r=S(),o=Mo();if(mt(r,o,e)){let i=ne(),s=xs();Nm(s,r,t,e,r[G],n)}return Yy}function x0(t,e){let n=ld(t);return n&&t.set(e),n}function Qy(t,e){let n=S(),r=ne(),o=se();return My(r,n,n[G],o,t,e),Qy}function Mg(t,e,n){let r=ne();r.firstCreatePass&&Xy(e,r.data,r.blueprint,ht(t),n)}function Xy(t,e,n,r,o){if(t=pe(t),Array.isArray(t))for(let i=0;i<t.length;i++)Xy(t[i],e,n,r,o);else{let i=ne(),s=S(),a=se(),c=Dn(t)?t:pe(t.provide),u=Cu(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Dn(t)||!t.multi){let f=new Rn(u,o,X,null),p=hl(c,e,o?l:l+h,d);p===-1?(gl(Gs(a,s),i,c),fl(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=hl(c,e,l+h,d),p=hl(c,e,l,l+h),g=f>=0&&n[f],y=p>=0&&n[p];if(o&&!y||!o&&!g){gl(Gs(a,s),i,c);let m=O0(o?M0:N0,n.length,o,r,u,t);!o&&y&&(n[p].providerFactory=m),fl(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=ev(n[o?p:f],u,!o&&r);fl(i,t,f>-1?f:p,m)}!o&&r&&y&&n[p].componentProviders++}}}function fl(t,e,n,r){let o=Dn(e),i=Ap(e);if(o||i){let c=(i?pe(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function ev(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hl(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function N0(t,e,n,r,o){return Fl(this.multi,[])}function M0(t,e,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Bo(r,r[T],this.providerFactory.index,o);s=c.slice(0,a),Fl(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Fl(i,s);return s}function Fl(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function O0(t,e,n,r,o,i){let s=new Rn(t,n,X,null);return s.multi=[],s.index=e,s.componentProviders=0,ev(s,o,r&&!n),s}function R0(t,e){return n=>{n.providersResolver=(r,o)=>Mg(r,o?o(t):t,!1),e&&(n.viewProvidersResolver=(r,o)=>Mg(r,o?o(e):e,!0))}}function k0(t,e,n){let r=Nn()+t,o=S();return o[r]===_e?Zo(o,r,n?e.call(n):e()):WI(o,r)}function P0(t,e,n,r){return tv(S(),Nn(),t,e,n,r)}function F0(t,e,n,r,o,i){return j0(S(),Nn(),t,e,n,r,o,i)}function va(t,e){let n=t[e];return n===_e?void 0:n}function tv(t,e,n,r,o,i){let s=e+n;return mt(t,s,o)?Zo(t,s+1,i?r.call(i,o):r(o)):va(t,s+1)}function L0(t,e,n,r,o,i,s){let a=e+n;return Vo(t,a,o,i)?Zo(t,a+2,s?r.call(s,o,i):r(o,i)):va(t,a+2)}function j0(t,e,n,r,o,i,s,a){let c=e+n;return Zm(t,c,o,i,s)?Zo(t,c+3,a?r.call(a,o,i,s):r(o,i,s)):va(t,c+3)}function B0(t,e,n,r,o,i,s,a,c){let u=e+n;return zI(t,u,o,i,s,a)?Zo(t,u+4,c?r.call(c,o,i,s,a):r(o,i,s,a)):va(t,u+4)}function $0(t,e){let n=ne(),r,o=t+Q;n.firstCreatePass?(r=U0(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=Ft(r.type,!0)),s,a=Ie(X);try{let c=qs(!1),u=i();return qs(c),Mu(n,S(),o,u),u}finally{Ie(a)}}function U0(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function V0(t,e,n){let r=t+Q,o=S(),i=xo(o,r);return _d(o,r)?tv(o,Nn(),e,i.transform,n,i):i.transform(n)}function H0(t,e,n,r){let o=t+Q,i=S(),s=xo(i,o);return _d(i,o)?L0(i,Nn(),e,s.transform,n,r,s):s.transform(n,r)}function q0(t,e,n,r,o,i){let s=t+Q,a=S(),c=xo(a,s);return _d(a,s)?B0(a,Nn(),e,c.transform,n,r,o,i,c):c.transform(n,r,o,i)}function _d(t,e){return t[T].data[e].pure}function G0(t,e){return fa(t,e)}var oa=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},W0=(()=>{class t{compileModuleSync(n){return new na(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=gu(n),i=hm(o.declarations).reduce((s,a)=>{let c=St(a);return c&&s.push(new Pn(c)),s},[]);return new oa(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nv=(()=>{class t{applicationErrorHandler=C(xt);appRef=C(ya);taskService=C(Mn);ngZone=C(ct);zonelessEnabled=C(Po);tracing=C(Wo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ie;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Eo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(tl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Yu:Ju;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Eo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Yu(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rv(){return[{provide:jt,useExisting:nv},{provide:ct,useClass:_o},{provide:Po,useValue:!0}]}function z0(){return typeof $localize<"u"&&$localize.locale||Jo}var Bn=new R("",{factory:()=>C(Bn,{optional:!0,skipSelf:!0})||z0()}),Dd=new R("",{factory:()=>HC});var wa=class{destroyed=!1;listeners=null;errorHandler=C(Tt,{optional:!0});destroyRef=C(zt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new I(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(dr(953,!1));return}if(this.listeners===null)return;let n=N(null);try{for(let r of this.listeners)try{r(e)}catch(o){this.errorHandler?.handleError(o)}}finally{N(n)}}};function Z0(t,e){return uo(t,e?.equal)}var lv=Symbol("InputSignalNode#UNSET"),tT=je(ye({},Ci),{transformFn:void 0,applyValueToInputSignal(t,e){lo(t,e)}});function dv(t,e){let n=Object.create(tT);n.value=t,n.transformFn=e?.transform;function r(){if(so(n),n.value===lv){let o=null;throw new I(-950,o)}return n.value}return r[he]=n,r}var ov=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Bl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function SU(t){return new wa}function iv(t,e){return dv(t,e)}function nT(t){return dv(lv,t)}var AU=(iv.required=nT,iv);function sv(t,e){return ay(e)}function rT(t,e){return cy(e)}var xU=(sv.required=rT,sv);var bd=new R(""),oT=new R("");function Yo(t){return!t.moduleRef}function iT(t){let e=Yo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ct);return n.run(()=>{Yo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(xt),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Yo(t)){let i=()=>e.destroy(),s=t.platformInjector.get(bd);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(bd);s.add(i),t.moduleRef.onDestroy(()=>{jo(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return aT(r,n,()=>{let i=e.get(Mn),s=i.add(),a=e.get(fd);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Bn,Jo);if(Ay(c||Jo),!e.get(oT,!0))return Yo(t)?e.get(ya):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Yo(t)){let l=e.get(ya);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return sT?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var sT;function aT(t,e,n){try{let r=n();return ma(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ea=null;function cT(t=[],e){return at.create({name:e,providers:[{provide:Iu,useValue:"platform"},{provide:bd,useValue:new Set([()=>Ea=null])},...t]})}function uT(t=[]){if(Ea)return Ea;let e=cT(t);return Ea=e,Ey(),lT(e),e}function lT(t){let e=t.get(em,null);ws(t,()=>{e?.forEach(n=>n())})}var dT=(()=>{class t{static __NG_ELEMENT_ID__=fT}return t})();function fT(t){return hT(se(),S(),(t&16)===16)}function hT(t,e,n){if(qt(t)&&!n){let r=Ve(t.index,e);return new Kt(r,r)}else if(t.type&175){let r=e[Me];return new Kt(r,e)}return null}var Id=class{constructor(){}supports(e){return sd(e)}create(e){return new Cd(e)}},pT=(t,e)=>e,Cd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||pT}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<av(r,o,i)?n:r,a=av(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!sd(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,Km(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new Td(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new _a),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _a),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Td=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Sd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},_a=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Sd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function av(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var Ad=class{constructor(){}supports(e){return e instanceof Map||ga(e)}create(){return new xd}},xd=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ga(e)))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let o=this._records.get(e);this._maybeAddToChanges(o,n);let i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}let r=new Nd(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Nd=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function cv(){return new Md([new Id])}var Md=(()=>{class t{factories;static \u0275prov=V({token:t,providedIn:"root",factory:cv});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=C(t,{optional:!0,skipSelf:!0});return t.create(n,r||cv())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new I(901,!1)}}return t})();function uv(){return new Od([new Ad])}var Od=(()=>{class t{static \u0275prov=V({token:t,providedIn:"root",factory:uv});factories;constructor(n){this.factories=n}static create(n,r){if(r){let o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=C(t,{optional:!0,skipSelf:!0});return t.create(n,r||uv())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r)return r;throw new I(901,!1)}}return t})();function NU(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:o}=t;$(L.BootstrapApplicationStart);try{let i=o?.injector??uT(r),s=[rv(),og,...n||[]],a=new Ho({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return iT({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{$(L.BootstrapApplicationEnd)}}function MU(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function OU(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function RU(t,e){let n=St(t),r=e.elementInjector||pr();return new Pn(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var fv=null;function ba(){return fv}function gT(t){fv??=t}var Rd=class{},Ia=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>C(hv),providedIn:"platform"})}return t})();var hv=(()=>{class t extends Ia{_location;_history;_doc=C(At);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ba().getBaseHref(this._doc)}onPopState(n){let r=ba().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=ba().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function mv(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function pv(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Qt(t){return t&&t[0]!=="?"?`?${t}`:t}var Ca=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>C(yT),providedIn:"root"})}return t})(),mT=new R(""),yT=(()=>{class t extends Ca{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Qt(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Qt(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Qt(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ge(Ia),ge(mT,8))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yv=(()=>{class t{_subject=new Ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=ET(pv(gv(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qt(r))}normalize(n){return t.stripTrailingSlash(wT(this._basePath,gv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qt(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Qt;static joinWithSlash=mv;static stripTrailingSlash=pv;static \u0275fac=function(r){return new(r||t)(ge(Ca))};static \u0275prov=V({token:t,factory:()=>vT(),providedIn:"root"})}return t})();function vT(){return new yv(ge(Ca))}function wT(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function gv(t){return t.replace(/\/index.html$/,"")}function ET(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Iv={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Pa=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(Pa||{});var De=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(De||{}),H=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(H||{}),Oe=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Oe||{}),me={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Cv(t){return Se(t)[ee.LocaleId]}function Tv(t,e,n){let r=Se(t),o=[r[ee.DayPeriodsFormat],r[ee.DayPeriodsStandalone]],i=He(o,e);return He(i,n)}function Sv(t,e,n){let r=Se(t),o=[r[ee.DaysFormat],r[ee.DaysStandalone]],i=He(o,e);return He(i,n)}function Av(t,e,n){let r=Se(t),o=[r[ee.MonthsFormat],r[ee.MonthsStandalone]],i=He(o,e);return He(i,n)}function xv(t,e){let r=Se(t)[ee.Eras];return He(r,e)}function Qo(t,e){let n=Se(t);return He(n[ee.DateFormat],e)}function Xo(t,e){let n=Se(t);return He(n[ee.TimeFormat],e)}function ei(t,e){let r=Se(t)[ee.DateTimeFormat];return He(r,e)}function et(t,e){let n=Se(t),r=n[ee.NumberSymbols][e];if(typeof r>"u"){if(e===me.CurrencyDecimal)return n[ee.NumberSymbols][me.Decimal];if(e===me.CurrencyGroup)return n[ee.NumberSymbols][me.Group]}return r}function $d(t,e){return Se(t)[ee.NumberFormats][e]}function _T(t){return Se(t)[ee.Currencies]}function Nv(t){if(!t[ee.ExtraData])throw new I(2303,!1)}function Mv(t){let e=Se(t);return Nv(e),(e[ee.ExtraData][2]||[]).map(r=>typeof r=="string"?kd(r):[kd(r[0]),kd(r[1])])}function Ov(t,e,n){let r=Se(t);Nv(r);let o=[r[ee.ExtraData][0],r[ee.ExtraData][1]],i=He(o,e)||[];return He(i,n)||[]}function He(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new I(2304,!1)}function kd(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function Rv(t,e,n="en"){let r=_T(n)[t]||Iv[t]||[],o=r[1];return e==="narrow"&&typeof o=="string"?o:r[0]||t}var DT=2;function kv(t){let e,n=Iv[t];return n&&(e=n[2]),typeof e=="number"?e:DT}var bT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ta={},IT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Pv(t,e,n,r){let o=RT(t);e=Nt(n,e)||e;let s=[],a;for(;e;)if(a=IT.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=o.getTimezoneOffset();r&&(c=Lv(r,c),o=OT(o,r));let u="";return s.forEach(l=>{let d=NT(l);u+=d?d(o,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Ma(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Nt(t,e){let n=Cv(t);if(Ta[n]??={},Ta[n][e])return Ta[n][e];let r="";switch(e){case"shortDate":r=Qo(t,Oe.Short);break;case"mediumDate":r=Qo(t,Oe.Medium);break;case"longDate":r=Qo(t,Oe.Long);break;case"fullDate":r=Qo(t,Oe.Full);break;case"shortTime":r=Xo(t,Oe.Short);break;case"mediumTime":r=Xo(t,Oe.Medium);break;case"longTime":r=Xo(t,Oe.Long);break;case"fullTime":r=Xo(t,Oe.Full);break;case"short":let o=Nt(t,"shortTime"),i=Nt(t,"shortDate");r=Sa(ei(t,Oe.Short),[o,i]);break;case"medium":let s=Nt(t,"mediumTime"),a=Nt(t,"mediumDate");r=Sa(ei(t,Oe.Medium),[s,a]);break;case"long":let c=Nt(t,"longTime"),u=Nt(t,"longDate");r=Sa(ei(t,Oe.Long),[c,u]);break;case"full":let l=Nt(t,"fullTime"),d=Nt(t,"fullDate");r=Sa(ei(t,Oe.Full),[l,d]);break}return r&&(Ta[n][e]=r),r}function Sa(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Xe(t,e,n="-",r,o){let i="";(t<0||o&&t<=0)&&(o?t=-t+1:(t=-t,i=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),i+s}function CT(t,e){return Xe(t,3).substring(0,e)}function re(t,e,n=0,r=!1,o=!1){return function(i,s){let a=TT(t,i);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return CT(a,e);let c=et(s,me.MinusSign);return Xe(a,e,c,r,o)}}function TT(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new I(2301,!1)}}function W(t,e,n=De.Format,r=!1){return function(o,i){return ST(o,i,t,e,n,r)}}function ST(t,e,n,r,o,i){switch(n){case 2:return Av(e,o,r)[t.getMonth()];case 1:return Sv(e,o,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(i){let u=Mv(e),l=Ov(e,o,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=s>=f.hours&&a>=f.minutes,y=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&y)return!0}else if(g||y)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return Tv(e,o,r)[s<12?0:1];case 3:return xv(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new I(2302,!1)}}function Aa(t){return function(e,n,r){let o=-1*r,i=et(n,me.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case 0:return(o>=0?"+":"")+Xe(s,2,i)+Xe(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+Xe(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+Xe(s,2,i)+":"+Xe(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+Xe(s,2,i)+":"+Xe(Math.abs(o%60),2,i);default:throw new I(2310,!1)}}}var AT=0,Na=4;function xT(t){let e=Ma(t,AT,1).getDay();return Ma(t,0,1+(e<=Na?Na:Na+7)-e)}function Fv(t){let e=t.getDay(),n=e===0?-3:Na-e;return Ma(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Pd(t,e=!1){return function(n,r){let o;if(e){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{let i=Fv(n),s=xT(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Xe(o,t,et(r,me.MinusSign))}}function xa(t,e=!1){return function(n,r){let i=Fv(n).getFullYear();return Xe(i,t,et(r,me.MinusSign),e)}}var Fd={};function NT(t){if(Fd[t])return Fd[t];let e;switch(t){case"G":case"GG":case"GGG":e=W(3,H.Abbreviated);break;case"GGGG":e=W(3,H.Wide);break;case"GGGGG":e=W(3,H.Narrow);break;case"y":e=re(0,1,0,!1,!0);break;case"yy":e=re(0,2,0,!0,!0);break;case"yyy":e=re(0,3,0,!1,!0);break;case"yyyy":e=re(0,4,0,!1,!0);break;case"Y":e=xa(1);break;case"YY":e=xa(2,!0);break;case"YYY":e=xa(3);break;case"YYYY":e=xa(4);break;case"M":case"L":e=re(1,1,1);break;case"MM":case"LL":e=re(1,2,1);break;case"MMM":e=W(2,H.Abbreviated);break;case"MMMM":e=W(2,H.Wide);break;case"MMMMM":e=W(2,H.Narrow);break;case"LLL":e=W(2,H.Abbreviated,De.Standalone);break;case"LLLL":e=W(2,H.Wide,De.Standalone);break;case"LLLLL":e=W(2,H.Narrow,De.Standalone);break;case"w":e=Pd(1);break;case"ww":e=Pd(2);break;case"W":e=Pd(1,!0);break;case"d":e=re(2,1);break;case"dd":e=re(2,2);break;case"c":case"cc":e=re(7,1);break;case"ccc":e=W(1,H.Abbreviated,De.Standalone);break;case"cccc":e=W(1,H.Wide,De.Standalone);break;case"ccccc":e=W(1,H.Narrow,De.Standalone);break;case"cccccc":e=W(1,H.Short,De.Standalone);break;case"E":case"EE":case"EEE":e=W(1,H.Abbreviated);break;case"EEEE":e=W(1,H.Wide);break;case"EEEEE":e=W(1,H.Narrow);break;case"EEEEEE":e=W(1,H.Short);break;case"a":case"aa":case"aaa":e=W(0,H.Abbreviated);break;case"aaaa":e=W(0,H.Wide);break;case"aaaaa":e=W(0,H.Narrow);break;case"b":case"bb":case"bbb":e=W(0,H.Abbreviated,De.Standalone,!0);break;case"bbbb":e=W(0,H.Wide,De.Standalone,!0);break;case"bbbbb":e=W(0,H.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":e=W(0,H.Abbreviated,De.Format,!0);break;case"BBBB":e=W(0,H.Wide,De.Format,!0);break;case"BBBBB":e=W(0,H.Narrow,De.Format,!0);break;case"h":e=re(3,1,-12);break;case"hh":e=re(3,2,-12);break;case"H":e=re(3,1);break;case"HH":e=re(3,2);break;case"m":e=re(4,1);break;case"mm":e=re(4,2);break;case"s":e=re(5,1);break;case"ss":e=re(5,2);break;case"S":e=re(6,1);break;case"SS":e=re(6,2);break;case"SSS":e=re(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Aa(0);break;case"ZZZZZ":e=Aa(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Aa(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Aa(2);break;default:return null}return Fd[t]=e,e}function Lv(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function MT(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function OT(t,e,n){let o=t.getTimezoneOffset(),i=Lv(e,o);return MT(t,-1*(i-o))}function RT(t){if(vv(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[o,i=1,s=1]=t.split("-").map(a=>+a);return Ma(o,i-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(bT))return kT(r)}let e=new Date(t);if(!vv(e))throw new I(2311,!1);return e}function kT(t){let e=new Date(0),n=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),o.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return i.call(e,s,a,c,u),e}function vv(t){return t instanceof Date&&!isNaN(t.valueOf())}var PT=/^(\d+)?\.((\d+)(-(\d+))?)?$/,wv=22,Oa=".",ti="0",FT=";",LT=",",Ld="#",Ev="\xA4";function jv(t,e,n,r,o,i,s=!1){let a="",c=!1;if(!isFinite(t))a=et(n,me.Infinity);else{let u=BT(t);s&&(u=jT(u));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(i){let x=i.match(PT);if(x===null)throw new I(2306,!1);let _=x[1],w=x[3],k=x[5];_!=null&&(l=jd(_)),w!=null&&(d=jd(w)),k!=null?h=jd(k):w!=null&&d>h&&(h=d)}$T(u,d,h);let f=u.digits,p=u.integerLen,g=u.exponent,y=[];for(c=f.every(x=>!x);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);let m=[];for(f.length>=e.lgSize&&m.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)m.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&m.unshift(f.join("")),a=m.join(et(n,r)),y.length&&(a+=et(n,o)+y.join("")),g&&(a+=et(n,me.Exponential)+"+"+g)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Bv(t,e,n,r,o){let i=$d(e,Pa.Currency),s=Uv(i,et(e,me.MinusSign));return s.minFrac=kv(r),s.maxFrac=s.minFrac,jv(t,s,e,me.CurrencyGroup,me.CurrencyDecimal,o).replace(Ev,n).replace(Ev,"").trim()}function $v(t,e,n){let r=$d(e,Pa.Decimal),o=Uv(r,et(e,me.MinusSign));return jv(t,o,e,me.Group,me.Decimal,n)}function Uv(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(FT),o=r[0],i=r[1],s=o.indexOf(Oa)!==-1?o.split(Oa):[o.substring(0,o.lastIndexOf(ti)+1),o.substring(o.lastIndexOf(ti)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(Ld));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===ti?n.minFrac=n.maxFrac=l+1:d===Ld?n.maxFrac=l+1:n.posSuf+=d}let u=a.split(LT);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,i){let l=o.length-n.posPre.length-n.posSuf.length,d=i.indexOf(Ld);n.negPre=i.substring(0,d).replace(/'/g,""),n.negSuf=i.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function jT(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function BT(t){let e=Math.abs(t)+"",n=0,r,o,i,s,a;for((o=e.indexOf(Oa))>-1&&(e=e.replace(Oa,"")),(i=e.search(/e/i))>0?(o<0&&(o=i),o+=+e.slice(i+1),e=e.substring(0,i)):o<0&&(o=e.length),i=0;e.charAt(i)===ti;i++);if(i===(a=e.length))r=[0],o=1;else{for(a--;e.charAt(a)===ti;)a--;for(o-=i,r=[],s=0;i<=a;i++,s++)r[s]=Number(e.charAt(i))}return o>wv&&(r=r.splice(0,wv-1),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}function $T(t,e,n){if(e>n)throw new I(2307,!1);let r=t.digits,o=r.length-t.integerLen,i=Math.min(Math.max(e,o),n),s=i+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let c=i!==0,u=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,c&&(p[f]===0&&f>=u?p.pop():c=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}function jd(t){let e=parseInt(t);if(isNaN(e))throw new I(2305,!1);return e}var Bd=/\s+/,_v=[],UT=(()=>{class t{_ngEl;_renderer;initialClasses=_v;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Bd):_v}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Bd):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Bd).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||t)(X(Jt),X(pa))};static \u0275dir=jn({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Ra=class{$implicit;ngForOf;index;count;constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Vv=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Ra(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),Dv(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Dv(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(X(Yt),X(Zt),X(Md))};static \u0275dir=jn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Dv(t,e){t.context.$implicit=e.item}var VT=(()=>{class t{_viewContainer;_context=new ka;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){bv(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){bv(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(X(Yt),X(Zt))};static \u0275dir=jn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),ka=class{$implicit=null;ngIf=null};function bv(t,e){if(t&&!t.createEmbeddedView)throw new I(2020,!1)}var HT=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,o){this._ngEl=n,this._differs=r,this._renderer=o}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[o,i]=n.split("."),s=o.indexOf("-")===-1?void 0:Tr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,i?`${r}${i}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(X(Jt),X(Od),X(pa))};static \u0275dir=jn({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),qT=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(n,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}static \u0275fac=function(r){return new(r||t)(X(Yt))};static \u0275dir=jn({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Ll]})}return t})();function Fa(t,e){return new I(2100,!1)}var GT=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,WT=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw Fa(t,n);return n.replace(GT,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Or({name:"titlecase",type:t,pure:!0})}return t})();var zT="mediumDate",Hv=new R(""),qv=new R(""),KT=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??zT,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Pv(n,s,i||this.locale,a)}catch(s){throw Fa(t,s.message)}}static \u0275fac=function(r){return new(r||t)(X(Bn,16),X(Hv,24),X(qv,24))};static \u0275pipe=Or({name:"date",type:t,pure:!0})}return t})();var ZT=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,o){if(!Gv(n))return null;o||=this._locale;try{let i=Wv(n);return $v(i,o,r)}catch(i){throw Fa(t,i.message)}}static \u0275fac=function(r){return new(r||t)(X(Bn,16))};static \u0275pipe=Or({name:"number",type:t,pure:!0})}return t})();var JT=(()=>{class t{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,o="symbol",i,s){if(!Gv(n))return null;s||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let a=r||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?a=Rv(a,o==="symbol"?"wide":"narrow",s):a=o);try{let c=Wv(n);return Bv(c,s,a,r,i)}catch(c){throw Fa(t,c.message)}}static \u0275fac=function(r){return new(r||t)(X(Bn,16),X(Dd,16))};static \u0275pipe=Or({name:"currency",type:t,pure:!0})}return t})();function Gv(t){return!(t==null||t===""||t!==t)}function Wv(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new I(2309,!1);return t}var YT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ud({type:t});static \u0275inj=hs({})}return t})();function QT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Ud=class{};var XT="browser";function LV(t){return t===XT}var Vd={production:!0,supabase:{url:"https://mjoigrckygunnvwixowj.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qb2lncmNreWd1bm52d2l4b3dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDM2MTU3OTYsImV4cCI6MjAxOTE5MTc5Nn0.lkKA_uiQ8LIFN_fL7Y32KHWHGXrBedXfkBVa7B_61UE"},finnhub:{apiKey:"d52qrshr01qggm5tffl0d52qrshr01qggm5tfflg"},alphaVantage:{apiKey:"YOUR_ALPHA_VANTAGE_API_KEY"}};var sh=$E(FE(),1),{PostgrestError:Cq,FunctionsHttpError:Tq,FunctionsFetchError:Sq,FunctionsRelayError:Aq,FunctionsError:xq,FunctionRegion:Nq,SupabaseClient:Mq,createClient:LE,GoTrueAdminApi:Oq,GoTrueClient:Rq,AuthAdminApi:kq,AuthClient:Pq,navigatorLock:Fq,NavigatorLockAcquireTimeoutError:Lq,lockInternals:jq,processLock:Bq,SIGN_OUT_SCOPES:$q,AuthError:Uq,AuthApiError:Vq,AuthUnknownError:Hq,CustomAuthError:qq,AuthSessionMissingError:Gq,AuthInvalidTokenResponseError:Wq,AuthInvalidCredentialsError:zq,AuthImplicitGrantRedirectError:Kq,AuthPKCEGrantCodeExchangeError:Zq,AuthRetryableFetchError:Jq,AuthWeakPasswordError:Yq,AuthInvalidJwtError:Qq,isAuthError:Xq,isAuthApiError:eG,isAuthSessionMissingError:tG,isAuthImplicitGrantRedirectError:nG,isAuthRetryableFetchError:rG,isAuthWeakPasswordError:oG,RealtimePresence:iG,RealtimeChannel:sG,RealtimeClient:aG,REALTIME_LISTEN_TYPES:cG,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:uG,REALTIME_PRESENCE_LISTEN_EVENTS:lG,REALTIME_SUBSCRIBE_STATES:dG,REALTIME_CHANNEL_STATES:fG}=sh.default||sh;var jE=class t{supabase;constructor(){this.supabase=LE(Vd.supabase.url,Vd.supabase.anonKey)}get client(){return this.supabase}static \u0275fac=function(n){return new(n||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})};export{ie as a,YE as b,P as c,Ke as d,ho as e,t_ as f,mn as g,it as h,f_ as i,h_ as j,p_ as k,vn as l,g_ as m,Pt as n,b_ as o,wn as p,mo as q,ns as r,C_ as s,T_ as t,S_ as u,A_ as v,zc as w,x_ as x,ip as y,N_ as z,os as A,O_ as B,R_ as C,k_ as D,P_ as E,cp as F,F_ as G,L_ as H,I,dr as J,fs as K,V as L,hs as M,V_ as N,R as O,ge as P,C as Q,vs as R,Cp as S,Iu as T,Be as U,ws as V,Bp as W,$p as X,Qp as Y,Xp as Z,at as _,At as $,zt as aa,Mn as ba,bt as ca,ct as da,Tt as ea,xt as fa,vD as ga,Ms as ha,nl as ia,Rs as ja,Ll as ka,qD as la,Bl as ma,Jt as na,QD as oa,XD as pa,em as qa,tb as ra,nb as sa,kn as ta,lm as ua,dm as va,wb as wa,Eb as xa,Fb as ya,Tr as za,Zs as Aa,Wo as Ba,jb as Ca,Bb as Da,Zt as Ea,Uo as Fa,pa as Ga,X as Ha,Yt as Ia,uy as Ja,ly as Ka,_C as La,ud as Ma,jn as Na,hy as Oa,gy as Pa,FC as Qa,ma as Ra,wy as Sa,ya as Ta,Dy as Ua,by as Va,hd as Wa,pd as Xa,Iy as Ya,gd as Za,md as _a,Cy as $a,yd as ab,vd as bb,Sy as cb,BC as db,xy as eb,Ny as fb,GC as gb,zC as hb,KC as ib,Oy as jb,Ry as kb,JC as lb,YC as mb,ky as nb,QC as ob,XC as pb,By as qb,$y as rb,f0 as sb,p0 as tb,I0 as ub,Ky as vb,wd as wb,Zy as xb,Jy as yb,Yy as zb,x0 as Ab,Qy as Bb,R0 as Cb,k0 as Db,P0 as Eb,F0 as Fb,$0 as Gb,V0 as Hb,H0 as Ib,q0 as Jb,G0 as Kb,W0 as Lb,Z0 as Mb,ov as Nb,SU as Ob,AU as Pb,xU as Qb,dT as Rb,Md as Sb,Od as Tb,NU as Ub,MU as Vb,OU as Wb,RU as Xb,ba as Yb,gT as Zb,Rd as _b,Ca as $b,yv as ac,UT as bc,Vv as cc,VT as dc,HT as ec,qT as fc,WT as gc,KT as hc,ZT as ic,JT as jc,YT as kc,QT as lc,Ud as mc,XT as nc,LV as oc,Vd as pc,jE as qc};
