import{a as R}from"./chunk-AM3HY3WI.js";import{Eb as I,Gb as z,Ia as O,K as k,Ma as V,Qa as p,W as g,Wa as s,X as h,Xa as r,Y as C,Ya as l,Za as y,ca as v,dc as T,eb as f,ec as P,fb as u,fc as D,hb as a,mc as M,oa as w,rb as E,sb as m,vb as d,wb as x,xb as _,ya as S,za as o}from"./chunk-ELVZURTH.js";var L=n=>[n,"border","border-zinc-300","dark:border-sidebar-border","text-zinc-900","dark:text-white","text-sm","rounded-md","px-4","py-2.5","h-10","focus:outline-none","focus:ring-2","focus:ring-brand","flex","items-center","justify-between","hover:border-zinc-400","dark:hover:border-sidebar-border/80","transition-colors","duration-200","w-full"];function N(n,t){if(n&1&&(r(0,"label",8),d(1),l()),n&2){let e=a();o(),_(" ",e.label," ")}}function B(n,t){if(n&1&&(r(0,"span",16),d(1),l()),n&2){let e=a().$implicit;o(),x(e.description)}}function A(n,t){if(n&1){let e=f();r(0,"div",13),u("click",function(){let c=g(e).$implicit,b=a(2);return h(b.selectOption(c))}),r(1,"div",14)(2,"span"),d(3),l(),p(4,B,2,1,"span",15),l()()}if(n&2){let e=t.$implicit,i=a(2);m("bg-brand",i.selectedValue===e.value),o(3),x(e.label),o(),s("ngIf",e.description)}}function H(n,t){n&1&&(r(0,"div",17),d(1," No options available "),l())}function j(n,t){if(n&1){let e=f();r(0,"div",9),u("click",function(c){return g(e),h(c.stopPropagation())}),r(1,"div",10),p(2,A,5,4,"div",11)(3,H,2,0,"div",12),l()()}if(n&2){let e=a();E("position","fixed")("width",e.dropdownWidth,"px")("top",e.dropdownTop,"px")("left",e.dropdownLeft,"px"),o(2),s("ngForOf",e.options),o(),s("ngIf",e.options.length===0)}}var F=class n{constructor(t){this.elementRef=t}options=[];placeholder="Select...";label="";bgColor="bg-dark-blue-light dark:bg-dark-blue";set value(t){this.selectedValue=t}selectionChange=new v;valueChange=new v;selectedValue=null;isOpen=!1;dropdownWidth=0;dropdownTop=0;dropdownLeft=0;onChange=t=>{};onTouched=()=>{};ngOnInit(){}writeValue(t){this.selectedValue=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}selectOption(t){this.selectedValue=t.value,this.isOpen=!1,this.onChange(this.selectedValue),this.onTouched(),this.selectionChange.emit(this.selectedValue),this.valueChange.emit(this.selectedValue)}getSelectedLabel(){return this.selectedValue===null?this.placeholder:this.options.find(e=>e.value===this.selectedValue)?.label||this.placeholder}toggleDropdown(){this.isOpen=!this.isOpen,this.isOpen&&(this.calculateDropdownPosition(),this.onTouched())}calculateDropdownPosition(){let t=this.elementRef.nativeElement.querySelector("button");if(t){let e=t.getBoundingClientRect();this.dropdownWidth=e.width,this.dropdownTop=e.bottom+4,this.dropdownLeft=e.left}}onDocumentClick(t){this.isOpen&&!this.elementRef.nativeElement.contains(t.target)&&(this.isOpen=!1)}static \u0275fac=function(e){return new(e||n)(O(w))};static \u0275cmp=V({type:n,selectors:[["app-select"]],hostBindings:function(e,i){e&1&&u("click",function(b){return i.onDocumentClick(b)},S)},inputs:{options:"options",placeholder:"placeholder",label:"label",bgColor:"bgColor",value:"value"},outputs:{selectionChange:"selectionChange",valueChange:"valueChange"},features:[I([{provide:R,useExisting:k(()=>n),multi:!0}])],decls:9,vars:16,consts:[[1,"relative","w-full"],["class","block text-sm font-medium text-zinc-700 dark:text-slate-300 mb-2 transition-colors duration-200",4,"ngIf"],[1,"relative"],["type","button",3,"click","ngClass"],[1,"transition-colors","duration-200"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4","text-zinc-500","dark:text-slate-400","flex-shrink-0","ml-2","transition-all","duration-200"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],["class","z-[99999] mt-1 bg-white dark:bg-background border border-zinc-300 dark:border-sidebar-border rounded-md shadow-lg max-h-60 overflow-auto transition-colors duration-200",3,"position","width","top","left","click",4,"ngIf"],[1,"block","text-sm","font-medium","text-zinc-700","dark:text-slate-300","mb-2","transition-colors","duration-200"],[1,"z-[99999]","mt-1","bg-white","dark:bg-background","border","border-zinc-300","dark:border-sidebar-border","rounded-md","shadow-lg","max-h-60","overflow-auto","transition-colors","duration-200",3,"click"],[1,"p-1"],["class","flex items-center px-3 py-2 rounded-md cursor-pointer hover:bg-brand-hover-100 dark:hover:bg-brand-hover transition-colors duration-200 text-sm text-zinc-900 dark:text-white",3,"bg-brand","click",4,"ngFor","ngForOf"],["class","px-3 py-2 text-sm text-zinc-500 dark:text-slate-400 text-center transition-colors duration-200",4,"ngIf"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer","hover:bg-brand-hover-100","dark:hover:bg-brand-hover","transition-colors","duration-200","text-sm","text-zinc-900","dark:text-white",3,"click"],[1,"flex","flex-col"],["class","text-xs text-zinc-500 dark:text-slate-400 mt-0.5 transition-colors duration-200",4,"ngIf"],[1,"text-xs","text-zinc-500","dark:text-slate-400","mt-0.5","transition-colors","duration-200"],[1,"px-3","py-2","text-sm","text-zinc-500","dark:text-slate-400","text-center","transition-colors","duration-200"]],template:function(e,i){e&1&&(r(0,"div",0),p(1,N,2,1,"label",1),r(2,"div",2)(3,"button",3),u("click",function(){return i.toggleDropdown()}),r(4,"span",4),d(5),l(),C(),r(6,"svg",5),y(7,"path",6),l()(),p(8,j,4,10,"div",7),l()()),e&2&&(o(),s("ngIf",i.label),o(2),s("ngClass",z(14,L,i.bgColor)),o(),m("text-zinc-400",i.selectedValue===null)("dark:text-slate-400",i.selectedValue===null)("text-zinc-900",i.selectedValue!==null)("dark:text-white",i.selectedValue!==null),o(),_(" ",i.getSelectedLabel()," "),o(),m("rotate-180",i.isOpen),o(2),s("ngIf",i.isOpen))},dependencies:[M,T,P,D],styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1a3254;border-radius:3px}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#475569;border-radius:3px}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64748b}"]})};export{F as a};
