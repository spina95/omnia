import{a as F}from"./chunk-IURNE76V.js";import{Ba as S,F as _,Fa as O,Ja as u,Pa as s,Qa as l,R as g,Ra as r,S as h,Sa as V,T as C,Vb as P,Wb as D,Xb as M,Z as v,Za as f,_a as c,ab as d,cc as R,ia as w,kb as y,lb as m,nb as p,ob as E,pb as x,sa as k,ta as o,vb as I,xb as T}from"./chunk-XVI4XSAG.js";var N=n=>[n,"border","border-sidebar-border","text-white","text-sm","rounded-md","px-4","py-2.5","h-10","focus:outline-none","focus:ring-2","focus:ring-brand","flex","items-center","justify-between","hover:border-sidebar-border/80","transition-colors","w-full"];function B(n,t){if(n&1&&(l(0,"label",7),p(1),r()),n&2){let e=d();o(),x(" ",e.label," ")}}function A(n,t){if(n&1){let e=f();l(0,"div",12),c("click",function(){let a=g(e).$implicit,b=d(2);return h(b.selectOption(a))}),l(1,"span"),p(2),r()()}if(n&2){let e=t.$implicit,i=d(2);m("bg-brand",i.selectedValue===e.value),o(2),E(e.label)}}function H(n,t){n&1&&(l(0,"div",13),p(1," No options available "),r())}function j(n,t){if(n&1){let e=f();l(0,"div",8),c("click",function(a){return g(e),h(a.stopPropagation())}),l(1,"div",9),u(2,A,3,3,"div",10)(3,H,2,0,"div",11),r()()}if(n&2){let e=d();y("position","fixed")("width",e.dropdownWidth,"px")("top",e.dropdownTop,"px")("left",e.dropdownLeft,"px"),o(2),s("ngForOf",e.options),o(),s("ngIf",e.options.length===0)}}var L=class n{constructor(t){this.elementRef=t}options=[];placeholder="Select...";label="";bgColor="bg-dark-blue";set value(t){this.selectedValue=t}selectionChange=new v;valueChange=new v;selectedValue=null;isOpen=!1;dropdownWidth=0;dropdownTop=0;dropdownLeft=0;onChange=t=>{};onTouched=()=>{};ngOnInit(){}writeValue(t){this.selectedValue=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}selectOption(t){this.selectedValue=t.value,this.isOpen=!1,this.onChange(this.selectedValue),this.onTouched(),this.selectionChange.emit(this.selectedValue),this.valueChange.emit(this.selectedValue)}getSelectedLabel(){return this.selectedValue===null?this.placeholder:this.options.find(e=>e.value===this.selectedValue)?.label||this.placeholder}toggleDropdown(){this.isOpen=!this.isOpen,this.isOpen&&(this.calculateDropdownPosition(),this.onTouched())}calculateDropdownPosition(){let t=this.elementRef.nativeElement.querySelector("button");if(t){let e=t.getBoundingClientRect();this.dropdownWidth=e.width,this.dropdownTop=e.bottom+4,this.dropdownLeft=e.left}}onDocumentClick(t){this.isOpen&&!this.elementRef.nativeElement.contains(t.target)&&(this.isOpen=!1)}static \u0275fac=function(e){return new(e||n)(S(w))};static \u0275cmp=O({type:n,selectors:[["app-select"]],hostBindings:function(e,i){e&1&&c("click",function(b){return i.onDocumentClick(b)},k)},inputs:{options:"options",placeholder:"placeholder",label:"label",bgColor:"bgColor",value:"value"},outputs:{selectionChange:"selectionChange",valueChange:"valueChange"},features:[I([{provide:F,useExisting:_(()=>n),multi:!0}])],decls:9,vars:12,consts:[[1,"relative","w-full"],["class","block text-sm font-medium text-slate-300 mb-2",4,"ngIf"],[1,"relative"],["type","button",3,"click","ngClass"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4","text-slate-400","flex-shrink-0","ml-2","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],["class","z-[99999] mt-1 bg-dark-blue border border-sidebar-border rounded-md shadow-lg max-h-60 overflow-auto",3,"position","width","top","left","click",4,"ngIf"],[1,"block","text-sm","font-medium","text-slate-300","mb-2"],[1,"z-[99999]","mt-1","bg-dark-blue","border","border-sidebar-border","rounded-md","shadow-lg","max-h-60","overflow-auto",3,"click"],[1,"p-1"],["class","flex items-center px-3 py-2 rounded-md cursor-pointer hover:bg-brand-hover transition-colors text-sm text-white",3,"bg-brand","click",4,"ngFor","ngForOf"],["class","px-3 py-2 text-sm text-slate-400 text-center",4,"ngIf"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer","hover:bg-brand-hover","transition-colors","text-sm","text-white",3,"click"],[1,"px-3","py-2","text-sm","text-slate-400","text-center"]],template:function(e,i){e&1&&(l(0,"div",0),u(1,B,2,1,"label",1),l(2,"div",2)(3,"button",3),c("click",function(){return i.toggleDropdown()}),l(4,"span"),p(5),r(),C(),l(6,"svg",4),V(7,"path",5),r()(),u(8,j,4,10,"div",6),r()()),e&2&&(o(),s("ngIf",i.label),o(2),s("ngClass",T(10,N,i.bgColor)),o(),m("text-slate-400",i.selectedValue===null)("text-white",i.selectedValue!==null),o(),x(" ",i.getSelectedLabel()," "),o(),m("rotate-180",i.isOpen),o(2),s("ngIf",i.isOpen))},dependencies:[R,P,D,M],styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1a3254;border-radius:3px}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#475569;border-radius:3px}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64748b}"]})};export{L as a};
