import{Ba as u,Fa as y,G as h,Ga as g,H as f,Hb as i,Ib as a,Lb as E,Mb as N,Oa as m,Pa as v,Qa as w,Ra as C,Vb as H,Yb as j,bb as b,cb as k,cc as O,eb as D,fa as p,fb as P,gb as z,vb as I}from"./chunk-XVI4XSAG.js";import{a as c}from"./chunk-VOSPIT4N.js";var F=["plot"],S=["*"],l=class n{static{this.instances=[]}static{this.plotly=void 0}static{this.moduleName=void 0}static setModuleName(s){n.moduleName=s}static getModuleName(){return n.moduleName}static setPlotly(s){if(typeof s=="object"&&typeof s.react!="function")throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");n.moduleName="PlotlyJS",n.plotly=s}static insert(s){return n.instances.indexOf(s)===-1&&n.instances.push(s),s}static remove(s){let t=n.instances.indexOf(s);t>=0&&(n.instances.splice(t,1),n.plotly.purge(s))}getInstanceByDivId(s){for(let t of n.instances)if(t&&t.id===s)return t}async getPlotly(){return await this.waitFor(()=>this._getPlotly()!=="waiting"),this._getPlotly()}_getPlotly(){if(typeof n.plotly>"u"){let s=n.moduleName==="ViaCDN"?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed";throw new Error(s)}return n.plotly}waitFor(s){return new Promise(t=>{let e=()=>{s()?t():setTimeout(e,10)};e()})}async newPlot(s,t,e,r,o){if(await this.waitFor(()=>this._getPlotly()!=="waiting"),o){let d={data:t,layout:e,config:r,frames:o};return this._getPlotly().newPlot(s,d).then(()=>n.insert(s))}return this._getPlotly().newPlot(s,t,e,r).then(()=>n.insert(s))}plot(s,t,e,r,o){if(o){let d={data:t,layout:e,config:r,frames:o};return this._getPlotly().newPlot(s,d)}return this._getPlotly().newPlot(s,t,e,r)}update(s,t,e,r,o){if(o){let d={data:t,layout:e,config:r,frames:o};return this._getPlotly().react(s,d)}return this._getPlotly().react(s,t,e,r)}resize(s){return this._getPlotly().Plots.resize(s)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=h({token:n,factory:n.\u0275fac,providedIn:"root"})}},x=(()=>{class n{constructor(t,e,r){this.plotly=t,this.iterableDiffers=e,this.keyValueDiffers=r,this.defaultClassName="js-plotly-plot",this.data=a(),this.layout=a(),this.config=a(),this.frames=a(),this.style=a(),this.divId=a(),this.revision=a(0),this.className=a(),this.debug=a(!1),this.useResizeHandler=a(!1),this.updateOnLayoutChange=a(!0),this.updateOnDataChange=a(!0),this.updateOnlyWithRevision=a(!1),this.initialized=i(),this.update=i(),this.purge=i(),this.error=i(),this.afterExport=i(),this.afterPlot=i(),this.animated=i(),this.animatingFrame=i(),this.animationInterrupted=i(),this.autoSize=i(),this.beforeExport=i(),this.beforeHover=i(),this.buttonClicked=i(),this.click=i(),this.plotlyClick=i(),this.clickAnnotation=i(),this.deselect=i(),this.doubleClick=i(),this.framework=i(),this.hover=i(),this.legendClick=i(),this.legendDoubleClick=i(),this.react=i(),this.relayout=i(),this.relayouting=i(),this.restyle=i(),this.redraw=i(),this.selected=i(),this.selecting=i(),this.sliderChange=i(),this.sliderEnd=i(),this.sliderStart=i(),this.sunburstclick=i(),this.transitioning=i(),this.transitionInterrupted=i(),this.unhover=i(),this.treemapclick=i(),this.webglcontextlost=i(),this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","beforeHover","buttonClicked","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","react","relayout","relayouting","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","sunburstclick","transitioning","transitionInterrupted","unhover","treemapclick","webglcontextlost"]}ngOnInit(){this.createPlot().then(()=>{let t=this.createFigure();this.initialized.emit(t)})}ngOnDestroy(){if(typeof this.resizeHandler=="function"&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0),this.plotlyInstance){let t=this.createFigure();this.purge.emit(t),l.remove(this.plotlyInstance)}}ngOnChanges(t){let e=!1,r=t.revision;r&&!r.isFirstChange()&&(e=!0);let o=t.debug;o&&!o.isFirstChange()&&(e=!0),e&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){if(this.updateOnlyWithRevision())return!1;let t=!1;this.updateOnLayoutChange()&&(this.layoutDiffer?this.layoutDiffer.diff(this.layout())&&(t=!0):this.layout()?this.layoutDiffer=this.keyValueDiffers.find(this.layout()).create():this.layoutDiffer=void 0),this.updateOnDataChange()&&(this.dataDiffer?this.dataDiffer.diff(this.data())&&(t=!0):Array.isArray(this.data())?this.dataDiffer=this.iterableDiffers.find(this.data()).create(this.dataDifferTrackBy):this.dataDiffer=void 0),t&&this.plotlyInstance&&this.updatePlot()}getData(){return this.data()??[]}getWindow(){return window}getClassName(){let t=[this.defaultClassName],e=this.className();return Array.isArray(e)?t=t.concat(e):e&&t.push(e),t.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.getData(),this.layout(),this.config(),this.frames()).then(t=>{this.plotlyInstance=t,this.getWindow().gd=this.debug?t:void 0,this.eventNames.forEach(e=>{let r=`plotly_${e.toLowerCase()}`,o=this[e];t.on(r,d=>o.emit(d))}),t.on("plotly_click",e=>{this.plotlyClick.emit(e)}),this.updateWindowResizeHandler()},t=>{console.error("Error while plotting:",t),this.error.emit(t)})}createFigure(){let t=this.plotlyInstance;return{data:t.data,layout:t.layout,frames:t._transitionData?t._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){let e=new Error("Plotly component wasn't initialized");throw this.error.emit(e),e}let t=c({},this.layout());return this.plotly.update(this.plotlyInstance,this.getData(),t,this.config(),this.frames()).then(()=>{let e=this.createFigure();this.update.emit(e)},e=>{console.error("Error while updating plot:",e),this.error.emit(e)})}updateWindowResizeHandler(){this.useResizeHandler()?this.resizeHandler===void 0&&(this.resizeHandler=()=>this.plotly.resize(this.plotlyInstance),this.getWindow().addEventListener("resize",this.resizeHandler)):typeof this.resizeHandler=="function"&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(t,e){let r=Object.assign({},e,{uid:""});return JSON.stringify(r)}static{this.\u0275fac=function(e){return new(e||n)(u(l),u(E),u(N))}}static{this.\u0275cmp=y({type:n,selectors:[["plotly-plot"]],viewQuery:function(e,r){if(e&1&&D(F,7),e&2){let o;P(o=z())&&(r.plotEl=o.first)}},inputs:{data:[1,"data"],layout:[1,"layout"],config:[1,"config"],frames:[1,"frames"],style:[1,"style"],divId:[1,"divId"],revision:[1,"revision"],className:[1,"className"],debug:[1,"debug"],useResizeHandler:[1,"useResizeHandler"],updateOnLayoutChange:[1,"updateOnLayoutChange"],updateOnDataChange:[1,"updateOnDataChange"],updateOnlyWithRevision:[1,"updateOnlyWithRevision"]},outputs:{initialized:"initialized",update:"update",purge:"purge",error:"error",afterExport:"afterExport",afterPlot:"afterPlot",animated:"animated",animatingFrame:"animatingFrame",animationInterrupted:"animationInterrupted",autoSize:"autoSize",beforeExport:"beforeExport",beforeHover:"beforeHover",buttonClicked:"buttonClicked",click:"click",plotlyClick:"plotlyClick",clickAnnotation:"clickAnnotation",deselect:"deselect",doubleClick:"doubleClick",framework:"framework",hover:"hover",legendClick:"legendClick",legendDoubleClick:"legendDoubleClick",react:"react",relayout:"relayout",relayouting:"relayouting",restyle:"restyle",redraw:"redraw",selected:"selected",selecting:"selecting",sliderChange:"sliderChange",sliderEnd:"sliderEnd",sliderStart:"sliderStart",sunburstclick:"sunburstclick",transitioning:"transitioning",transitionInterrupted:"transitionInterrupted",unhover:"unhover",treemapclick:"treemapclick",webglcontextlost:"webglcontextlost"},features:[I([l]),p],ngContentSelectors:S,decls:3,vars:3,consts:[["plot",""],[3,"ngClass","ngStyle"]],template:function(e,r){e&1&&(b(),w(0,"div",1,0),k(2),C()),e&2&&(v("ngClass",r.getClassName())("ngStyle",r.style()),m("id",r.divId()))},dependencies:[O,H,j],encapsulation:2})}}return n})(),T=(()=>{class n{constructor(){if(!this.isValid()){let t="Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.";throw new Error(t)}}isValid(){return l.plotly!==void 0&&(typeof l.plotly.plot=="function"||typeof l.plotly.newPlot=="function")}static forRoot(t){return l.setPlotly(t),{ngModule:n,providers:[l]}}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=g({type:n})}static{this.\u0275inj=f({providers:[l],imports:[x]})}}return n})();export{x as a,T as b};
