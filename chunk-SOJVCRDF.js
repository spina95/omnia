import{a as F}from"./chunk-XYDAMM6N.js";import{Cb as I,Eb as T,Ha as O,K as C,La as V,Pa as p,Va as s,W as v,Wa as l,X as b,Xa as r,Y as w,Ya as y,bc as P,ca as f,cc as D,db as h,dc as M,eb as u,gb as a,kc as R,na as k,qb as E,rb as m,ub as c,vb as x,wb as _,xa as S,ya as o}from"./chunk-TKY7A7V6.js";var N=n=>[n,"border","border-sidebar-border","text-white","text-sm","rounded-md","px-4","py-2.5","h-10","focus:outline-none","focus:ring-2","focus:ring-brand","flex","items-center","justify-between","hover:border-sidebar-border/80","transition-colors","w-full"];function B(n,t){if(n&1&&(l(0,"label",7),c(1),r()),n&2){let e=a();o(),_(" ",e.label," ")}}function A(n,t){if(n&1&&(l(0,"span",15),c(1),r()),n&2){let e=a().$implicit;o(),x(e.description)}}function H(n,t){if(n&1){let e=h();l(0,"div",12),u("click",function(){let d=v(e).$implicit,g=a(2);return b(g.selectOption(d))}),l(1,"div",13)(2,"span"),c(3),r(),p(4,A,2,1,"span",14),r()()}if(n&2){let e=t.$implicit,i=a(2);m("bg-brand",i.selectedValue===e.value),o(3),x(e.label),o(),s("ngIf",e.description)}}function j(n,t){n&1&&(l(0,"div",16),c(1," No options available "),r())}function W(n,t){if(n&1){let e=h();l(0,"div",8),u("click",function(d){return v(e),b(d.stopPropagation())}),l(1,"div",9),p(2,H,5,4,"div",10)(3,j,2,0,"div",11),r()()}if(n&2){let e=a();E("position","fixed")("width",e.dropdownWidth,"px")("top",e.dropdownTop,"px")("left",e.dropdownLeft,"px"),o(2),s("ngForOf",e.options),o(),s("ngIf",e.options.length===0)}}var L=class n{constructor(t){this.elementRef=t}options=[];placeholder="Select...";label="";bgColor="bg-dark-blue";set value(t){this.selectedValue=t}selectionChange=new f;valueChange=new f;selectedValue=null;isOpen=!1;dropdownWidth=0;dropdownTop=0;dropdownLeft=0;onChange=t=>{};onTouched=()=>{};ngOnInit(){}writeValue(t){this.selectedValue=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}selectOption(t){this.selectedValue=t.value,this.isOpen=!1,this.onChange(this.selectedValue),this.onTouched(),this.selectionChange.emit(this.selectedValue),this.valueChange.emit(this.selectedValue)}getSelectedLabel(){return this.selectedValue===null?this.placeholder:this.options.find(e=>e.value===this.selectedValue)?.label||this.placeholder}toggleDropdown(){this.isOpen=!this.isOpen,this.isOpen&&(this.calculateDropdownPosition(),this.onTouched())}calculateDropdownPosition(){let t=this.elementRef.nativeElement.querySelector("button");if(t){let e=t.getBoundingClientRect();this.dropdownWidth=e.width,this.dropdownTop=e.bottom+4,this.dropdownLeft=e.left}}onDocumentClick(t){this.isOpen&&!this.elementRef.nativeElement.contains(t.target)&&(this.isOpen=!1)}static \u0275fac=function(e){return new(e||n)(O(k))};static \u0275cmp=V({type:n,selectors:[["app-select"]],hostBindings:function(e,i){e&1&&u("click",function(g){return i.onDocumentClick(g)},S)},inputs:{options:"options",placeholder:"placeholder",label:"label",bgColor:"bgColor",value:"value"},outputs:{selectionChange:"selectionChange",valueChange:"valueChange"},features:[I([{provide:F,useExisting:C(()=>n),multi:!0}])],decls:9,vars:12,consts:[[1,"relative","w-full"],["class","block text-sm font-medium text-slate-300 mb-2",4,"ngIf"],[1,"relative"],["type","button",3,"click","ngClass"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-4","w-4","text-slate-400","flex-shrink-0","ml-2","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],["class","z-[99999] mt-1 bg-dark-blue border border-sidebar-border rounded-md shadow-lg max-h-60 overflow-auto",3,"position","width","top","left","click",4,"ngIf"],[1,"block","text-sm","font-medium","text-slate-300","mb-2"],[1,"z-[99999]","mt-1","bg-dark-blue","border","border-sidebar-border","rounded-md","shadow-lg","max-h-60","overflow-auto",3,"click"],[1,"p-1"],["class","flex items-center px-3 py-2 rounded-md cursor-pointer hover:bg-brand-hover transition-colors text-sm text-white",3,"bg-brand","click",4,"ngFor","ngForOf"],["class","px-3 py-2 text-sm text-slate-400 text-center",4,"ngIf"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer","hover:bg-brand-hover","transition-colors","text-sm","text-white",3,"click"],[1,"flex","flex-col"],["class","text-xs text-slate-400 mt-0.5",4,"ngIf"],[1,"text-xs","text-slate-400","mt-0.5"],[1,"px-3","py-2","text-sm","text-slate-400","text-center"]],template:function(e,i){e&1&&(l(0,"div",0),p(1,B,2,1,"label",1),l(2,"div",2)(3,"button",3),u("click",function(){return i.toggleDropdown()}),l(4,"span"),c(5),r(),w(),l(6,"svg",4),y(7,"path",5),r()(),p(8,W,4,10,"div",6),r()()),e&2&&(o(),s("ngIf",i.label),o(2),s("ngClass",T(10,N,i.bgColor)),o(),m("text-slate-400",i.selectedValue===null)("text-white",i.selectedValue!==null),o(),_(" ",i.getSelectedLabel()," "),o(),m("rotate-180",i.isOpen),o(2),s("ngIf",i.isOpen))},dependencies:[R,P,D,M],styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1a3254;border-radius:3px}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#475569;border-radius:3px}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64748b}"]})};export{L as a};
