import{a as de}from"./chunk-K4IBSADU.js";import{c as Q,e as X,f as Z,i as $}from"./chunk-XJCOY2KY.js";import{a as se}from"./chunk-HXMWFU3U.js";import{a as O}from"./chunk-DN5MZO4F.js";import"./chunk-Z5ETMUR3.js";import{a as re}from"./chunk-LCGV56PL.js";import{b as ee,d as te,e as ne,f as ie,g as oe,h as ae,q as le}from"./chunk-2ABDYA72.js";import{Da as y,Ha as _,Kb as J,L as A,Lb as K,Mb as S,Na as d,Oa as t,Pa as o,Q as g,Qa as m,R as f,Ra as U,Rb as w,S as u,Sa as G,T as h,Ta as H,Ua as B,Va as W,Wa as x,Xa as c,Y as C,Ya as R,Za as b,ba as k,fb as s,gb as p,hb as N,ib as Y,kb as M,lb as E,mb as T,pb as q,ra as i,za as D}from"./chunk-N2NO2H5W.js";import"./chunk-VOSPIT4N.js";function ce(r,a){r&1&&(t(0,"h1",35),p(1," Omnia "),o())}function me(r,a){r&1&&(u(),m(0,"path",36))}function ue(r,a){r&1&&(u(),m(0,"path",37))}function ge(r,a){r&1&&(t(0,"h2",38),p(1," Manage "),o())}function fe(r,a){r&1&&(t(0,"h2",38),p(1," Configuration "),o())}function be(r,a){r&1&&(t(0,"span",39),p(1,"Sign Out"),o())}var z=class r{constructor(a){this.auth=a}collapsed=!1;toggle=new C;toggleCollapse(){this.toggle.emit()}signOut(){this.auth.signOut()}static \u0275fac=function(n){return new(n||r)(D($))};static \u0275cmp=y({type:r,selectors:[["app-sidebar"]],inputs:{collapsed:"collapsed"},outputs:{toggle:"toggle"},decls:58,vars:169,consts:[[1,"flex","flex-col","h-full","bg-sidebar","border-r","border-sidebar-border","text-zinc-400","font-sans","text-sm","transition-all","duration-300"],[1,"h-14","flex","items-center","border-b","border-sidebar-border","mb-4","transition-all","duration-300"],[1,"h-6","w-6","rounded","bg-brand","flex-shrink-0","flex","items-center","justify-center","text-black","font-bold","text-xs"],["class","font-semibold text-zinc-100 tracking-tight ml-3 whitespace-nowrap overflow-hidden",4,"ngIf"],[1,"ml-auto","p-1.5","rounded-md","hover:bg-sidebar-hover","text-zinc-400","hover:text-white","transition-colors",3,"click","title"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M11 19l-7-7 7-7m8 14l-7-7 7-7",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","d","M13 5l7 7-7 7M5 5l7 7-7 7",4,"ngIf"],[1,"flex-1","overflow-y-auto","py-2","w-full"],[1,"mb-6","w-full"],["class","text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-2 px-2 whitespace-nowrap overflow-hidden",4,"ngIf"],[1,"space-y-0.5"],["routerLink","/home","routerLinkActive","bg-brand/10 text-brand",1,"flex","items-center","py-1.5","rounded-md","hover:bg-sidebar-hover","group","transition-colors","relative",3,"title"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","opacity-70","group-hover:opacity-100","transition-all","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],[1,"whitespace-nowrap","overflow-hidden","transition-all","duration-300"],["routerLink","/incomes","routerLinkActive","bg-brand/10 text-brand",1,"flex","items-center","py-1.5","rounded-md","hover:bg-sidebar-hover","group","transition-colors","relative",3,"title"],["stroke-linecap","round","stroke-linejoin","round","d","M19 14l-7 7m0 0l-7-7m7 7V3"],["routerLink","/outcomes","routerLinkActive","bg-brand/10 text-brand",1,"flex","items-center","py-1.5","rounded-md","hover:bg-sidebar-hover","group","transition-colors","relative",3,"title"],["stroke-linecap","round","stroke-linejoin","round","d","M5 10l7-7m0 0l7 7m-7-7v18"],["routerLink","/budgets","routerLinkActive","bg-brand/10 text-brand",1,"flex","items-center","py-1.5","rounded-md","hover:bg-sidebar-hover","group","transition-colors","relative",3,"title"],["stroke-linecap","round","stroke-linejoin","round","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["routerLink","/travel-map","routerLinkActive","bg-brand/10 text-brand",1,"flex","items-center","py-1.5","rounded-md","hover:bg-sidebar-hover","group","transition-colors","relative",3,"title"],["stroke-linecap","round","stroke-linejoin","round","d","M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.9c.52 0 1.02.18 1.41 1.42l1.42 1.42a1.99 1.99 0 002.83 0l1.42-1.42A1.99 1.99 0 0118 3.9c.52 0 1.02.18 1.41 1.42l1.42 1.42a1.99 1.99 0 010 2.83l-1.42 1.42a1.99 1.99 0 00-2.83 0l-1.42-1.42a1.99 1.99 0 01-2.83 0l-1.42 1.42a1.99 1.99 0 00-2.83 0l-1.42-1.42A1.99 1.99 0 013.055 3.9z"],["routerLink","/documents","routerLinkActive","bg-brand/10 text-brand",1,"flex","items-center","py-1.5","rounded-md","hover:bg-sidebar-hover","group","transition-colors","relative",3,"title"],["stroke-linecap","round","stroke-linejoin","round","d","M7 7h10v10H7z"],["stroke-linecap","round","stroke-linejoin","round","d","M7 3h6l4 4v10"],["href","#",1,"flex","items-center","py-1.5","rounded-md","hover:bg-sidebar-hover","group","transition-colors","relative",3,"title"],["stroke-linecap","round","stroke-linejoin","round","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"p-4","border-t","border-sidebar-border"],[1,"flex","w-full","items-center","py-2","text-sm","font-medium","rounded-md","text-zinc-400","hover:text-zinc-100","hover:bg-sidebar-hover","transition-colors","group",3,"click","title"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5","flex-shrink-0","transition-all","group-hover:text-red-400"],["stroke-linecap","round","stroke-linejoin","round","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["class","whitespace-nowrap overflow-hidden group-hover:text-red-400",4,"ngIf"],[1,"font-semibold","text-zinc-100","tracking-tight","ml-3","whitespace-nowrap","overflow-hidden"],["stroke-linecap","round","stroke-linejoin","round","d","M11 19l-7-7 7-7m8 14l-7-7 7-7"],["stroke-linecap","round","stroke-linejoin","round","d","M13 5l7 7-7 7M5 5l7 7-7 7"],[1,"text-xs","font-semibold","text-zinc-500","uppercase","tracking-wider","mb-2","px-2","whitespace-nowrap","overflow-hidden"],[1,"whitespace-nowrap","overflow-hidden","group-hover:text-red-400"]],template:function(n,e){n&1&&(t(0,"nav",0)(1,"div",1)(2,"div",2),p(3," O "),o(),_(4,ce,2,0,"h1",3),t(5,"button",4),c("click",function(){return e.toggleCollapse()}),u(),t(6,"svg",5),_(7,me,1,0,"path",6)(8,ue,1,0,"path",7),o()()(),h(),t(9,"div",8)(10,"div",9),_(11,ge,2,0,"h2",10),t(12,"div",11)(13,"a",12),u(),t(14,"svg",13),m(15,"path",14),o(),h(),t(16,"span",15),p(17,"Dashboard"),o()(),t(18,"a",16),u(),t(19,"svg",13),m(20,"path",17),o(),h(),t(21,"span",15),p(22,"Incomes"),o()(),t(23,"a",18),u(),t(24,"svg",13),m(25,"path",19),o(),h(),t(26,"span",15),p(27,"Outcomes"),o()(),t(28,"a",20),u(),t(29,"svg",13),m(30,"path",21),o(),h(),t(31,"span",15),p(32,"Budgets"),o()(),t(33,"a",22),u(),t(34,"svg",13),m(35,"path",23),o(),h(),t(36,"span",15),p(37,"Travel Map"),o()(),t(38,"a",24),u(),t(39,"svg",13),m(40,"path",25)(41,"path",26),o(),h(),t(42,"span",15),p(43,"Documents"),o()()()(),t(44,"div",9),_(45,fe,2,0,"h2",10),t(46,"div",11)(47,"a",27),u(),t(48,"svg",13),m(49,"path",28)(50,"path",29),o(),h(),t(51,"span",15),p(52,"Settings"),o()()()()(),t(53,"div",30)(54,"button",31),c("click",function(){return e.signOut()}),u(),t(55,"svg",32),m(56,"path",33),o(),_(57,be,2,0,"span",34),o()()()),n&2&&(s("items-center",e.collapsed)("w-20",e.collapsed)("w-64",!e.collapsed),i(),s("px-6",!e.collapsed)("px-0",e.collapsed)("justify-center",e.collapsed),i(3),d("ngIf",!e.collapsed),i(),d("title",e.collapsed?"Expand Sidebar":"Collapse Sidebar"),i(2),d("ngIf",!e.collapsed),i(),d("ngIf",e.collapsed),i(2),s("px-2",e.collapsed)("px-4",!e.collapsed),i(),d("ngIf",!e.collapsed),i(2),s("px-2",!e.collapsed)("justify-center",e.collapsed),d("title",e.collapsed?"Dashboard":""),i(),s("mr-3",!e.collapsed),i(2),s("w-0",e.collapsed)("opacity-0",e.collapsed)("ml-0",e.collapsed)("w-auto",!e.collapsed)("opacity-100",!e.collapsed)("ml-3",!e.collapsed),i(2),s("px-2",!e.collapsed)("justify-center",e.collapsed),d("title",e.collapsed?"Incomes":""),i(),s("mr-3",!e.collapsed),i(2),s("w-0",e.collapsed)("opacity-0",e.collapsed)("ml-0",e.collapsed)("w-auto",!e.collapsed)("opacity-100",!e.collapsed)("ml-3",!e.collapsed),i(2),s("px-2",!e.collapsed)("justify-center",e.collapsed),d("title",e.collapsed?"Outcomes":""),i(),s("mr-3",!e.collapsed),i(2),s("w-0",e.collapsed)("opacity-0",e.collapsed)("ml-0",e.collapsed)("w-auto",!e.collapsed)("opacity-100",!e.collapsed)("ml-3",!e.collapsed),i(2),s("px-2",!e.collapsed)("justify-center",e.collapsed),d("title",e.collapsed?"Budgets":""),i(),s("mr-3",!e.collapsed),i(2),s("w-0",e.collapsed)("opacity-0",e.collapsed)("ml-0",e.collapsed)("w-auto",!e.collapsed)("opacity-100",!e.collapsed)("ml-3",!e.collapsed),i(2),s("px-2",!e.collapsed)("justify-center",e.collapsed),d("title",e.collapsed?"Travel Map":""),i(),s("mr-3",!e.collapsed),i(2),s("w-0",e.collapsed)("opacity-0",e.collapsed)("ml-0",e.collapsed)("w-auto",!e.collapsed)("opacity-100",!e.collapsed)("ml-3",!e.collapsed),i(2),s("px-2",!e.collapsed)("justify-center",e.collapsed),d("title",e.collapsed?"Documents":""),i(),s("mr-3",!e.collapsed),i(3),s("w-0",e.collapsed)("opacity-0",e.collapsed)("ml-0",e.collapsed)("w-auto",!e.collapsed)("opacity-100",!e.collapsed)("ml-3",!e.collapsed),i(2),s("px-2",e.collapsed)("px-4",!e.collapsed),i(),d("ngIf",!e.collapsed),i(2),s("px-2",!e.collapsed)("justify-center",e.collapsed),d("title",e.collapsed?"Settings":""),i(),s("mr-3",!e.collapsed),i(3),s("w-0",e.collapsed)("opacity-0",e.collapsed)("ml-0",e.collapsed)("w-auto",!e.collapsed)("opacity-100",!e.collapsed)("ml-3",!e.collapsed),i(2),s("px-2",e.collapsed),i(),s("justify-center",e.collapsed)("px-2",!e.collapsed),d("title",e.collapsed?"Sign Out":""),i(),s("mr-3",!e.collapsed),i(2),d("ngIf",!e.collapsed))},dependencies:[w,S,X,Z],encapsulation:2})};var L=class r{openExpenseDialog=new C;onAddExpense(){this.openExpenseDialog.emit()}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=y({type:r,selectors:[["app-fab"]],outputs:{openExpenseDialog:"openExpenseDialog"},decls:3,vars:0,consts:[["aria-label","Add expense","title","Add expense",1,"md:hidden","fixed","bottom-6","right-6","w-14","h-14","bg-brand","text-black","rounded-full","shadow-lg","flex","items-center","justify-center","hover:bg-brand/90","transition-all","duration-300","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-brand","focus:ring-offset-2","focus:ring-offset-transparent","z-50","group",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","3",1,"w-6","h-6","transition-transform","duration-300","group-hover:scale-110"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4v16m8-8H4"]],template:function(n,e){n&1&&(U(0,"button",0),R("click",function(){return e.onAddExpense()}),u(),U(1,"svg",1),H(2,"path",2),G()())},dependencies:[w],encapsulation:2})};function ve(r,a){r&1&&m(0,"span",20)}function he(r,a){if(r&1){let n=x();t(0,"div",1),c("click",function(){g(n);let l=b();return f(l.close())}),t(1,"div",2),c("click",function(l){return g(n),f(l.stopPropagation())}),t(2,"div",3)(3,"h2",4),p(4,"Upload Document"),o(),t(5,"button",5),c("click",function(){g(n);let l=b();return f(l.close())}),u(),t(6,"svg",6),m(7,"path",7),o()()(),h(),t(8,"div",8)(9,"form",9)(10,"div")(11,"label",10),p(12,"File "),t(13,"span",11),p(14,"*"),o()(),t(15,"input",12),c("change",function(l){g(n);let v=b();return f(v.onFileChange(l))}),o()(),t(16,"div")(17,"label",10),p(18,"Category"),o(),t(19,"app-select",13),T("ngModelChange",function(l){g(n);let v=b();return E(v.selectedCategory,l)||(v.selectedCategory=l),f(l)}),c("ngModelChange",function(l){g(n);let v=b();return f(v.onCategoryModelChange(l))}),o()(),t(20,"div")(21,"label",10),p(22,"Name"),o(),t(23,"input",14),T("ngModelChange",function(l){g(n);let v=b();return E(v.name,l)||(v.name=l),f(l)}),o()(),t(24,"div")(25,"label",10),p(26,"Description"),o(),t(27,"textarea",15),T("ngModelChange",function(l){g(n);let v=b();return E(v.description,l)||(v.description=l),f(l)}),o()()()(),t(28,"div",16)(29,"button",17),c("click",function(){g(n);let l=b();return f(l.close())}),p(30,"Cancel"),o(),t(31,"button",18),c("click",function(){g(n);let l=b();return f(l.submit())}),_(32,ve,1,0,"span",19),p(33),o()()()()}if(r&2){let n=b();i(19),M("ngModel",n.selectedCategory),d("options",n.categoriesOptions),i(4),M("ngModel",n.name),i(4),M("ngModel",n.description),i(2),d("disabled",n.uploading),i(2),d("disabled",n.uploading||!n.file),i(),d("ngIf",n.uploading),i(),Y(" ",n.uploading?"Uploading...":"Upload"," ")}}var I=class r{constructor(a,n){this.documentsService=a;this.notificationService=n;this.loadCategories()}isOpen=!1;closeDialog=new C;uploaded=new C;categories=[];categoriesOptions=[];selectedCategory=null;description="";name="";file=null;uploading=!1;async loadCategories(){this.categories=await this.documentsService.listCategories(),this.categoriesOptions=[{value:null,label:"Uncategorized"},...this.categories.map(a=>({value:Number(a.id),label:a.name}))]}onCategoryModelChange(a){console.debug("UploadDocumentDialog: ngModelChange selectedCategory =>",a),this.selectedCategory=a!=null?Number(a):null}onFileChange(a){this.file=a.target.files?.[0]??null,this.file&&!this.name&&(this.name=this.file.name)}async submit(){if(this.file){this.uploading=!0;try{let a=`${Date.now()}_${this.file.name}`;await this.documentsService.uploadFile(this.file,a),console.debug("UploadDocumentDialog: selectedCategory (raw) =",this.selectedCategory);let n=this.selectedCategory!==null&&this.selectedCategory!==void 0?Number(this.selectedCategory):null;console.debug("UploadDocumentDialog: categoryId (coerced) =",n);let e=await this.documentsService.createDocumentMetadata({name:this.name,description:this.description,storage_path:a,storage_bucket:"documents",content_type:this.file.type,size:this.file.size,category_id:n});if(e&&e.id)try{await this.documentsService.updateDocument(e.id,{category_id:n})}catch(l){console.debug("UploadDocumentDialog: updateDocument failed",l?.message||l)}this.notificationService.success("Document uploaded"),window.dispatchEvent(new CustomEvent("documentsUpdated")),this.uploaded.emit(),this.closeDialog.emit()}finally{this.uploading=!1}}}close(){this.closeDialog.emit()}static \u0275fac=function(n){return new(n||r)(D(de),D(O))};static \u0275cmp=y({type:r,selectors:[["app-upload-document-dialog"]],inputs:{isOpen:"isOpen"},outputs:{closeDialog:"closeDialog",uploaded:"uploaded"},decls:1,vars:1,consts:[["class","fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",3,"click",4,"ngIf"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4","animate-fade-in",3,"click"],[1,"bg-zinc-900","rounded-lg","border","border-zinc-800","shadow-2xl","max-w-lg","w-full","overflow-hidden","animate-scale-in",3,"click"],[1,"px-6","py-4","border-b","border-zinc-800","flex","items-center","justify-between","bg-zinc-900/50"],[1,"text-xl","font-semibold","text-white"],[1,"text-zinc-400","hover:text-white","transition-colors","p-1","hover:bg-zinc-800","rounded",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-6","py-6"],[1,"space-y-5"],[1,"block","text-sm","font-medium","text-zinc-300","mb-2"],[1,"text-red-400"],["type","file",1,"w-full","px-4","py-2.5","bg-zinc-950","border","border-zinc-700","rounded-md","text-zinc-200","placeholder-zinc-500","focus:outline-none","focus:border-brand","focus:ring-1","focus:ring-brand",3,"change"],["placeholder","Uncategorized","bgColor","bg-zinc-950","name","category",3,"ngModelChange","ngModel","options"],["name","name",1,"w-full","px-4","py-2.5","bg-zinc-950","border","border-zinc-700","rounded-md","text-zinc-200","placeholder-zinc-500","focus:outline-none","focus:border-brand","focus:ring-1","focus:ring-brand",3,"ngModelChange","ngModel"],["rows","3",1,"w-full","px-4","py-2.5","bg-zinc-950","border","border-zinc-700","rounded-md","text-zinc-200","placeholder-zinc-500","focus:outline-none","focus:border-brand","focus:ring-1","focus:ring-brand",3,"ngModelChange","ngModel"],[1,"px-6","py-4","border-t","border-zinc-800","bg-zinc-900/50","flex","items-center","justify-end","gap-3"],[1,"px-4","py-2","text-sm","font-medium","text-zinc-300","hover:text-white","bg-transparent","border","border-zinc-700","rounded-md","hover:bg-zinc-800","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-4","py-2","text-sm","font-medium","text-black","bg-brand","rounded-md","hover:bg-brand/90","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-2",3,"click","disabled"],["class","animate-spin h-4 w-4 border-2 border-black border-t-transparent rounded-full",4,"ngIf"],[1,"animate-spin","h-4","w-4","border-2","border-black","border-t-transparent","rounded-full"]],template:function(n,e){n&1&&_(0,he,34,8,"div",0),n&2&&d("ngIf",e.isOpen)},dependencies:[w,S,le,ae,ee,te,ne,oe,ie,re],styles:[".bg-background-card[_ngcontent-%COMP%]{background-color:var(--bg-card, #0b1220)}.border-sidebar-border[_ngcontent-%COMP%]{border-color:#ffffff0a}"]})};var _e=(r,a,n)=>({"bg-white/6 border-l-4":!0,"border-green-400 text-white":r,"border-red-400 text-white":a,"border-slate-400 text-white":n});function ye(r,a){if(r&1){let n=x();B(0),t(1,"div",3)(2,"div",4)(3,"div",5),p(4),o(),t(5,"div",6),p(6),o()(),t(7,"div",7)(8,"button",8),c("click",function(){let l=g(n).$implicit,v=b();return f(v.dismiss(l.id))}),p(9,"\u2715"),o()()(),W()}if(r&2){let n=a.$implicit;i(),d("ngClass",q(3,_e,n.type==="success",n.type==="error",n.type==="info")),i(3),N(n.title||(n.type==="success"?"Success":n.type==="error"?"Error":"Info")),i(2),N(n.description||n.message)}}var j=class r{notificationService=A(O);get notifications(){return this.notificationService.notifications()}dismiss(a){this.notificationService.dismiss(a)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=y({type:r,selectors:[["app-toast"]],decls:3,vars:1,consts:[[1,"fixed","top-4","left-1/2","transform","-translate-x-1/2","md:left-auto","md:right-4","md:translate-x-0","z-50","pointer-events-none"],[1,"space-y-3"],[4,"ngFor","ngForOf"],[1,"pointer-events-auto","rounded-lg","px-4","py-3","max-w-xs","w-full","flex","items-start","gap-3","text-sm","shadow-lg",3,"ngClass"],[1,"flex-1"],[1,"font-semibold","text-sm","mb-0.5"],[1,"text-xs","text-white/90"],[1,"shrink-0","self-start"],[1,"text-white/70","hover:text-white",3,"click"]],template:function(n,e){n&1&&(t(0,"div",0)(1,"div",1),_(2,ye,10,7,"ng-container",2),o()()),n&2&&(i(2),d("ngForOf",e.notifications))},dependencies:[w,J,K],styles:[".toast-enter[_ngcontent-%COMP%]{transform:translateY(-6px) scale(.98);opacity:0}.toast-enter-active[_ngcontent-%COMP%]{transform:translateY(0) scale(1);opacity:1;transition:transform .18s cubic-bezier(.2,.9,.2,1),opacity .18s ease}.toast-exit[_ngcontent-%COMP%]{opacity:1}.toast-exit-active[_ngcontent-%COMP%]{opacity:0;transform:translateY(-4px);transition:opacity .15s ease,transform .15s ease}"]})};function we(r,a){if(r&1){let n=x();t(0,"div",17),c("click",function(){g(n);let l=b();return f(l.toggleMobileMenu())}),o()}}var pe=class r{isMobileMenuOpen=k(!1);isDesktopSidebarCollapsed=k(!1);isExpenseDialogOpen=k(!1);isUploadDialogOpen=k(!1);constructor(){window.addEventListener("openUploadDialog",()=>{this.isUploadDialogOpen.set(!0)})}toggleMobileMenu(){this.isMobileMenuOpen.update(a=>!a)}toggleDesktopSidebar(){this.isDesktopSidebarCollapsed.update(a=>!a)}onOpenExpenseDialog(){this.isExpenseDialogOpen.set(!0)}onCloseExpenseDialog(){this.isExpenseDialogOpen.set(!1)}onCloseUploadDialog(){this.isUploadDialogOpen.set(!1)}onDocumentUploaded(){}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=y({type:r,selectors:[["app-main-layout"]],decls:21,vars:12,consts:[[1,"flex","h-screen","bg-background","overflow-hidden"],["class","fixed inset-0 z-40 bg-black/80 backdrop-blur-sm md:hidden",3,"click",4,"ngIf"],[1,"fixed","inset-y-0","left-0","z-50","transform","transition-all","duration-300","ease-in-out","md:relative","md:translate-x-0","md:flex","flex-shrink-0","bg-sidebar","border-r","border-sidebar-border"],[3,"toggle","collapsed"],[1,"flex","flex-col","flex-1","min-w-0","overflow-hidden"],[1,"md:hidden","flex","items-center","justify-between","px-4","py-3","bg-sidebar","border-b","border-sidebar-border"],[1,"text-zinc-400","hover:text-white",3,"click"],[1,"sr-only"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"text-lg","font-bold","text-white"],[1,"w-6"],[1,"flex-1","overflow-auto","bg-background","relative"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8","h-full"],[3,"openExpenseDialog"],[3,"closeDialog","isOpen"],[3,"closeDialog","uploaded","isOpen"],[1,"fixed","inset-0","z-40","bg-black/80","backdrop-blur-sm","md:hidden",3,"click"]],template:function(n,e){n&1&&(t(0,"div",0),_(1,we,1,0,"div",1),t(2,"aside",2)(3,"app-sidebar",3),c("toggle",function(){return e.toggleDesktopSidebar()}),o()(),t(4,"div",4)(5,"header",5)(6,"button",6),c("click",function(){return e.toggleMobileMenu()}),t(7,"span",7),p(8,"Open menu"),o(),u(),t(9,"svg",8),m(10,"path",9),o()(),h(),t(11,"span",10),p(12,"Omnia"),o(),m(13,"div",11),o(),t(14,"main",12)(15,"div",13),m(16,"router-outlet"),o(),t(17,"app-fab",14),c("openExpenseDialog",function(){return e.onOpenExpenseDialog()}),o(),t(18,"app-expense-dialog",15),c("closeDialog",function(){return e.onCloseExpenseDialog()}),o(),t(19,"app-upload-document-dialog",16),c("closeDialog",function(){return e.onCloseUploadDialog()})("uploaded",function(){return e.onDocumentUploaded()}),o(),m(20,"app-toast"),o()()()),n&2&&(i(),d("ngIf",e.isMobileMenuOpen()),i(),s("-translate-x-full",!e.isMobileMenuOpen())("translate-x-0",e.isMobileMenuOpen())("w-64",!e.isDesktopSidebarCollapsed())("w-20",e.isDesktopSidebarCollapsed()),i(),d("collapsed",e.isDesktopSidebarCollapsed()),i(15),d("isOpen",e.isExpenseDialogOpen()),i(),d("isOpen",e.isUploadDialogOpen()))},dependencies:[w,S,Q,z,L,se,I,j],encapsulation:2})};export{pe as MainLayoutComponent};
